{"url_object_id": "7e4260c7a2888b9b4ffefa365ba2691d", "title": "追思杰出的 Linux 内核开发者李少华", "url": "http://blog.jobbole.com/114630/", "create_date": "2019/01/08", "front_image_url": ["https://wx2.sinaimg.cn/large/769847c7ly1fypz9oq2xwj20u017ghdt.jpg"], "praise_nums": "2", "fav_nums": "1", "comment": "1", "tags": "其他,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://weibo.com/ttarticle/p/show?id=2309404323330038621366#_0\">Coly Li  （@Coly_Li  ）</a>   </div><p align=\"justify\">2018 年最后一天，我在商场溜娃，忽然看到少华妻子的朋友圈提到李少华于 12 月 28 日离开了我们。我知道少华前阵子身体不好但有好转，这心痛的消息来得太突然，眼泪一下就出来了。家人也发现了我忽然情绪低沉，我忍不住眼泪颤抖的说“少华走了”。</p>\n<p align=\"justify\">李少华是我们这一辈 Linux 内核开发者之中的杰出代表，应该说是目前华人圈最优秀和最重要的 Linux 内核开发者之一，他除了是内核子系统 MD（软raid）的维护者之外，在块设备层、I/O 调度器、NVMe、内存管理、电源管理等领域都做出了非常重要的工作。他的代码和对内核的改进，融合在整个内核在 IO 和存储站的方方面面，真的是通过很具体的工作，贡献了正能量，让这世界变得更美好了些许。</p>\n<p align=\"justify\">和少华家人联系后得知，在最后的时候，少华还时不时的提起“我有了一个新的想法”，“这段代码路径还可以再优化改进”。这是一个多么纯粹的人，对系统软件技术充满的虔诚的纯真的热爱，我心想恐怕也只有这般专注，才能成为一个改变世界的人。很多人活一辈子，恐怕也没有少华这三十几年来的闪亮和耀眼。一辈子活成这样，从个人来说，没有遗憾，是我们心目中的英雄！</p>\n<p align=\"justify\">我和少华最直接的工作交集，我印象最深的有两件事情。</p>\n<p align=\"justify\">第一件事情是我在解决 MD raid1在 NVMe SSD 上的读写性能瓶颈时，少华认为我的修改可能会在多层 MD 设备堆叠的时候引入死锁，而我认为不会。我们在邮件列表里来回讨论了很多次，他指导我来理解MD代码中的一些细节，最终我们发现 MD raid1 在发射 IO 的时候会从另外一个 raid1d() 线程来处理，所以不会在 generic_make_request() 里面发生死锁，少华鼓励我“这是很好的讨论”，然后接受了我的 patch。而后来少华还发现了我的 patch 里的其他问题，直接就修掉了。在少华的帮助下，除了我们将 MD raid1 的读性能提升了好几倍之外，我也对 MD 的基本原理有了更深刻的认识。</p>\n<p align=\"justify\">第二件事情是有用户报告 MD raid0 在 NVMe SSD 上做 trim 的时候时间非常久，我自己测试在 15T 的 NVMe raid0 设备上格式化 xfs 文件系统（加trim）需要 300 多秒，绝大多数时间都用在 trim 这里了，这是很不正常的。少华分析这是因为 raid0 会将上层发来的 discard bio 按照 stripe 大小做切分，然后再发送到 raid0 组成的不同硬盘上去，所以当 raid0 容量比较大的时候，原本的一个 discard bio 可能会被切分成几百甚至上千万个小 bio 来处理，这性能一下就降低了。</p>\n<p align=\"justify\">我们的思路是将切分后的 bio 再根据每一个 raid0 的组件设备拼接起来，最后可以组成连续的一个或者极少数几个 bio，然后再将拼接后的bio发送到每一个组件设备上去，这样就可以降低几百万个 bio 了。我先写了一个很复杂的 patch，来准确的将所有切分的 bio 按照每个设备一个 bio 的方式拼接起来。虽然拼接出来的 bio 最少，但是代码非常难读懂。少华后来做了一个实现，大概几十行代码，做了一个次优化版本：</p>\n<p class=\"picbox\" style=\"text-align: center;\"><img class=\"aligncenter\" src=\"https://wx2.sinaimg.cn/large/769847c7ly1fypz9oq2xwj20u017ghdt.jpg\" alt=\"raid0_handle_discard()核心代码片段\"><span class=\"picinfo\">raid0_handle_discard()核心代码片段</span></p>\n<p align=\"justify\">少华的代码，通过一个很优雅的循环，就完成了将分布在不同组件设备上的 bio 的拼接，并且在绝大多数通常情况下，拼接效果和我的复杂代码一样，速度还更快！最后我测试出来，少华的这个代码可以将在 raid0 上格式化 xfs 文件系统的速度从 300 多秒降低到 20 多秒。当我阅读少华的 patch 时，心中充满的欣赏和愉悦，能看到一段更优雅和高效的代码，真的是非常愉悦的事情，而且这种好心情可以持续很久，每每想起都会觉得开心。</p>\n<p align=\"justify\">再后来我接手了 bcache 子系统的维护工作，和少华一起密切合作的机会就少了很多。但我一直在关注他在内核里的工作，看到他继续在做的很多优秀的工作。非常切合实际的说，少华是为 Linux 内核做贡献的最杰出和最重要的中国人之一，从全球华人的范围来看他的工作重要性也能够进入前 20 位。而他还这么年轻，还不到 40 岁，实在是我们这辈人之中的璀璨明星，能和他一起工作是我的骄傲和荣幸！</p>\n<p align=\"justify\">在写这些文字的时候，不禁回想起从最初认识少华，那时他在 Intel OTC 我在 SUSE Labs，他在做性能相关，我在做文件系统。然后2009 年我们在 CLSF[1] 会议上第一次见面，然后 2010 年他和其他 Intel 朋友一起帮忙在 Intel 紫竹园区举行第二届 CLSF。再后来他离开了 Intel 去了存储领域创新独角兽公司 Fusion IO，在 PCIe SSD、IO 调度器和块设备层做了大量的优秀工作。在我加入阿里组建淘宝内核组的时候，他已经决定去 Facebook 内核团队，和 Jens Axboe、Chiris Mason、Tanjun Heo 等国际顶级内核黑客一起工作，很遗憾没有机会和他做同事。少华一直是我们这一批人中最耀眼最杰出的极少数几个人。我在 2016 年遇到参加 Kernel Summit 的 Tanjun Heo 的时候，他特意反复几次的提到，少华非常优秀，在块设备层做了很多优秀的工作。能够被顶级黑客这样评价的人，少之又少，而我认识的国人之中大概也就两三个人吧。当时我意识到，经过长期不懈的努力工作，在 Linux 内核开发领域，少华已经跻身全球最好的 IO 栈开发者之列了。</p>\n<p align=\"justify\">从 git log 里看到少华的大量的贡献，我感觉到少华虽然人离开了我们，但是他的代码，仍然散发着他的才华，继续在为世界做贡献。在今后的工作中，我们还会继续阅读他的代码，就像和他在谈心，对于熟悉他的人而言，这虽然心酸，也是和老朋友对话的最好的方式。而我也知道，他的代码以及他所维护的 MD 子系统，在工业届被广泛应用。譬如现在火热的 PD-1/PD-L1 生物制药领域，通过大数据的方式来分析 DNA 特征，其中的信息处理系统中 Linux 内核和高性能 IO 栈肯定被广泛地使用到了。少华虽然离开了我们，他为这个世界留下的贡献，仍然在为创造更美好的世界发挥价值。</p>\n<p align=\"justify\">我们都会离开这个世界，或早或晚，命不在长短而在价值，活得有价值是很幸运的。很痛心少华过早离开了我们，但我也很羡慕他的人生活出了精彩，他自己的不懈奋斗为这操蛋的世界带来了更多的光亮。这光亮，对家人对朋友，都是鼓励和激励，让我们继续在这操蛋的世界里，为更好的世界努力不懈，也享受生活中点滴的幸福。感激少华，你短暂的一生所创造的温暖和快乐，让我感受到这世界多一点的善意和希望。</p>\n<p align=\"justify\">CLSF[1]: China Linux Storage, Memory management &amp; File system Workshp</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114630\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114630votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114630\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/81787ebca812169b5ee3315e1e3b5af53f83aa09.jpg"}{"url_object_id": "b29078ff2b754246daf901cba6a20190", "title": "在 Linux 上使用 tarball", "url": "http://blog.jobbole.com/114628/", "create_date": "2019/01/07", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2019/01/82172a7f1f42f9e0e6097104672b44f9.jpg"], "praise_nums": "1", "fav_nums": "1", "comment": "", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.networkworld.com/article/3328840/linux/working-with-tarballs-on-linux.html\">Sandra Henry-stocker</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-10418-1.html\">Linux中国/geekpi</a>   </div><blockquote><p>Tarball 提供了一种在 Linux 系统上备份和管理一组文件的通用方法。请按照以下提示了解如何创建它们，以及从中提取和删除单个文件。</p></blockquote>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/01/82172a7f1f42f9e0e6097104672b44f9.jpg\"></p>\n<p>“tarball” （LCTT 译注：国内也常称为“tar 包”）一词通常用于描述备份一组选择的文件并将它们打包在一个文件中的一种文件格式。该名称来自 .tar 文件扩展名和 <code>tar</code> 命令，它用于将文件打包到一个文件中，有时还会压缩该文件，使其在移动到其它系统时更小。</p>\n<p>tarball 通常用于备份个人或系统文件来创建存档，特别是在进行可能需要撤消的更改之前。例如，Linux 系统管理员通常会在更改应用之前创建包含一系列配置文件的 tarball，以防必须撤消这些更改。从 tarball 中解压文件通常比在备份中搜索文件快。</p>\n<h3 id=\"toc_1\">如何在 Linux 上创建 tarball</h3>\n<p>使用如下命令，你可以在单条命令中创建 tarball 并压缩它。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dc3c121909452585\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ tar -cvzf PDFs.tar.gz *.pdf</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c121909452585-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dc3c121909452585-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tar</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">cvzf </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tar</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e \">gz *</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pdf</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>其结果是一个压缩文件（gzip 压缩的），其中包含了当前目录中的所有 PDF 文件。当然，压缩是可选的。一个稍微简单的只是将 PDF 文件打包成未压缩 tarball 的命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dc3c129727607357\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ tar -cvf PDFs.tar *.pdf</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c129727607357-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dc3c129727607357-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tar</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">cvf </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e \">tar *</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pdf</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>注意，选项中的 <code>z</code> 将文件变成压缩的。 <code>c</code> 表明创建文件，<code>v</code>（详细）表示你在命令运行时需要一些反馈。如果你不想查看列出的文件，请忽略 <code>v</code>。</p>\n<p>另一个常见的命名约定是给压缩的 tarball 命名成 .tgz 而不是双扩展名 .tar.gz，如下所示：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dc3c12d237464821\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ tar cvzf MyPDFs.tgz *.pdf</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c12d237464821-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dc3c12d237464821-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tar </span><span class=\"crayon-e\">cvzf </span><span class=\"crayon-v\">MyPDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e \">tgz *</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pdf</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3 id=\"toc_2\">如何从 tarball 中解压文件</h3>\n<p>要从 gzip 压缩包中解压所有文件，你可以使用如下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dc3c131438016973\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ tar -xvzf file.tar.gz</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c131438016973-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dc3c131438016973-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tar</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">xvzf </span><span class=\"crayon-v\">file</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tar</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">gz</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>如果使用 .tgz 命名约定，该命令将如下所示：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dc3c134095656059\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ tar -xvzf MyPDFs.tgz</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c134095656059-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dc3c134095656059-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tar</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">xvzf </span><span class=\"crayon-v\">MyPDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tgz</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>要从 gzip 包中解压单个文件，你可以执行几乎相同的操作，只需添加文件名：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dc3c138271098514\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ tar -xvzf PDFs.tar.gz ShenTix.pdf\r\nShenTix.pdf\r\nls -l ShenTix.pdf\r\n-rw-rw-r-- 1 shs shs 122057 Dec 14 14:43 ShenTix.pdf</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c138271098514-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dc3c138271098514-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c138271098514-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dc3c138271098514-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dc3c138271098514-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tar</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">xvzf </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tar</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">gz </span><span class=\"crayon-v\">ShenTix</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">pdf</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dc3c138271098514-2\"><span class=\"crayon-v\">ShenTix</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">pdf</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dc3c138271098514-3\"><span class=\"crayon-v\">ls</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">l</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ShenTix</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pdf</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dc3c138271098514-4\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">shs </span><span class=\"crayon-i\">shs</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">122057</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">14</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">14</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">43</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ShenTix</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pdf</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>如果未压缩 tarball，你甚至可以从 tarball 中删除文件。例如，如果我们想从 PDFs.tar.gz 中删除我们上面解压过的文件，我们会这样做：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dc3c13b480078518\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ gunzip PDFs.tar.gz\r\n$ ls -l PDFs.tar\r\n-rw-rw-r-- 1 shs shs 10700800 Dec 15 11:51 PDFs.tar\r\n$ tar -vf PDFs.tar --delete ShenTix.pdf\r\n$ ls -l PDFs.tar\r\n-rw-rw-r-- 1 shs shs 10577920 Dec 15 11:45 PDFs.tar</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c13b480078518-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dc3c13b480078518-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c13b480078518-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dc3c13b480078518-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c13b480078518-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dc3c13b480078518-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dc3c13b480078518-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">gunzip </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tar</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">gz</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dc3c13b480078518-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ls</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">l</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tar</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dc3c13b480078518-3\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">shs </span><span class=\"crayon-i\">shs</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10700800</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">51</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">tar</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dc3c13b480078518-4\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tar</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">vf </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tar</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">delete </span><span class=\"crayon-v\">ShenTix</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">pdf</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dc3c13b480078518-5\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ls</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">l</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tar</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dc3c13b480078518-6\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">shs </span><span class=\"crayon-i\">shs</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10577920</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">45</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tar</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0020 seconds] -->\r\n<p>请注意，我们在删除 ShenTix.pdf 后，缩小了一点 tarball 文件占用的空间。如果我们想要，我们可以再次压缩文件：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dc3c13e910877858\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ gzip -f PDFs.tar\r\nls -l PDFs.tar.gz\r\n-rw-rw-r-- 1 shs shs 10134499 Dec 15 11:51 PDFs.tar.gzFlickr / James St. John</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c13e910877858-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dc3c13e910877858-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dc3c13e910877858-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dc3c13e910877858-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">gzip</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">tar</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dc3c13e910877858-2\"><span class=\"crayon-v\">ls</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">l</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tar</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">gz</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dc3c13e910877858-3\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">shs </span><span class=\"crayon-i\">shs</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10134499</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">51</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">PDFs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tar</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">gzFlickr</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">James </span><span class=\"crayon-v\">St</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">John</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>丰富的命令行选项使得 tarball 使用起来简单方便。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114628\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114628votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114628\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/b043e800c3e125c1ffcac4212d8e58798b657e4a.jpg"}{"url_object_id": "78dd1d0d8902fe70f55f60352df6362a", "title": "从软件工程的角度解读任正非的新年公开信", "url": "http://blog.jobbole.com/114605/", "create_date": "2019/01/08", "front_image_url": ["https://wx4.sinaimg.cn/mw690/7cc829d3gy1fqr0bkq07cj21kw105qv8.jpg"], "praise_nums": "3", "fav_nums": "4", "comment": "", "tags": "IT技术,华为,软件工程", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://www.cnblogs.com/dotey/p/10220520.html\">宝玉（@宝玉XP）</a>   </div><p align=\"justify\">近日任正非的公开信《全面提升软件工程能力与实践，打造可信的高质量产品》刷屏了，作为一个软件工程专业科班出身的软件开发从业者，自然是引起了我（<a href=\"https://www.weibo.com/dotey\">@宝玉xp</a>）的好奇。仔细阅读之下确实让我大吃一惊，看似八股官方文，但细看之下是作者对于软件工程的理解确实非常深刻，各种专业术语信手拈来，比喻恰到好处。</p>\n<p align=\"justify\">我对华为的研发其实一直挺好奇的，从传统的硬件公司，到现在软硬件齐头并进，华为手机销量都已经超过了苹果，可见华为的软硬件研发实力早已是全球领先了。公开信中的这一句：</p>\n<blockquote><p>二十年前的 IPD 变革，重构了我们的研发模式，实现了从依赖个人、偶然性推出成功产品，到制度化、持续地推出高质量产品的转变。</p></blockquote>\n<p align=\"justify\">也揭示了华为的软件研发能做到领先水平的原因。</p>\n<p align=\"justify\">华为是在 1999 年开始从 IBM 引进 IPD 的，到今年 2019 年正好 20 年，在过去的 20 年里，IPD 帮助华为从游击队变成了正规军，研发队伍从几千人到几万人，软件产品也覆盖到手机操作系统、应用、云服务。</p>\n<p align=\"justify\">我对 IPD 是不甚了解的，只知道 IPD（Integrated Product Development，集成产品开发）是一种产品开发方法，但如果说软件产品的开发方法，我是比较熟悉的，那就是软件工程么！</p>\n<p align=\"justify\">任正非发出的这封信的大背景也很特殊，2018 年中美贸易战开始，中兴、华为首当其冲成为美国开刀的对象，跟风站队的澳大利亚、新西兰、英国也跳出来抵制华为，说华为不安全，可能含有间谍软件，窃听国家机密，这帽子一扣是很难扯清的！这就是为什么整封信从标题开始，一共 17 次提到两个关键字：“<strong>可信</strong>”。</p>\n<p align=\"justify\">只有让客户觉得华为的产品“可信”，华为才能尽快走出这场危机，那么怎么才能做到可信？</p>\n<p align=\"justify\">如果你是餐厅老板，有人造谣你的厨房脏乱差，员工上完厕所不洗手，你怎么办？最好的办法自然是用先进的管理流程，并且让整个做菜的过程尽可能公开透明。</p>\n<p align=\"justify\">所以信中有这样一句话：</p>\n<blockquote><p>我们要转变观念，追求打造可信的高质量产品，不仅仅是功能、特性的高质量，也包括产品开发到交付过程的高质量。</p></blockquote>\n<p align=\"justify\">要转变观念，不再只认结果的质量，还要追求过程质量了！而如何追求过程质量呢？那就是要：“<strong>全面提升软件工程能力和实践</strong>”</p>\n<p align=\"justify\">如果信到此为止，也就是个普通官方八股文了。领导们么，可不就是喜欢指个大方向，说你们要用软件工程，要实施软件工程，至于怎么用，那是你们的事情，毕竟做领导的哪有几个真的懂软件工程的，难得的是这封信居然有很多具体怎么做的内容。</p>\n<h2>软件项目管理金三角</h2>\n<p align=\"justify\">先看这一句：</p>\n<blockquote><p>我们各级管理者和全体员工都不得以进度、功能、特性等为理由来降低可信的要求，确保可信的要求在执行过程中不变形。</p></blockquote>\n<p align=\"justify\">振聋发聩呀同志们，热泪盈眶呀！生活中多少次：三个月的项目老板说你一个月就要给我做完；做到一半的项目，PM 说这个功能很重要，我们要加上去。最终怎么办？牺牲质量呗！又想要马儿跑得快又想要马儿不吃草，天底下哪有那么好的事情！</p>\n<p align=\"justify\">软件工程里面早就告诉我们了：时间、范围、成本这三个要素直接决定了产品的质量！</p>\n<p><img class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3ly1fyz4qsx6ldj20fa09pjrd.jpg\" width=\"377\" height=\"239\"></p>\n<p align=\"justify\"> 希望各位老板别光学乔布斯，也学学任正非！</p>\n<p><img class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3ly1fyz4qw3e22j20e50bjglr.jpg\" width=\"323\" height=\"263\"></p>\n<h2>程序开发</h2>\n<p align=\"justify\">2018年底程序员被裁的不少，很多程序员开始担忧起前景来，其实如果你能做到这下面要求的应该是不担心被裁的！</p>\n<blockquote><p>我们要从最基础的编码质量做起，视高质量代码为尊严和个人声誉。代码就像是高楼大厦的一砖一瓦，没有高质量的代码，可信的产品就是空中楼阁。我们要优化并遵循公司各种编程规范，遵从架构与设计原则，熟练使用各种编程库和API，编写出简洁、规范、可读性强、健壮安全的代码。</p></blockquote>\n<p align=\"justify\">这一段是说给我们程序员看的，这其实也是对程序员的基本要求，大家看看自己，看看身边，真能做到的有多少？像我一样觉得自己还做的不够好的，咱还是努力学习吧，多练练，多用点心肯定更没问题的。</p>\n<h2>架构</h2>\n<p align=\"justify\">说完程序员开始说架构师了：</p>\n<blockquote><p>我们要深刻理解架构的核心要素，基于可信导向来进行架构与设计。</p></blockquote>\n<p align=\"justify\">看到没有，又提到<strong>可信</strong>了，架构设计的时候，别再天马行空，啥新酷用啥，啥流行用啥，一定要“<strong>可信导向</strong>”，架构设计目标先搞清楚！</p>\n<p align=\"justify\">再是细节：</p>\n<blockquote><p>在确保可信的前提下，要在性能、功能、扩展性等方面做好权衡；慎重地定义我们的模块与接口，真正做到高内聚与低耦合；我们要遵循权限和攻击面最小化等安全设计原则，科学设计模块之间的隔离与接口，提升安全性；低阶架构与设计要遵循高阶的架构与设计原则，在充分理解原有架构与设计的情况下，持续优化；我们要熟悉各种设计模式，重用公共成熟组件和服务，避免重复劳动。</p></blockquote>\n<p align=\"justify\">“高内聚与低耦合”，“权限和攻击面最小化”，“模块之间的隔离与接口”，“重用公共成熟组件和服务”……道理我都明白，做到可不容易！</p>\n<h2>技术债务</h2>\n<p align=\"justify\">华为这些年高速发展，早些年为了追求速度肯定也没少走捷径，这些年下来也肯定没少欠技术债务，现在也是一个从追求速度到追求质量转型的契机。所以信中说完架构开始讲技术债务了：</p>\n<blockquote><p>我们要重构腐化的架构及不符合软件工程规范和质量要求的历史代码。我们知道，再好的架构，其生命力也是有限的。随着时间的推移、环境的变化以及新技术、新功能特性的引入，架构也会腐化。面对腐化了的架构，要毫不犹豫地去重构它。同时主动以可信设计原则为导向，去重构不符合软件工程规范和质量要求的历史代码，提升软件架构的生命力。</p></blockquote>\n<p align=\"justify\">我们都知道，没有万能的架构，只有适合当时需求，当时技术条件和人员的架构，时间推移了很多架构就满足不了要求了，就需要重构了！作为80后，小时候其实生活挺艰苦的，那时候我们穿衣服都讲究的是：“新三年，旧三年，缝缝补补又三年”，架构也一样嘛，不满足需求我们先修修补补，真要重构挑战还是不小的，但是不去做它会一直成为发展的一个障碍，这封信也算是推了一把：“面对腐化了的架构，要毫不犹豫地去重构它。”，当然你重构，也不要忘记“可信”这个根本目标：“同时主动以可信设计原则为导向”。</p>\n<p align=\"justify\">其实Google在这方面已经走在前面了，一直鼓励重写代码，任何软件每隔几年就重写一遍，这样可以优化代码，采用最新技术，去掉一些没有价值的功能，最重要的是让新员工得到锻炼，保持高昂的斗志。不知道这点是不是华为在像Google学习！</p>\n<h2>安全</h2>\n<p align=\"justify\">这些年，互联网发展很快，但是安全事故却层出不穷：开房记录被泄漏、密码被泄漏、比特币被盗……这暴露出业界其实对安全是不够重视的，所以信中也不止一次提到安全问题：</p>\n<blockquote><p>公司已经明确，把网络安全和隐私保护作为公司的最高纲领。”</p></blockquote>\n<blockquote><p>“我们要深入钻研软件技术，尤其是安全技术。”</p></blockquote>\n<blockquote><p>“我们要遵循权限和攻击面最小化等安全设计原则，科学设计模块之间的隔离与接口，提升安全性”</p></blockquote>\n<blockquote><p>“编写出简洁、规范、可读性强、健壮安全的代码。</p></blockquote>\n<p align=\"justify\">要打造一个“安全”的软件，就是首先要有安全意识，然后要懂安全技术，在整个开发过程中要从架构设计、代码方方面面去注意。</p>\n<h2>技术是工具</h2>\n<p align=\"justify\">这些年开发界一直有些不好的风气，就是都认为自己的技术是最牛的，写后端的看不上前端的，用angular的看不上vue，写PHP的认为自己的语言是全世界最好的，开发的还看不上测试的。但是信中这一句话不要忽视呀：“软件技术是我们打造产品的基本工具”，技术只是工具，只是我们用来打造产品的工具！</p>\n<p align=\"justify\">“技术是否先进，技术选择是否合理，将决定我们软件的高度；”，技术的选型，不仅看的是不是先进，还要看是不是适合当前产品项目，并不是什么什么新酷就用什么！</p>\n<p align=\"justify\">“我们要深入学习架构与设计、编码、测试、安全、可用性、性能、维护性、体验等技术，并科学运用这些技术。”，既然技术只是工具，那么我们就没必要给自己设置各种技术壁垒障碍。如果开发就只学编码，测试就只学测试，认为安全那应该是搞安全的事，这样的话是非常不利于团体协作的，每个人都在一个领域能有深入的钻研，同时对其他领域有一定了解，对个人，对团队是非常有利的一件事。这样也不需要DevOps这种为了兼顾开发、测试、运维三种角色而存在的工种！</p>\n<h2>一致性</h2>\n<p align=\"justify\">我们做软件开发的都知道，也看过很多段子：从客户的需求，到最终的实现，总是差别很大；我们在项目初始的时候制定了很多规范，却总是不了了之，难以执行；我们良好的设计，在编码实现的时候，因为赶进度、开发人员偷懒等各种原因绕开设计，抄近路，最后设计和编码无法一致……</p>\n<p><img class=\"alignnone\" src=\"https://wx4.sinaimg.cn/mw690/7cc829d3gy1fqr0bkq07cj21kw105qv8.jpg\" width=\"690\" height=\"438\"></p>\n<p align=\"justify\">一致性在软件开发领域一直都是理想美好而现实却很残酷，信中也提到：</p>\n<blockquote><p>我们要遵守过程的一致性。遵守适用的法律法规、遵循业界共识的标准、规范，确保规范到实现的一致性、代码到二进制的一致性。架构要符合架构原则，设计要遵循设计模式，代码要符合编程规范，最终做到需求与实现一致，达成各项对客户的承诺。我们只有脚踏实地做好每一步，才能真正打造出可信的高质量产品。</p></blockquote>\n<p align=\"justify\">无论这个目标有多难，但是从“遵守过程的一致性”开始，在每个阶段都去做到<strong>一致性</strong>，“脚踏实地做好每一步”，还是有希望做到，“真正打造出可信的高质量产品”。</p>\n<h2>改变习惯</h2>\n<p align=\"justify\">在实施软件工程的过程中，有两个难题，一个就是转变思想，另一个就是改变习惯了，这种改变的过程也一定是很痛苦的。</p>\n<blockquote><p>为此，我们要改变行为习惯，追求精品。我们要开放透明、积极和勇于揭示问题并主动推动改进。软件开发是一种创造性和艺术性的工作，需要充分发挥我们的聪明才智和潜力。我们要改变只重视功能结果、不重视代码质量的行为习惯，要严格遵守软件工程规范；改变被动的修修补补；改变碎片化知识获取，主动去学习提升并贡献经验、代码，形成共享知识库。我们需要改变的行为和习惯还有很多，对绝大多数人来讲都将是一个痛苦的转变过程，会脱一层皮，但我相信大家能够迎接这种挑战。</p></blockquote>\n<p align=\"justify\">从事软件开发工作越久，恐怕养成的坏习惯就越多，信中列的几条都很有代表性：</p>\n<ul>\n<li>“只重视功能结果、不重视代码质量”<br>\n“功能实现完了就完事了，质量那是QA的事”，这种坏习惯不改质量是很难有保障的</li>\n<li>“不遵守软件工程规范”<br>\n软件工程的各种规范不是约束，也不是摆设，而是实实在在为了团队整体更好的协作。对于定好的规范，要严格执行，不合理的规范，也要提出来一起改进。</li>\n<li>“被动的修修补补”<br>\n为了能继续凑合，继续修修补补，而没有考虑重构改进，也是一个不好的习惯。</li>\n<li>“碎片化知识获取，不主动去学习提升”<br>\n在现在的信息时代，碎片化的知识获取是容易的，但是像软件工程这种知识，仅仅通过碎片化的学习还是不够的，必须的主动的，系统的去学习，虽然这个过程会很辛苦，但是是非常有必要的。</li>\n<li>“不愿意贡献经验、代码，不去形成共享知识库”<br>\n很多人不愿意去分享知识和经验，有的是因为太懒，有的是觉得没什么好处。但是分享本身就是一个学习和提升的最好手段！知识库这种事不仅是对别人，对自己也是一个特别好的过程。<br>\n想象下你新加入一个团队，如果这个团队有很好的知识库，你可以通过知识库很快的上手工作，同样的，如果你把你的经验写到知识库，后面的新人也可以受益你的贡献！</li>\n</ul>\n<h2>“软件工程”和“质量工程”需要依靠架构技术</h2>\n<blockquote><p>“软件工程”和“质量工程”需要依靠架构技术，而不是依靠CMM和QA管理流程。一切工程问题，首先要思考能否通过技术解决，当前技术无法解决的问题，暂时由管理手段代劳，同时不停止寻找技术手段。</p></blockquote>\n<p align=\"justify\">所有的涉及到人的管理最终都要归结到人管理还是制度管理的问题上，软件项目管理也不例外，如果过多的依赖于人的管理，那么项目经理的职责就太重了，优秀的项目经理本身就是稀缺资源，最终会变成一个瓶颈。</p>\n<p align=\"justify\">所以通过架构技术和工具，把管理流程落实下来是一个非常好的方式。有两个例子可以很好的说明这点。</p>\n<p align=\"justify\">早些年软件项目团队是非常庞大的，各个服务庞大模块紧密，所以管理成本很高，后来微服务这种架构提出后，将大的服务拆成小的服务，整个组织也从大项目部门拆分成各个小组，各小组可以独立更新维护。</p>\n<p align=\"justify\">另一个例子是以前单元测试和代码审查还有自动部署很难执行，后来借助源代码管理工具和CI（Continuous integration，持续集成）工具，就可以很容易的进行代码审查、并且可以确保单元测试测试跑通过后才进行部署。这一点其实信中也有体现：</p>\n<blockquote><p>我们将全面强化以Committer角色为核心的代码审核和提交机制，代码经过更加严格和系统的审核才能合入版本。为此我们将建立一支更高水平的Committer角色群体，负责软件架构的看护、代码的审核和提交，整体保障合入代码的高质量。我们要变革考核机制，要让架构设计好、代码写得好的人脱颖而出，对编程能力不满足要求的人给予帮助和培训。但任何人如果编写的代码长时间不能合入版本，将会被团队抛弃。</p></blockquote>\n<h2>软件工程就像一个国家的农业</h2>\n<blockquote><p>软件工程就像一个国家的农业，是最基础的设施！</p></blockquote>\n<p align=\"justify\">很感动，这些年软件工程被提起的其实不多，大家关注的更多是各种新酷的技术，而对于这种软件开发最基础的理论视而不见。还有人一提到软件工程，就马上说软件工程不是银弹。软件工程从来不说自己是银弹，就像现代医学，也不会号称自己包治百病，只会不断改进，对症下药！</p>\n<p align=\"justify\">希望这封信能带动软件工程在国内的更多发展，也希望我这篇浅显的文章能帮助大家更好的理解一些软件工程的概念。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114605\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114605votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114605\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/f0304de635be9bc0b6572bc072f099d63b7e524d.jpg"}{"url_object_id": "abfa82b51cf32556e799a8d353f5b6ca", "title": "“三次握手，四次挥手”你真的懂吗？", "url": "http://blog.jobbole.com/114633/", "create_date": "2019/01/09", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/04/149000d5c8b1bb08b8de6914ed749f28.gif"], "praise_nums": "1", "fav_nums": "11", "comment": "2", "tags": "IT技术,TCP", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://www.cnblogs.com/qcrao-2018/p/10182185.html\">Stefno</a>   </div><p>记得刚毕业找工作面试的时候，经常会被问到：你知道“3次握手，4次挥手”吗？这时候我会“胸有成竹”地“背诵”前期准备好的“答案”，第一次怎么怎么，第二次……答完就没有下文了，面试官貌似也没有深入下去的意思，深入下去我也不懂，皆大欢喜！</p>\n<p>作为程序员，要有“刨根问底”的精神。知其然，更要知其所以然。这篇文章希望能抽丝剥茧，还原背后的原理。</p>\n<h1 id=\"什么是3次握手4次挥手\">什么是“3次握手，4次挥手”</h1>\n<p>TCP是一种面向连接的单播协议，在发送数据前，通信双方必须在彼此间建立一条连接。所谓的“连接”，其实是客户端和服务器的内存里保存的一份关于对方的信息，如ip地址、端口号等。</p>\n<p>TCP可以看成是一种字节流，它会处理IP层或以下的层的丢包、重复以及错误问题。在连接的建立过程中，双方需要交换一些连接的参数。这些参数可以放在TCP头部。</p>\n<p>TCP提供了一种可靠、面向连接、字节流、传输层的服务，采用三次握手建立一个连接。采用4次挥手来关闭一个连接。</p>\n<h2 id=\"tcp服务模型\">TCP服务模型</h2>\n<p>在了解了建立连接、关闭连接的“三次握手和四次挥手”后，我们再来看下TCP相关的东西。</p>\n<p>一个TCP连接由一个4元组构成，分别是两个IP地址和两个端口号。一个TCP连接通常分为三个阶段：启动、数据传输、退出（关闭）。</p>\n<p>当TCP接收到另一端的数据时，它会发送一个确认，但这个确认不会立即发送，一般会延迟一会儿。ACK是累积的，一个确认字节号N的ACK表示所有直到N的字节（不包括N）已经成功被接收了。这样的好处是如果一个ACK丢失，很可能后续的ACK就足以确认前面的报文段了。</p>\n<p>一个完整的TCP连接是双向和对称的，数据可以在两个方向上平等地流动。给上层应用程序提供一种<code>双工服务</code>。一旦建立了一个连接，这个连接的一个方向上的每个TCP报文段都包含了相反方向上的报文段的一个ACK。</p>\n<p>序列号的作用是使得一个TCP接收端可丢弃重复的报文段，记录以杂乱次序到达的报文段。因为TCP使用IP来传输报文段，而IP不提供重复消除或者保证次序正确的功能。另一方面，TCP是一个字节流协议，绝不会以杂乱的次序给上层程序发送数据。因此TCP接收端会被迫先保持大序列号的数据不交给应用程序，直到缺失的小序列号的报文段被填满。</p>\n<h2 id=\"tcp头部\">TCP头部</h2>\n<p><img src=\"//upload-images.jianshu.io/upload_images/12234098-40089b5b24b9d38b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"tcp header\"></p>\n<p>源端口和目的端口在TCP层确定双方进程，序列号表示的是报文段数据中的第一个字节号，ACK表示确认号，该确认号的发送方期待接收的下一个序列号，即最后被成功接收的数据字节序列号加1，这个字段只有在ACK位被启用的时候才有效。</p>\n<p>当新建一个连接时，从客户端发送到服务端的第一个报文段的SYN位被启用，这称为SYN报文段，这时序列号字段包含了在本次连接的这个方向上要使用的第一个序列号，即初始序列号<code>ISN</code>，之后发送的数据是ISN加1，因此SYN位字段会<code>消耗</code>一个序列号，这意味着使用重传进行可靠传输。而不消耗序列号的ACK则不是。</p>\n<p>头部长度（图中的数据偏移）以32位字为单位，也就是以4bytes为单位，它只有4位，最大为15，因此头部最大长度为60字节，而其最小为5，也就是头部最小为20字节（可变选项为空）。</p>\n<p>ACK —— 确认，使得确认号有效。<br>\nRST —— 重置连接（经常看到的reset by peer）就是此字段搞的鬼。<br>\nSYN —— 用于初如化一个连接的序列号。<br>\nFIN —— 该报文段的发送方已经结束向对方发送数据。</p>\n<p>当一个连接被建立或被终止时，交换的报文段只包含TCP头部，而没有数据。</p>\n<h2 id=\"状态转换\">状态转换</h2>\n<p>三次握手和四次挥手的状态转换如下图。<br>\n<img src=\"//upload-images.jianshu.io/upload_images/12234098-40f65020a755ca18?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"tcp connect\"></p>\n<h1 id=\"为什么要三次握手四次挥手\">为什么要“三次握手，四次挥手”</h1>\n<h2 id=\"三次握手\">三次握手</h2>\n<p>换个易于理解的视角来看为什么要3次握手。</p>\n<p>客户端和服务端通信前要进行连接，“3次握手”的作用就是<code>双方都能明确自己和对方的收、发能力是正常的</code>。</p>\n<p><code>第一次握手</code>：客户端发送网络包，服务端收到了。这样服务端就能得出结论：客户端的发送能力、服务端的接收能力是正常的。</p>\n<p><code>第二次握手</code>：服务端发包，客户端收到了。这样客户端就能得出结论：服务端的接收、发送能力，客户端的接收、发送能力是正常的。<br>\n从客户端的视角来看，我接到了服务端发送过来的响应数据包，说明服务端接收到了我在第一次握手时发送的网络包，并且成功发送了响应数据包，这就说明，服务端的接收、发送能力正常。而另一方面，我收到了服务端的响应数据包，说明我第一次发送的网络包成功到达服务端，这样，我自己的发送和接收能力也是正常的。</p>\n<p><code>第三次握手</code>：客户端发包，服务端收到了。这样服务端就能得出结论：客户端的接收、发送能力，服务端的发送、接收能力是正常的。<br>\n第一、二次握手后，服务端并不知道客户端的接收能力以及自己的发送能力是否正常。而在第三次握手时，服务端收到了客户端对第二次握手作的回应。从服务端的角度，我在第二次握手时的响应数据发送出去了，客户端接收到了。所以，我的发送能力是正常的。而客户端的接收能力也是正常的。</p>\n<p>经历了上面的三次握手过程，客户端和服务端都确认了自己的接收、发送能力是正常的。之后就可以正常通信了。</p>\n<p>每次都是接收到数据包的一方可以得到一些结论，发送的一方其实没有任何头绪。我虽然有发包的动作，但是我怎么知道我有没有发出去，而对方有没有接收到呢？</p>\n<p>而从上面的过程可以看到，最少是需要三次握手过程的。两次达不到让双方都得出自己、对方的接收、发送能力都正常的结论。其实每次收到网络包的一方至少是可以得到：对方的发送、我方的接收是正常的。而每一步都是有关联的，下一次的“响应”是由于第一次的“请求”触发，因此每次握手其实是可以得到额外的结论的。比如第三次握手时，服务端收到数据包，表明看服务端只能得到客户端的发送能力、服务端的接收能力是正常的，但是结合第二次，说明服务端在第二次发送的响应包，客户端接收到了，并且作出了响应，从而得到额外的结论：客户端的接收、服务端的发送是正常的。</p>\n<p>用表格总结一下：</p>\n<table>\n<thead>\n<tr>\n<th>视角</th>\n<th>客收</th>\n<th>客发</th>\n<th>服收</th>\n<th>服发</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>客视角</td>\n<td>二</td>\n<td>一 + 二</td>\n<td>一 + 二</td>\n<td>二</td>\n</tr>\n<tr>\n<td>服视角</td>\n<td>二 + 三</td>\n<td>一</td>\n<td>一</td>\n<td>二 + 三</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"四次挥手\">四次挥手</h2>\n<p>TCP连接是双向传输的对等的模式，就是说双方都可以同时向对方发送或接收数据。当有一方要关闭连接时，会发送指令告知对方，我要关闭连接了。这时对方会回一个ACK，此时一个方向的连接关闭。但是另一个方向仍然可以继续传输数据，等到发送完了所有的数据后，会发送一个FIN段来关闭此方向上的连接。接收方发送ACK确认关闭连接。注意，接收到FIN报文的一方只能回复一个ACK, 它是无法马上返回对方一个FIN报文段的，因为结束数据传输的“指令”是上层应用层给出的，我只是一个“搬运工”，我无法了解<code>“上层的意志”</code>。</p>\n<h1 id=\"三次握手四次挥手怎么完成\">“三次握手，四次挥手”怎么完成？</h1>\n<p>其实3次握手的目的并不只是让通信双方都了解到一个连接正在建立，还在于利用数据包的选项来传输特殊的信息，交换初始序列号ISN。</p>\n<p>3次握手是指发送了3个报文段，4次挥手是指发送了4个报文段。注意，SYN和FIN段都是会利用重传进行可靠传输的。</p>\n<p><img src=\"//upload-images.jianshu.io/upload_images/12234098-8604b533d42457b5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"三次握手\"></p>\n<h2 id=\"三次握手-1\">三次握手</h2>\n<ol>\n<li>客户端发送一个SYN段，并指明客户端的初始序列号，即ISN(c).</li>\n<li>服务端发送自己的SYN段作为应答，同样指明自己的ISN(s)。为了确认客户端的SYN，将ISN(c)+1作为ACK数值。这样，每发送一个SYN，序列号就会加1. 如果有丢失的情况，则会重传。</li>\n<li>为了确认服务器端的SYN，客户端将ISN(s)+1作为返回的ACK数值。</li>\n</ol>\n<h2 id=\"四次挥手-1\">四次挥手</h2>\n<p><img src=\"//upload-images.jianshu.io/upload_images/12234098-3754de754cbcf2af.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"四次挥手\"></p>\n<ol>\n<li>客户端发送一个FIN段，并包含一个希望接收者看到的自己当前的序列号K. 同时还包含一个ACK表示确认对方最近一次发过来的数据。</li>\n<li>服务端将K值加1作为ACK序号值，表明收到了上一个包。这时上层的应用程序会被告知另一端发起了关闭操作，通常这将引起应用程序发起自己的关闭操作。</li>\n<li>服务端发起自己的FIN段，ACK=K+1, Seq=L</li>\n<li>客户端确认。ACK=L+1</li>\n</ol>\n<h2 id=\"为什么建立连接是三次握手而关闭连接却是四次挥手呢\">为什么建立连接是三次握手，而关闭连接却是四次挥手呢？</h2>\n<p>这是因为服务端在LISTEN状态下，收到建立连接请求的SYN报文后，把ACK和SYN放在一个报文里发送给客户端。而关闭连接时，当收到对方的FIN报文时，仅仅表示对方不再发送数据了但是还能接收数据，己方是否现在关闭发送数据通道，需要上层应用来决定，因此，己方ACK和FIN一般都会分开发送。</p>\n<h1 id=\"三次握手四次挥手进阶\">“三次握手，四次挥手”进阶</h1>\n<h2 id=\"isn\">ISN</h2>\n<p>三次握手的一个重要功能是客户端和服务端交换ISN(Initial Sequence Number), 以便让对方知道接下来接收数据的时候如何按序列号组装数据。</p>\n<p>如果ISN是固定的，攻击者很容易猜出后续的确认号。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c22774413865\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nISN = M + F(localhost, localport, remotehost, remoteport)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c22774413865-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c22774413865-1\"><span class=\"crayon-v\">ISN</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">M</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">F</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">localhost</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">localport</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">remotehost</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">remoteport</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>M是一个计时器，每隔4毫秒加1。<br>\nF是一个Hash算法，根据源IP、目的IP、源端口、目的端口生成一个随机数值。要保证hash算法不能被外部轻易推算得出。</p>\n<h2 id=\"序列号回绕\">序列号回绕</h2>\n<p>因为ISN是随机的，所以序列号容易就会超过2^31-1. 而tcp对于丢包和乱序等问题的判断都是依赖于序列号大小比较的。此时就出现了所谓的tcp序列号回绕（sequence wraparound）问题。怎么解决？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c31412817223\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/*\r\n* The next routines deal with comparing 32 bit unsigned ints\r\n* and worry about wraparound (automatic with unsigned arithmetic).\r\n*/\r\nstatic inline int before(__u32 seq1, __u32 seq2)\r\n{\r\n    return (__s32)(seq1-seq2) &lt; 0;\r\n}\r\n\r\n#define after(seq2, seq1) before(seq1, seq2)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c31412817223-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c31412817223-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c31412817223-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c31412817223-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c31412817223-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c31412817223-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c31412817223-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c31412817223-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c31412817223-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c31412817223-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c31412817223-1\"><span class=\"crayon-c\">/*</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c31412817223-2\"><span class=\"crayon-c\">* The next routines deal with comparing 32 bit unsigned ints</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c31412817223-3\"><span class=\"crayon-c\">* and worry about wraparound (automatic with unsigned arithmetic).</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c31412817223-4\"><span class=\"crayon-c\">*/</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c31412817223-5\"><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">inline </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">before</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">__u32 </span><span class=\"crayon-v\">seq1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">__u32 </span><span class=\"crayon-v\">seq2</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c31412817223-6\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c31412817223-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">__s32</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">seq1</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">seq2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c31412817223-8\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c31412817223-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c31412817223-10\"><span class=\"crayon-p\">#define after(seq2, seq1) before(seq1, seq2)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>上述代码是内核中的解决回绕问题代码。__s32是有符号整型的意思，而__u32则是无符号整型。序列号发生回绕后，序列号变小，相减之后，把结果变成有符号数了，因此结果成了负数。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c36505127449\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n假设seq1=255， seq2=1（发生了回绕）。\r\nseq1 = 1111 1111 seq2 = 0000 0001\r\n我们希望比较结果是\r\n seq1 - seq2=\r\n 1111 1111\r\n-0000 0001\r\n-----------\r\n 1111 1110\r\n\r\n由于我们将结果转化成了有符号数，由于最高位是1，因此结果是一个负数，负数的绝对值为\r\n 0000 0001 + 1 = 0000 0010 = 2\r\n\r\n因此seq1 - seq2 &lt; 0</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c36505127449-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c36505127449-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c36505127449-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c36505127449-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c36505127449-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c36505127449-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c36505127449-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c36505127449-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c36505127449-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c36505127449-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c36505127449-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c36505127449-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c36505127449-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c36505127449-1\">假设<span class=\"crayon-v\">seq1</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">255</span>，<span class=\"crayon-h\"> </span><span class=\"crayon-v\">seq2</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">1</span>（发生了回绕）。</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c36505127449-2\"><span class=\"crayon-v\">seq1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1111</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1111</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">seq2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0001</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c36505127449-3\">我们希望比较结果是</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c36505127449-4\"><span class=\"crayon-h\"> </span><span class=\"crayon-v\">seq1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">seq2</span><span class=\"crayon-o\">=</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c36505127449-5\"><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1111</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1111</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c36505127449-6\"><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0001</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c36505127449-7\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c36505127449-8\"><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1111</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1110</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c36505127449-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c36505127449-10\">由于我们将结果转化成了有符号数，由于最高位是<span class=\"crayon-cn\">1</span>，因此结果是一个负数，负数的绝对值为</div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c36505127449-11\"><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0001</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0010</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c36505127449-12\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c36505127449-13\">因此<span class=\"crayon-v\">seq1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">seq2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0022 seconds] -->\r\n<p></p>\n<h2 id=\"syn-flood攻击\">syn flood攻击</h2>\n<p>最基本的DoS攻击就是利用合理的服务请求来占用过多的服务资源，从而使合法用户无法得到服务的响应。syn flood属于Dos攻击的一种。</p>\n<p>如果恶意的向某个服务器端口发送大量的SYN包，则可以使服务器打开大量的半开连接，分配TCB（Transmission Control Block）, 从而消耗大量的服务器资源，同时也使得正常的连接请求无法被相应。当开放了一个TCP端口后，该端口就处于Listening状态，不停地监视发到该端口的Syn报文，一 旦接收到Client发来的Syn报文，就需要为该请求分配一个TCB，通常一个TCB至少需要280个字节，在某些操作系统中TCB甚至需要1300个字节，并返回一个SYN ACK命令，立即转为SYN-RECEIVED即半开连接状态。系统会为此耗尽资源。</p>\n<p>常见的防攻击方法有：</p>\n<h3 id=\"无效连接的监视释放\">无效连接的监视释放</h3>\n<p>监视系统的半开连接和不活动连接，当达到一定阈值时拆除这些连接，从而释放系统资源。这种方法对于所有的连接一视同仁，而且由于SYN Flood造成的半开连接数量很大，正常连接请求也被淹没在其中被这种方式误释放掉，因此这种方法属于入门级的SYN Flood方法。</p>\n<h3 id=\"延缓tcb分配方法\">延缓TCB分配方法</h3>\n<p>消耗服务器资源主要是因为当SYN数据报文一到达，系统立即分配TCB，从而占用了资源。而SYN Flood由于很难建立起正常连接，因此，当正常连接建立起来后再分配TCB则可以有效地减轻服务器资源的消耗。常见的方法是使用Syn Cache和Syn Cookie技术。</p>\n<h4 id=\"syn-cache技术\">Syn Cache技术</h4>\n<p>系统在收到一个SYN报文时，在一个专用HASH表中保存这种半连接信息，直到收到正确的回应ACK报文再分配TCB。这个开销远小于TCB的开销。当然还需要保存序列号。</p>\n<h4 id=\"syn-cookie技术\">Syn Cookie技术</h4>\n<p>Syn Cookie技术则完全不使用任何存储资源，这种方法比较巧妙，它使用一种特殊的算法生成Sequence Number，这种算法考虑到了对方的IP、端口、己方IP、端口的固定信息，以及对方无法知道而己方比较固定的一些信息，如MSS(Maximum Segment Size，最大报文段大小，指的是TCP报文的最大数据报长度，其中不包括TCP首部长度。)、时间等，在收到对方 的ACK报文后，重新计算一遍，看其是否与对方回应报文中的（Sequence Number-1）相同，从而决定是否分配TCB资源。</p>\n<h3 id=\"使用syn-proxy防火墙\">使用SYN Proxy防火墙</h3>\n<p>一种方式是防止墙dqywb连接的有效性后，防火墙才会向内部服务器发起SYN请求。防火墙代服务器发出的SYN ACK包使用的序列号为c, 而真正的服务器回应的序列号为c’, 这样，在每个数据报文经过防火墙的时候进行序列号的修改。另一种方式是防火墙确定了连接的安全后，会发出一个safe reset命令，client会进行重新连接，这时出现的syn报文会直接放行。这样不需要修改序列号了。但是，client需要发起两次握手过程，因此建立连接的时间将会延长。</p>\n<h2 id=\"连接队列\">连接队列</h2>\n<p>在外部请求到达时，被服务程序最终感知到前，连接可能处于SYN_RCVD状态或是ESTABLISHED状态，但还未被应用程序接受。</p>\n<p><img src=\"//upload-images.jianshu.io/upload_images/12234098-36b3c46688c685c7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"tcp queue\"></p>\n<p>对应地，服务器端也会维护两种队列，处于SYN_RCVD状态的半连接队列，而处于ESTABLISHED状态但仍未被应用程序accept的为全连接队列。如果这两个队列满了之后，就会出现各种丢包的情形。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c3c662853706\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n查看是否有连接溢出\r\nnetstat -s | grep LISTEN</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c3c662853706-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c3c662853706-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c3c662853706-1\">查看是否有连接溢出</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c3c662853706-2\"><span class=\"crayon-v\">netstat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">grep </span><span class=\"crayon-v\">LISTEN</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3 id=\"半连接队列满了\">半连接队列满了</h3>\n<p>在三次握手协议中，服务器维护一个半连接队列，该队列为每个客户端的SYN包开设一个条目(服务端在接收到SYN包的时候，就已经创建了request_sock结构，存储在半连接队列中)，该条目表明服务器已收到SYN包，并向客户发出确认，正在等待客户的确认包。这些条目所标识的连接在服务器处于Syn_RECV状态，当服务器收到客户的确认包时，删除该条目，服务器进入ESTABLISHED状态。</p>\n<blockquote><p>目前，Linux下默认会进行5次重发SYN-ACK包，重试的间隔时间从1s开始，下次的重试间隔时间是前一次的双倍，5次的重试时间间隔为1s, 2s, 4s, 8s, 16s, 总共31s, 称为<code>指数退避</code>，第5次发出后还要等32s才知道第5次也超时了，所以，总共需要 1s + 2s + 4s+ 8s+ 16s + 32s = 63s, TCP才会把断开这个连接。由于，SYN超时需要63秒，那么就给攻击者一个攻击服务器的机会，攻击者在短时间内发送大量的SYN包给Server(俗称SYN flood攻击)，用于耗尽Server的SYN队列。对于应对SYN 过多的问题，linux提供了几个TCP参数：tcp_syncookies、tcp_synack_retries、tcp_max_syn_backlog、tcp_abort_on_overflow 来调整应对。</p></blockquote>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>tcp_syncookies</td>\n<td>SYNcookie将连接信息编码在ISN(initialsequencenumber)中返回给客户端，这时server不需要将半连接保存在队列中，而是利用客户端随后发来的ACK带回的ISN还原连接信息，以完成连接的建立，避免了半连接队列被攻击SYN包填满。</td>\n</tr>\n<tr>\n<td>tcp_syncookies</td>\n<td>内核放弃建立连接之前发送SYN包的数量。</td>\n</tr>\n<tr>\n<td>tcp_synack_retries</td>\n<td>内核放弃连接之前发送SYN+ACK包的数量</td>\n</tr>\n<tr>\n<td>tcp_max_syn_backlog</td>\n<td>默认为1000. 这表示半连接队列的长度，如果超过则放弃当前连接。</td>\n</tr>\n<tr>\n<td>tcp_abort_on_overflow</td>\n<td>如果设置了此项，则直接reset. 否则，不做任何操作，这样当服务器半连接队列有空了之后，会重新接受连接。<code>Linux坚持在能力许可范围内不忽略进入的连接</code>。客户端在这期间会重复发送sys包，当重试次数到达上限之后，会得到<code>connection time out</code>响应。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"全连接队列满了\">全连接队列满了</h3>\n<p>当第三次握手时，当server接收到ACK包之后，会进入一个新的叫 accept 的队列。</p>\n<p>当accept队列满了之后，即使client继续向server发送ACK的包，也会不被响应，此时ListenOverflows+1，同时server通过tcp_abort_on_overflow来决定如何返回，0表示直接丢弃该ACK，1表示发送RST通知client；相应的，client则会分别返回<code>read timeout</code> 或者 <code>connection reset by peer</code>。另外，tcp_abort_on_overflow是0的话，server过一段时间再次发送syn+ack给client（也就是重新走握手的第二步），如果client超时等待比较短，就很容易异常了。而客户端收到多个 SYN ACK 包，则会认为之前的 ACK 丢包了。于是促使客户端再次发送 ACK ，在 accept队列有空闲的时候最终完成连接。若 accept队列始终满员，则最终客户端收到 RST 包（此时服务端发送syn+ack的次数超出了tcp_synack_retries）。</p>\n<p>服务端仅仅只是创建一个定时器，以固定间隔重传syn和ack到服务端</p>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>tcp_abort_on_overflow</td>\n<td>如果设置了此项，则直接reset. 否则，不做任何操作，这样当服务器半连接队列有空了之后，会重新接受连接。<code>Linux坚持在能力许可范围内不忽略进入的连接</code>。客户端在这期间会重复发送sys包，当重试次数到达上限之后，会得到<code>connection time out</code>响应。</td>\n</tr>\n<tr>\n<td>min(backlog, somaxconn)</td>\n<td>全连接队列的长度。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"命令\">命令</h3>\n<p>netstat -s命令</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c44362493239\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root&lt;a href=\"http://www.jobbole.com/members/server\"&gt;@server&lt;/a&gt; ~]#  netstat -s | egrep \"listen|LISTEN\" \r\n667399 times the listen queue of a socket overflowed\r\n667399 SYNs to LISTEN sockets ignored</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c44362493239-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c44362493239-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c44362493239-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c44362493239-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">href</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"http://www.jobbole.com/members/server\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">server</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\">#  netstat -s | egrep \"listen|LISTEN\" </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c44362493239-2\"><span class=\"crayon-cn\">667399</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">times </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">listen </span><span class=\"crayon-e\">queue </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">socket </span><span class=\"crayon-i\">overflowed</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c44362493239-3\"><span class=\"crayon-cn\">667399</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">SYNs </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">LISTEN </span><span class=\"crayon-e\">sockets </span><span class=\"crayon-v\">ignored</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>上面看到的 667399 times ，表示全连接队列溢出的次数，隔几秒钟执行下，如果这个数字一直在增加的话肯定全连接队列偶尔满了。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c4a881460354\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root&lt;a href=\"http://www.jobbole.com/members/server\"&gt;@server&lt;/a&gt; ~]#  netstat -s | grep TCPBacklogDrop</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c4a881460354-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c4a881460354-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">href</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"http://www.jobbole.com/members/server\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">server</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\">#  netstat -s | grep TCPBacklogDrop</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>查看 Accept queue 是否有溢出</p>\n<p>ss命令</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c4e331178540\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root&lt;a href=\"http://www.jobbole.com/members/server\"&gt;@server&lt;/a&gt; ~]#  ss -lnt\r\nState Recv-Q Send-Q Local Address:Port Peer Address:Port\r\nLISTEN     0      128 *:6379 *:*\r\nLISTEN     0      128 *:22 *:*</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c4e331178540-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c4e331178540-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c4e331178540-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c4e331178540-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c4e331178540-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">href</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"http://www.jobbole.com/members/server\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">server</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\">#  ss -lnt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c4e331178540-2\"><span class=\"crayon-e\">State </span><span class=\"crayon-v\">Recv</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">Q</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Send</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">Q</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Local </span><span class=\"crayon-v\">Address</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">Port </span><span class=\"crayon-e\">Peer </span><span class=\"crayon-v\">Address</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">Port</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c4e331178540-3\"><span class=\"crayon-i\">LISTEN</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\">      </span><span class=\"crayon-cn\">128</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">6379</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">*</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c4e331178540-4\"><span class=\"crayon-i\">LISTEN</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\">      </span><span class=\"crayon-cn\">128</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">*</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>如果State是listen状态，Send-Q 表示第三列的listen端口上的全连接队列最大为50，第一列Recv-Q为全连接队列当前使用了多少。<br>\n非 LISTEN 状态中 Recv-Q 表示 receive queue 中的 bytes 数量；Send-Q 表示 send queue 中的 bytes 数值。</p>\n<h3 id=\"小结\">小结</h3>\n<p>当外部连接请求到来时，TCP模块会首先查看max_syn_backlog，如果处于SYN_RCVD状态的连接数目超过这一阈值，进入的连接会被拒绝。根据tcp_abort_on_overflow字段来决定是直接丢弃，还是直接reset.</p>\n<p>从服务端来说，三次握手中，第一步server接受到client的syn后，把相关信息放到半连接队列中，同时回复syn+ack给client. 第三步当收到客户端的ack, 将连接加入到全连接队列。</p>\n<p>一般，全连接队列比较小，会先满，此时半连接队列还没满。如果这时收到syn报文，则会进入半连接队列，没有问题。但是如果收到了三次握手中的第3步(ACK)，则会根据tcp_abort_on_overflow字段来决定是直接丢弃，还是直接reset.此时，客户端发送了ACK, 那么客户端认为三次握手完成，它认为服务端已经准备好了接收数据的准备。但此时服务端可能因为全连接队列满了而无法将连接放入，会重新发送第2步的syn+ack, 如果这时有数据到来，服务器TCP模块会将数据存入队列中。一段时间后，client端没收到回复，超时，连接异常，client会主动关闭连接。</p>\n<h1 id=\"三次握手四次挥手redis实例分析\">“三次握手，四次挥手”redis实例分析</h1>\n<ol>\n<li>我在dev机器上部署redis服务，端口号为6379,</li>\n<li>通过tcpdump工具获取数据包，使用如下命令</li>\n</ol>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c52930598510\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ntcpdump -w /tmp/a.cap port 6379 -s0\r\n-w把数据写入文件，-s0设置每个数据包的大小默认为68字节，如果用-S 0则会抓到完整数据包</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c52930598510-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c52930598510-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c52930598510-1\"><span class=\"crayon-v\">tcpdump</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">w</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tmp</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">cap </span><span class=\"crayon-i\">port</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6379</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">s0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c52930598510-2\"><span class=\"crayon-o\">-</span><span class=\"crayon-i\">w</span>把数据写入文件，<span class=\"crayon-o\">-</span><span class=\"crayon-i\">s0</span>设置每个数据包的大小默认为<span class=\"crayon-cn\">68</span>字节，如果用<span class=\"crayon-o\">-</span><span class=\"crayon-i\">S</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span>则会抓到完整数据包</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p></p>\n<ol>\n<li>在dev2机器上用redis-cli访问dev:6379, 发送一个ping, 得到回复pong</li>\n<li>停止抓包，用tcpdump读取捕获到的数据包</li>\n</ol>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c58693207942\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ntcpdump -r /tmp/a.cap -n -nn -A -x| vim -\r\n（-x 以16进制形式展示，便于后面分析）</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c58693207942-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c58693207942-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c58693207942-1\"><span class=\"crayon-v\">tcpdump</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tmp</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">cap</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">n</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">nn</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">vim</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c58693207942-2\">（<span class=\"crayon-o\">-</span><span class=\"crayon-i\">x</span><span class=\"crayon-h\"> </span>以<span class=\"crayon-cn\">16</span>进制形式展示，便于后面分析）</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>共收到了7个包。</p>\n<p>抓到的是IP数据包，IP数据包分为IP头部和IP数据部分，IP数据部分是TCP头部加TCP数据部分。</p>\n<p>IP的数据格式为：<br>\n<img src=\"//upload-images.jianshu.io/upload_images/12234098-e6b04f3e9bebdac4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"ip head\"><br>\n它由固定长度20B+可变长度构成。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c5c274298164\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n10:55:45.662077 IP dev2.39070 &gt; dev.6379: Flags [S], seq 4133153791, win 29200, options [mss 1460,sackOK,TS val 2959270704 ecr 0,nop,wscale 7], length 0\r\n        0x0000:  4500 003c 08cf 4000 3606 14a5 0ab3 b561\r\n        0x0010:  0a60 5cd4 989e 18eb f65a ebff 0000 0000\r\n        0x0020:  a002 7210 872f 0000 0204 05b4 0402 080a\r\n        0x0030:  b062 e330 0000 0000 0103 0307</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c5c274298164-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c5c274298164-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c5c274298164-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c5c274298164-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c5c274298164-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c5c274298164-1\"><span class=\"crayon-cn\">10</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">55</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">45.662077</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">IP </span><span class=\"crayon-v\">dev2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">39070</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">dev</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">6379</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Flags</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">seq</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4133153791</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">win</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">29200</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">options</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-i\">mss</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1460</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">sackOK</span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">TS </span><span class=\"crayon-i\">val</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2959270704</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">ecr</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">nop</span><span class=\"crayon-sy\">,</span><span class=\"crayon-i\">wscale</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">length</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c5c274298164-2\"><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0x0000</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">4500</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">003c</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">08cf</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3606</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">14a5</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0ab3</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">b561</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c5c274298164-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0x0010</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0a60</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5cd4</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">989e</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18eb</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">f65a </span><span class=\"crayon-i\">ebff</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c5c274298164-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0x0020</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span><span class=\"crayon-i\">a002</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7210</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">872f</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0204</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">05b4</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0402</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">080a</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c5c274298164-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0x0030</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span><span class=\"crayon-e\">b062 </span><span class=\"crayon-i\">e330</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0103</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0307</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0028 seconds] -->\r\n<p>对着IP头部格式，来拆解数据包的具体含义。</p>\n<table>\n<thead>\n<tr>\n<th>字节值</th>\n<th>字节含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0x4</td>\n<td>IP版本为ipv4</td>\n</tr>\n<tr>\n<td>0x5</td>\n<td>首部长度为5 * 4字节=20B</td>\n</tr>\n<tr>\n<td>0x00</td>\n<td>服务类型，现在基本都置为0</td>\n</tr>\n<tr>\n<td>0x003c</td>\n<td>总长度为3*16+12=60字节，上面所有的长度就是60字节</td>\n</tr>\n<tr>\n<td>0x08cf</td>\n<td>标识。同一个数据报的唯一标识。当IP数据报被拆分时，会复制到每一个数据中。</td>\n</tr>\n<tr>\n<td>0x4000</td>\n<td><code>3bit 标志 + 13bit 片偏移</code>。3bit 标志对应 R、DF、MF。目前只有后两位有效，DF位：为1表示不分片，为0表示分片。MF：为1表示“更多的片”，为0表示这是最后一片。13bit 片位移：本分片在原先数据报文中相对首位的偏移位。（需要再乘以8 )</td>\n</tr>\n<tr>\n<td>0x36</td>\n<td>生存时间TTL。IP报文所允许通过的路由器的最大数量。每经过一个路由器，TTL减1，当为 0 时，路由器将该数据报丢弃。TTL 字段是由发送端初始设置一个 8 bit字段.推荐的初始值由分配数字 RFC 指定。发送 ICMP 回显应答时经常把 TTL 设为最大值 255。TTL可以防止数据报陷入路由循环。 此处为54.</td>\n</tr>\n<tr>\n<td>0x06</td>\n<td>协议类型。指出IP报文携带的数据使用的是哪种协议，以便目的主机的IP层能知道要将数据报上交到哪个进程。TCP 的协议号为6，UDP 的协议号为17。ICMP 的协议号为1，IGMP 的协议号为2。该 IP 报文携带的数据使用 TCP 协议，得到了验证。</td>\n</tr>\n<tr>\n<td>0x14a5</td>\n<td>16bitIP首部校验和。</td>\n</tr>\n<tr>\n<td>0x0ab3 b561</td>\n<td>32bit源ip地址。</td>\n</tr>\n<tr>\n<td>0x0a60 5cd4</td>\n<td>32bit目的ip地址。</td>\n</tr>\n</tbody>\n</table>\n<p>剩余的数据部分即为TCP协议相关的。TCP也是20B固定长度+可变长度部分。</p>\n<table>\n<thead>\n<tr>\n<th>字节值</th>\n<th>字节含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0x989e</td>\n<td>16bit源端口。1<em>16</em>16<em>16+8</em>16<em>16+14</em>16+11=39070</td>\n</tr>\n<tr>\n<td>0x18eb</td>\n<td>16bit目的端口6379</td>\n</tr>\n<tr>\n<td>0xf65a ebff</td>\n<td>32bit序列号。4133153791</td>\n</tr>\n<tr>\n<td>0x0000 0000</td>\n<td>32bit确认号。</td>\n</tr>\n<tr>\n<td>0xa</td>\n<td>4bit首部长度，以4byte为单位。共10*4=40字节。因此TCP报文的可选长度为40-20=20</td>\n</tr>\n<tr>\n<td>0b000000</td>\n<td>6bit保留位。目前置为0.</td>\n</tr>\n<tr>\n<td>0b000010</td>\n<td>6bitTCP标志位。从左到右依次是紧急 URG、确认 ACK、推送 PSH、复位 RST、同步 SYN 、终止 FIN。</td>\n</tr>\n<tr>\n<td>0x7210</td>\n<td>滑动窗口大小，滑动窗口即tcp接收缓冲区的大小，用于tcp拥塞控制。29200</td>\n</tr>\n<tr>\n<td>0x872f</td>\n<td>16bit校验和。</td>\n</tr>\n<tr>\n<td>0x0000</td>\n<td>紧急指针。仅在 URG = 1时才有意义，它指出本报文段中的紧急数据的字节数。当 URG = 1 时，发送方 TCP 就把紧急数据插入到本报文段数据的最前面，而在紧急数据后面的数据仍是普通数据。</td>\n</tr>\n</tbody>\n</table>\n<p>可变长度部分，协议如下：</p>\n<table>\n<thead>\n<tr>\n<th>字节值</th>\n<th>字节含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0x0204 05b4</td>\n<td>最大报文长度为，05b4=1460. 即可接收的最大包长度，通常为MTU减40字节，IP头和TCP头各20字节</td>\n</tr>\n<tr>\n<td>0x0402</td>\n<td>表示支持SACK</td>\n</tr>\n<tr>\n<td>0x080a b062 e330 0000 0000</td>\n<td>时间戳。Ts val=b062 e330=2959270704, ecr=0</td>\n</tr>\n<tr>\n<td>0x01</td>\n<td>无操作</td>\n</tr>\n<tr>\n<td>0x03 0307</td>\n<td>窗口扩大因子为7. 移位7, 乘以128</td>\n</tr>\n</tbody>\n</table>\n<p>这样第一个包分析完了。dev2向dev发送SYN请求。<code>也就是三次握手中的第一次了。</code><br>\n<code>SYN seq(c)=4133153791</code></p>\n<p>第二个包，dev响应连接，ack=4133153792. 表明dev下次准备接收这个序号的包，用于tcp字节注的顺序控制。dev（也就是server端）的初始序号为seq=4264776963, syn=1.<br>\n<code>SYN ack=seq(c)+1 seq(s)=4264776963</code></p>\n<p>第三个包，client包确认，这里使用了相对值应答。seq=4133153792, 等于第二个包的ack. ack=4264776964.<br>\n<code>ack=seq(s)+1, seq=seq(c)+1</code><br>\n至此，三次握手完成。接下来就是发送ping和pong的数据了。</p>\n<p>接着第四个包。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c62999867229\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n10:55:48.090073 IP dev2.39070 &gt; dev.6379: Flags [P.], seq 1:15, ack 1, win 229, options [nop,nop,TS val 2959273132 ecr 3132256230], length 14\r\n        0x0000:  4500 0042 08d1 4000 3606 149d 0ab3 b561\r\n        0x0010:  0a60 5cd4 989e 18eb f65a ec00 fe33 5504\r\n        0x0020:  8018 00e5 4b5f 0000 0101 080a b062 ecac\r\n        0x0030:  bab2 6fe6 2a31 0d0a 2434 0d0a 7069 6e67\r\n        0x0040:  0d0a</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c62999867229-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c62999867229-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c62999867229-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c62999867229-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c62999867229-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c62999867229-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c62999867229-1\"><span class=\"crayon-cn\">10</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">55</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">48.090073</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">IP </span><span class=\"crayon-v\">dev2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">39070</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">dev</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">6379</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Flags</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">P</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">seq</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">ack</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">win</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">229</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">options</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">nop</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">nop</span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">TS </span><span class=\"crayon-i\">val</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2959273132</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">ecr</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3132256230</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">length</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">14</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c62999867229-2\"><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0x0000</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">4500</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0042</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">08d1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3606</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">149d</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0ab3</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">b561</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c62999867229-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0x0010</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0a60</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5cd4</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">989e</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18eb</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">f65a </span><span class=\"crayon-e\">ec00 </span><span class=\"crayon-i\">fe33</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5504</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c62999867229-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0x0020</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">8018</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">00e5</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4b5f</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0101</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">080a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">b062 </span><span class=\"crayon-i\">ecac</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c62999867229-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0x0030</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span><span class=\"crayon-i\">bab2</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6fe6</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2a31</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0d0a</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2434</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0d0a</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7069</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6e67</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c62999867229-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0x0040</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0d0a</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0031 seconds] -->\r\n<p>tcp首部长度为32B, 可选长度为12B. IP报文的总长度为66B, 首部长度为20B, 因此TCP数据部分长度为14B. seq=0xf65a ec00=4133153792<br>\nACK, PSH. 数据部分为2a31 0d0a 2434 0d0a 7069 6e67 0d0a</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080dff1c67939129825\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n0x2a31         -&gt; *1\r\n0x0d0a         -&gt; \\r\\n\r\n0x2434         -&gt; $4\r\n0x0d0a         -&gt; \\r\\n\r\n0x7069 0x6e67  -&gt; ping\r\n0x0d0a         -&gt; \\r\\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c67939129825-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c67939129825-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c67939129825-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c67939129825-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080dff1c67939129825-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080dff1c67939129825-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080dff1c67939129825-1\"><span class=\"crayon-cn\">0x2a31</span><span class=\"crayon-h\">         </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c67939129825-2\"><span class=\"crayon-cn\">0x0d0a</span><span class=\"crayon-h\">         </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">\\</span><span class=\"crayon-i\">n</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c67939129825-3\"><span class=\"crayon-cn\">0x2434</span><span class=\"crayon-h\">         </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-cn\">4</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c67939129825-4\"><span class=\"crayon-cn\">0x0d0a</span><span class=\"crayon-h\">         </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">\\</span><span class=\"crayon-i\">n</span></div><div class=\"crayon-line\" id=\"crayon-5ce080dff1c67939129825-5\"><span class=\"crayon-cn\">0x7069</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0x6e67</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">ping</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080dff1c67939129825-6\"><span class=\"crayon-cn\">0x0d0a</span><span class=\"crayon-h\">         </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">\\</span><span class=\"crayon-v\">n</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>dev2向dev发送了ping数据，第四个包完毕。</p>\n<p>第五个包，dev2向dev发送ack响应。<br>\n序列号为0xfe33 5504=4264776964, ack确认号为0xf65a ec0e=4133153806=(4133153792+14).</p>\n<p>第六个包，dev向dev2响应pong消息。序列号fe33 5504，确认号f65a ec0e, TCP头部可选长度为12B, IP数据报总长度为59B, 首部长度为20B, 因此TCP数据长度为7B.<br>\n数据部分2b50 4f4e 470d 0a, 翻译过来就是<code>+PONG\\r\\n</code>.</p>\n<p>至此，Redis客户端和Server端的三次握手过程分析完毕。</p>\n<h1 id=\"总结\">总结</h1>\n<p>“三次握手，四次挥手”看似简单，但是深究进去，还是可以延伸出很多知识点的。比如半连接队列、全连接队列等等。以前关于TCP建立连接、关闭连接的过程很容易就会忘记，可能是因为只是死记硬背了几个过程，没有深入研究背后的原理。</p>\n<p>所以，“三次握手，四次挥手”你真的懂了吗？</p>\n<h1 id=\"参考资料\">参考资料</h1>\n<p>【redis】https://segmentfault.com/a/1190000015044878<br>\n【tcp option】https://blog.csdn.net/wdscq1234/article/details/52423272<br>\n【滑动窗口】https://www.zhihu.com/question/32255109<br>\n【全连接队列】http://jm.taobao.org/2017/05/25/525-1/<br>\n【client fooling】 https://github.com/torvalds/linux/commit/5ea8ea2cb7f1d0db15762c9b0bb9e7330425a071<br>\n【backlog RECV_Q】http://blog.51cto.com/59090939/1947443<br>\n【定时器】https://www.cnblogs.com/menghuanbiao/p/5212131.html<br>\n【队列图示】https://www.itcodemonkey.com/article/5834.html<br>\n【tcp flood攻击】https://www.cnblogs.com/hubavyn/p/4477883.html<br>\n【MSS MTU】https://blog.csdn.net/LoseInVain/article/details/53694265</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114633\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114633votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114633\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 11 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/e8f8b7fe8c56ba964bd5eb1fadab627b06618a67.jpg"}{"url_object_id": "2f7b972b2e12bd6d11d11bbe3178b413", "title": "救命！我的电子邮件发不到 500 英里以外！", "url": "http://blog.jobbole.com/114589/", "create_date": "2018/12/29", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2018/12/36e31dd89e6544ad8e05bb49bb1da4c7.jpg"], "praise_nums": "1", "fav_nums": "1", "comment": "", "tags": "IT技术,Linux,SMTP", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://web.mit.edu/jemorris/humor/500-miles\">Trey Harris</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-10395-1.html\">Linux中国/Xingyu.Wang</a>   </div><p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/12/36e31dd89e6544ad8e05bb49bb1da4c7.jpg\"></p>\n<p>这是一个听起来几乎不可能的事情……我甚至有点后悔将它发到网上，因为它在一个会议上成了一则著名的酒后故事。这个故事略有改动，以保护故事中的人物，以及忽略了一些无关的细节使之更有趣一些。</p>\n<p>几年前，当我接到统计系主任的电话时，我正在从事维护校园电子邮件系统的工作。</p>\n<p>“我们从部门发送电子邮件时遇到了问题。”</p>\n<p>“有什么问题？” 我问。</p>\n<p>“我们不能发送超过 500 英里的邮件，”主任解释说。</p>\n<p>“咳咳”，我被我喝的拿铁呛了一口，“您再说一遍？”</p>\n<p>“我们不能发送距这里超过 500 英里的邮件，”他重复道。 “实际上，更远一点，是 520 英里，但不能更远了。”</p>\n<p>“嗯……电子邮件真的不会这样，通常，”我说，试着让我的声音听起来不那么慌乱。我不能和一个系主任说话时显得慌乱，即使是一个像统计系这样的相对没钱的院系。 “是什么让你觉得你不能发送邮件超过 500 英里？”</p>\n<p>“这不是我<strong>认为的</strong>，”主任有点急躁地回答道。 “我们首先注意到了这种情况是几天前。”</p>\n<p>“你等了<strong>几天</strong>？” 我打断他，带点颤音说道。 “这段时间你一直你不能发送电子邮件？”</p>\n<p>“我们可以发送电子邮件。只是不超过 ——”</p>\n<p>“—— 500 英里，我知道，”我接过他的话，“我知道了。但为什么没有你早点打电话呢？”</p>\n<p>“好吧，我们没有收集到足够的数据来确定发生了什么，直到现在。”没错，这是<strong>统计</strong>系的主任。“不管怎么说，我请了一位地理统计学家研究它 ——”</p>\n<p>“地理统计学家……”</p>\n<p>“—— 是的，她制作了一张地图，显示了我们发送电子邮件能够达到的半径略超过 500 英里。在那个半径范围内有零星的几个无法到达的目的地，但我们永远不能发送比这半径更远的电子邮件。”</p>\n<p>“我明白了，”我说，把头埋在我的手中。 “这是什么时候开始的？几天前，你说过，但是那时你的系统做了什么改变？”</p>\n<p>“嗯，服务顾问来给我们的服务器打了补丁，并重新启动了它。但我打电话给他，他说他没有碰过邮件系统。”</p>\n<p>“好的，让我来看看，我稍后会给你回电话，”我说。我简直觉得我在做梦，这不是愚人节。我试着回想是不是有人恶作剧报复我。</p>\n<p>我登录了他们系的服务器，并发送了一些测试邮件。在北卡罗来纳州的三角研究园（ Research Triangle Park），我自己的帐户的测试邮件顺利投递。发往里士满、亚特兰大和华盛顿的也是如此。发往普林斯顿（400 英里）的另一个邮件也正常。</p>\n<p>但后来我尝试向孟菲斯（600 英里）发送电子邮件，失败了。波士顿，失败了。底特律，也失败了。我拿出了我的地址簿，开始试图缩小它的范围。纽约（420 英里）工作，但普罗维登斯（580 英里）失败了。</p>\n<p>我开始怀疑自己是不是疯了。我试过给住在北卡罗来纳州的朋友发电子邮件，但他的 ISP 在西雅图。谢天谢地，它失败了。如果问题与收件人的地理位置有关，而不是他的邮件服务器，我想我要哭了。</p>\n<p>已经确定！虽然令人难以置信，但所报告的问题是真实的、可重复的，我看了一下 <code>sendmail.cf</code> 文件。它看起来很正常。事实上，它看起来很熟悉。</p>\n<p>我把它与我主目录中的 <code>sendmail.cf</code> 做了个对比。它没有被改过 —— 这是我写的 <code>sendmail.cf</code>。 而且我相当确定我没有启用某种 “<code>FAIL_MAIL_OVER_500_MILES</code>” 选项。我不知所措，我 telnet 到 SMTP 端口。 服务器愉快地回复了 SunOS sendmail 的横幅消息。</p>\n<p>等一下……一个 SunOS sendmail 的横幅消息？当时，即使 Sendmail 8 已经相当成熟，Sun 公司在其操作系统中装的仍然是 Sendmail 5。作为一名优秀的系统管理员，我已经对 Sendmail 8 进行了标准化。并且作为一名优秀的系统管理员，我编写了一个 <code>sendmail.cf</code>，它使用了 Sendmail 8 中提供的很长的、具有自我描述意义的选项和变量，而不是 Sendmail 5 中使用的那种神秘的标点符号式配置选项。</p>\n<p>这个细节一下子又回到了起点，我再次被我现在已经冷掉了的拿铁咖啡渣呛了。 当服务顾问“对服务器打补丁”时，他显然升级了 SunOS 的版本，并且这样做<strong>降级了</strong> Sendmail。这次升级会将 sendmail.cf 单独留下，即使它现在是错误的版本。</p>\n<p>事实上，Sendmail 5 —— 至少是 Sun 所带的版本，是有一些调整的 —— 它可以处理 Sendmail 8 的 <code>sendmail.cf</code>，因为大多数规则在那时保持不变。但新的长配置选项 —— 它被视为垃圾，并跳过。 并且 <code>sendmail</code> 二进制文件编译时没有针对其中大多数设置默认值，因此，在 <code>sendmail.cf</code> 文件中找不到合适的配置，它们被设置为 0。</p>\n<p>被设置为 <strong>0</strong> 的配置之一是连接到远程 SMTP 服务器的超时选项。 一些实验证明，在具有典型负载的特定机器上，<strong>0</strong> 超时将在稍微超过 <strong>3 毫秒</strong>的时间内中止连接调用。</p>\n<p>当时我们校园网络的一个奇怪的特点是它是 100％ 交换的。传出的数据包不会出现路由器延迟，直到命中 POP 服务器并到达远端的路由器。因此，连接到附近网络上的轻负载的远程主机的时间实际上主要取决于到目的地的光速的速度，而不是偶然的路由器延迟。</p>\n<p>这让我有点晕，我在我的 shell 中输入：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080d87c4ee916216516\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ units\r\n1311 units, 63 prefixes\r\n\r\nYou have: 3 millilightseconds\r\nYou want: miles\r\n* 558.84719\r\n/ 0.0017893979</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080d87c4ee916216516-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080d87c4ee916216516-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080d87c4ee916216516-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080d87c4ee916216516-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080d87c4ee916216516-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080d87c4ee916216516-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080d87c4ee916216516-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080d87c4ee916216516-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">units</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080d87c4ee916216516-2\"><span class=\"crayon-cn\">1311</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">units</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">63</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">prefixes</span></div><div class=\"crayon-line\" id=\"crayon-5ce080d87c4ee916216516-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080d87c4ee916216516-4\"><span class=\"crayon-e\">You </span><span class=\"crayon-v\">have</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">millilightseconds</span></div><div class=\"crayon-line\" id=\"crayon-5ce080d87c4ee916216516-5\"><span class=\"crayon-e\">You </span><span class=\"crayon-v\">want</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">miles</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080d87c4ee916216516-6\"><span class=\"crayon-e \">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">558.84719</span></div><div class=\"crayon-line\" id=\"crayon-5ce080d87c4ee916216516-7\"><span class=\"crayon-o\">/</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.0017893979</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>“500 英里，或者稍微多一点点。”</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114589\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114589votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114589\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/5c0106d0085154f025177d4589a641ed3b94dd01.jpg"}{"url_object_id": "8033832ada5440b9015d447b6c1f32b0", "title": "微软变了！招程序员的流程完全改了", "url": "http://blog.jobbole.com/114610/", "create_date": "2019/01/05", "front_image_url": ["http://wx3.sinaimg.cn/mw690/7cc829d3ly1fyvkjyngtoj218g0tmdlf.jpg"], "praise_nums": "2", "fav_nums": "6", "comment": "1", "tags": "职场,微软,技术面试,面试", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/aoi\">伯小乐</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://blog.usejournal.com/rethinking-how-we-interview-in-microsofts-developer-division-8f404cfd075a\">John Montgomery</a>。欢迎加入<a target=\"_blank\" href=\"https://github.com/jobbole/translation-project\">翻译组</a>。</div><p class=\"graf graf--p graf-after--h3\">【伯乐在线导读】：在微软新 CEO 萨蒂亚·纳德拉的领导下，微软试图改革公司文化，让整个公司朝着同一个方向发展。为此，微软在 2016 年开始研究「替代面试框架（Alternative Interview Framework）」。这是一种在开发部门进行面试的新方式，目的是减少偏见，更好地测试求职者在工作中实际需要的技能。该团队首先在自己身上测试了面试过程，并在过程中不断改进。</p>\n<p class=\"graf graf--p graf-after--h3\">本文作者约翰·蒙哥马利（John Montgomery）是微软项目管理合伙人，他也是新面试流程的负责人。本文写于 2018 年 12 月 15 日，原标题：《Rethinking how we interview in Microsoft’s Developer Division | 对微软开发者部门招聘流程的反思》。以下是伯乐在线的译文：</p>\n<hr>\n<p> </p>\n<p>几年前，我有了一系列的顿悟。我刚刚和团队讨论了我们将如何改变项目经理的角色。少关注待办事项，多关注业务；少强调“知道”，多强调“学习和质疑”；更多地关注与客户一对一的接触，而不是聚合数据。我们想把能帮助我们改变这种文化的人带到团队中，但我们仍然在问同样的面试问题，使用同样的面试风格。所以反思了我们是如何面试候选人的，并想出了一些适合我们的方法。</p>\n<p>新面试流程我们已经用了一段时间了，我认为有必要分享一下我们所做的，以及学到的东西。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3ly1fyvkjyngtoj218g0tmdlf.jpg\" width=\"690\" height=\"460\"></p>\n<h3 id=\"56df\" class=\"graf graf--h3 graf-after--figure\"></h3>\n<h3>第 1 个顿悟：我们仍然在问一些过时（和无效）的面试题</h3>\n<p>第一个顿悟是我首次从程序员转为项目经理之后，我们注意到，我们仍然在问过去 10 年或更长的时间里一直在问的面试题。如果我们想寻找能够将不同技能和观点的新人带入团队，那些面试题就没有意义了。（补充：我在微软工作时，我们还在问为什么下水道井盖是圆的，一架波音 747 飞机能装满多少个乒乓球，以及如何反转一个链表。在微软工作的 20 年中，我还没有编写代码来反转链表，或用任何类型的球堆满波音 747。）</p>\n<p>不仅如此，有时两个面试官会无意中问同样的基本问题。即使在协调面试题的时候，面试官之间也是共享着相同的面试题目录。有些基于行为的面试题并不可怕，但我们并没有特别有效地运用它们。</p>\n<p> </p>\n<h3 class=\"graf graf--p graf-after--h3\">第 2 个顿悟：并不是人人都能在快节奏、高压力的环境中超常发挥</h3>\n<p>第二次顿悟是在一次会议上。点子冒出来的很快，与会者听着对方的话语，试图把自己的想法融入谈话，我们很快就做出了一些重大决定。至少，我确信这将是一件大事。（我当时被一个客户问题分散了注意力，我正与客户经理和工程团队一起解决客户的问题。这是另一个故事。）不管怎么说，这次会议已经达到了高潮，其中一位与会者，我团队中的一名 PM，他非常聪明，也很安静。他说，“我只是在网上搜索有关我们主题的信息，是的，这个想法行不通。”她的态度比这要好。但让我顿悟的是，并不是所有人都能在那些快节奏的头脑风暴会议中出色表现。很多人（包括我）更喜欢坐着喝杯咖啡，看看数据，试着把事情想清楚。更重要的是，在我的职业生涯中，几乎没有任何一次我们做出重大决定的时候，没有不是离开一段时间，然后用新的眼光、新的数据和新的客户研究来处理点子。</p>\n<p>但大多数面试都是快节奏的，那些你从未遇到过的问题，你能有多快地解决？</p>\n<p> </p>\n<h3 class=\"graf graf--p graf-after--h3\">第 3 个顿悟：观察新人工作能力的最佳方式，是和他们一起工作</h3>\n<p class=\"graf graf--p graf-after--h3\">在我和一些工程团队谈论他们是如何将新人带入他们团队的时候，第三个顿悟冒出来了。开发者部门做了很多开源工作（.NET Core、VS Code、TypeScript 等等。作为面试过程的一部分，我们开发团队已经开始与应聘者一起解决某个问题或特性。这就是候选人在和团队一起合作，解决实际问题的过程。</p>\n<p class=\"graf graf--p graf-after--h3\"><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3ly1fyvkjvc5cgj218g0tm7b0.jpg\" width=\"690\" height=\"460\"></p>\n<h3 class=\"graf graf--p graf-after--h3\">把点子写下来，然后迭代</h3>\n<p class=\"graf graf--p graf-after--h3\">既然“写作就是思考”，我就给自己写了一封电子邮件，讨论我们团队面试流程能有什么样的变化。然后我把自己的想法分享给团队成员，我们开始迭代。 Karen Ng、Amanda Silver、Cindy Alvarez、Nathan Halstead、Anthony Cangialosi、Jeff McAffer、Jessica Rich、Travis Lowdermilk 等成员参与了测试、迭代和测试。</p>\n<p class=\"graf graf--p graf-after--p\">当我们准备推出新面试流程时，我们从很小的地方开始，然后继续学习、迭代，然后扩展。现在，这个新流程（我们称之为“另类面试框架”，因为我们中没有人特别擅长命名事物）是我们的标准实践。我们不断地完善和学习，它对我们非常有效。</p>\n<p class=\"graf graf--p graf-after--p\">下面是我们做的一些不同的事情。</p>\n<h3 id=\"ddca\" class=\"graf graf--h3 graf-after--p\"></h3>\n<h3>1、提前分享面试</h3>\n<p>首先，我们要提前几天让候选人知道面试日是什么样的，我们要解决什么样的问题。我们给他们时间去做研究和思考。这并不是说每天上班都是件惊喜的事，那么面试为什么要这样呢?</p>\n<h3>2、用真实的问题</h3>\n<p>其次，我们采用了团队正在努力解决的一个实际问题，比如：提高满意度、增加留存率、促进服务或特性的使用。事实上，这是我们正在解决的一个真正的问题，这有助于促进合作对话。</p>\n<h3>3、候选人可以查阅资料</h3>\n<p>第三，我们让候选人能拿到与正式员工相同的资料。在面试过程中，他们可以自由上网或搜索更多数据。我们经常向候选人提供我们的客户研究、使用数据、设计和模型——几乎我们所有的一切。</p>\n<h3 id=\"22c2\" class=\"graf graf--h3 graf-after--p\">4、让面试更有互动性</h3>\n<p class=\"graf graf--p graf-after--h3\">我们不是简单地向求职者提问题。面试官和求职者要一起解决问题，所以我们就把求职者当同事看待，一起来解决特定的实际问题。</p>\n<h3 id=\"81c8\" class=\"graf graf--h3 graf-after--p\">5、遵循单一场景/问题</h3>\n<p class=\"graf graf--p graf-after--h3\">第五，我们在面试日都遵循一个单一的场景/问题，带领求职者过一遍类似 PM 会经历的过程，从客户或业务问题开始，理解客户待完成的工作要，设计解决方案，将解决方案交到客户手中，最终让客户使用并爱上它。每次面试都侧重于这一流程中的某一不同的阶段。</p>\n<h3 id=\"99ed\" class=\"graf graf--h3 graf-after--p\">6、两个面试官</h3>\n<p class=\"graf graf--p graf-after--h3\">第六，我们为面试官配对。与一对一的面试不同，我们每次面试都从团队中挑选两个人。我们的最初动机是培养更多的面试官，但有两个面试官在一起还有其他好处。与多个合作者的谈话，不仅更有活力，而且让我们有机会从多个角度观察同一场面试谈话。并不是每个人对同一场面试谈话都有同样的看法，所以，它给了我们一种方法来检查在相同谈话中的无意识偏见。</p>\n<h3 id=\"dd4b\" class=\"graf graf--h3 graf-after--p\">7、把反馈留到最后</h3>\n<p>面试官之间的反馈，我们把保留到面试日结束之时。我们希望每位面试官只根据他们谈话的优点来判断候选人，而不是根据他们之前面试官的意见。我们告诉面试官，不要向别人暗示他们是否倾向于推荐我们雇佣某人。他们把候选人交给下一轮面试官，并总结我们在上一环节中学到的东西。在面试日结束的时候，每个面试官同时提出他们的建议，并解释相应理由。</p>\n<h3 id=\"8996\" class=\"graf graf--h3 graf-after--p\">8、总结面试流程的优缺点</h3>\n<p>第八，在每次面试循环的最后，我们不仅要讨论我们在面试中所学到的东西，还要讨论在面试过程中哪些有用，哪些没用。我们再把这些反馈重新应用到面试流程中，流程会变得更好。</p>\n<p> </p>\n<p><span style=\"color: #ff0000;\"><strong>关于新的面试流程，我或许忘了一些，但上述 8 个方面是最重要的。</strong></span></p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3ly1fyvkjs4mvzj218g0tmah5.jpg\" width=\"690\" height=\"460\"></p>\n<h3>我们学到了什么?</h3>\n<p>嗯，我们担心候选人会紧张。面试日有两个面试官和候选人在一起，有真实的问题，还有真实的数据。几乎每个候选人都主动反馈说，新面试流程是独一无二的，真正帮助他们了解我们的业务和团队。即使是那些没有收到录用通知的求职者，也喜欢新的面试流程，明白我们为什么没有录用他们。</p>\n<h3 id=\"4adc\" class=\"graf graf--h3 graf-after--p\">不断优化面试流程</h3>\n<p class=\"graf graf--p graf-after--h3\">我们发现还是有不少要改进的地方。例如，我们 PM 团队是非常有技术性的。许多 PM 将代码 check in 生产产品。这对我们来说是有意义的：我们面试流程的「客户」是开发者，因此拥有来自于创建软件的那种客户理解，是很有帮助的。但在这个过程中，我们并没有很好地深入了解应聘者的技术技能。因此，我们增加了一个面试环节，以进行更技术性的互动。</p>\n<h3 id=\"d691\" class=\"graf graf--h3 graf-after--p\">后勤</h3>\n<p class=\"graf graf--p graf-after--h3\">我们了解到，相对标准面试流程，新流程的一些相应准备工作真心不容易。举个例子，由于求职者正在处理同样的问题，并在白板上写下他们以后需要的东西，我们需要为求职者保留一个专门的空间（会议室或 Focus Room），面试官会去找求职者。</p>\n<p class=\"graf graf--p graf-after--h3\">（补注：Focus Room 是一个消除压力的环境，可以帮助你在缓解压力的同时传递信息。）</p>\n<h3 id=\"0e52\" class=\"graf graf--h3 graf-after--p\">面试过程的成本不菲</h3>\n<p id=\"a1ed\" class=\"graf graf--p graf-after--h3\">我们了解到面试是“昂贵的”。“每次两个面试官，我们的时间和人力投入翻了一番，大大增加了日程安排的复杂性。”然而，在最初对费用有些抱怨之后，团队中的每个人都开始看到了好处，就像团队中有更多的人见到了我们潜在的新员工。所以，我们愿意付出这些代价。</p>\n<p class=\"graf graf--p graf-after--p graf--trailing\">最终，招聘流程的目标是把优秀的人员带入团队或公司——确保他们是合适的，会成功，并为他们创造良好的经验，他们才会想要加入。我们和其他几家西雅图的大型科技公司都向一位求职者提供了竞争性的工作机会，她特别选择了我们的团队，因为她非常喜欢这个过程。她碰巧成为了我们在早期实验阶段的候选人之一，她还在这里上班，做的很好。其他很多候选人也类似。所以我说，我们的新面试流程表现的很好。我们仍在学习，但到目前为止，新面试流程的成果已超过我们的预期。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114610\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114610votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114610\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">伯小乐</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/11/f2bb4f6f428a49476a2e91c355c8d150.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            伯乐在线小编一枚~~~~PS：我不是@小编辑，不要问我了        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/aoi\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/aoi/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/aoi/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 268</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/7bdedcbe3a2b6f02e32029833f3727ce62ef1dd4.jpg"}{"url_object_id": "2d1034c247bc0e1d980f6ed7e5136ce7", "title": "cat 命令的源码进化史", "url": "http://blog.jobbole.com/114591/", "create_date": "2019/01/03", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2019/01/171da56db445e8be2588f20355c6cb5c.jpeg"], "praise_nums": "1", "fav_nums": "", "comment": "", "tags": "趣文小说,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/wx1905494155\">一汀</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://twobithistory.org/2018/11/12/cat.html\">Two-Bit History</a>。欢迎加入<a target=\"_blank\" href=\"https://github.com/jobbole/translation-project\">翻译组</a>。</div><p><a href=\"http://jbcdn2.b0.upaiyun.com/2019/01/d8bdfba2d268694a133b357db59b381f.jpeg\"><img class=\"alignnone size-full wp-image-114597\" src=\"http://jbcdn2.b0.upaiyun.com/2019/01/d8bdfba2d268694a133b357db59b381f.jpeg\" alt=\"cat-command-linux\"></a></p>\n<p>有一次，我跟我的亲戚有一场争论，是关于读一个计算机科学的学位是否值得。当时是我在大学里面临是否选择计算机科学专业的时候。我姑姑和一个表哥认为我不该选。他们觉得会编程当然是个既有用又合算的事情，但是他们也坚信，计算机科学更新太快了，当下学到的知识会很快被淘汰掉。所以最好是选一门编程的课程，然后主修经济或者物理这种基本知识一辈子都适用的专业。</p>\n<p>我并不相信他们的理论，并且选择了主修计算机专业（抱歉了姑姑和表哥！）其实不难看出，为什么常人会认为计算机科学，或者软件工程这样的专业，每几年就会更新换代。先是诞生了私人计算机，然后是网络，手机，机器学习……科技永远在变化，那么其潜在的技术原理当然也在变化了。当然，最让人惊讶的是，这些基础技术原理，其实基本没变。我相信大部分人要是知道他们计算机中重要软件到底有多老，肯定会震惊。我并不是说软件的表面，毕竟我自己用的最多的火狐浏览器，两周前才更新过。但是如果你打开帮助手册查看 <code>grep </code>之类的工具，你会发现它的上一次更新还是在 2010 年（至少 Mac 系统是这样）。<code>grep </code>的初代诞生于 1974 年，那时候的计算机时代好比侏罗纪。现如今，人们（以及程序）在工作中仍然要依赖 grep 做很多事情。</p>\n<p>我姑姑和表哥把计算机科技想象成一系列沙滩上的城堡，涨潮时潮水抹去旧的城堡，更加华丽的新城堡又会被建成。其实在现实中的很多领域，我们都是不断地在现有的程序基础上进行迭代。我们也许会时不时的修改这些程序来避免软件崩溃，但是除此之外这些程序不需要额外的维护。<code>grep </code>是一个简单的程序，它所解决的问题现在也有意义，所以它至今还存在。很多应用程序的编写都起始于一个很高的角度，就像是在金字塔顶端的基础上构建，而金字塔本身是由曾经解决问题的答案所建成的。现在看来很陈旧的，三四十年前的想法与概念，在很多时候都融入到了你现在计算机上安装了的应用程序里。</p>\n<p>我想仔细研究一个这样的老程序，看看它从诞生到现在到底被修改了多少次，这肯定很有趣。我想用 <code>cat </code>这个最简单的 Unix 工具来作为例子。Ken Thompson 在 1969 年开发了初代 <code>cat</code>。如果我跟别人说我计算机里有个 1969 年的程序，这准确吗？<code>cat </code>在这几十年里到底经历了几次迭代？我们计算机里的程序到底有多古老？</p>\n<p>幸好有<a href=\"https://github.com/dspinellis/unix-history-repo\">这个</a>代码仓库，我们可以清晰地了解到，从 1969 年以来，<code>cat </code>是如何进化的。我接下来会主要聚焦于我自己 Macbook 上 <code>cat </code>程序的历史实现方式。你会看到，<code>cat </code>历史从最初的 Unix 版本，到现在的 Mac 版本，这个程序被重写了比你预想的还要多的次数，但是最终它所实现的功能几乎跟五十年前一模一样。</p>\n<h2>Unix实验版本</h2>\n<p>1969 年，Ken Thompson 和 Dennis Ritchie 开始在 PDP 7 上开发 Unix。这是在 C 语言出现之前，所以早期的 Unix 程序都是用 PDP 7 上用汇编语言开发的。他们使用了专门针对于 Unix 的汇编版本，因为 Ken Thompson 开发了自己的汇编编译器，他在 PDP 7 出厂商DEC 提供的编译器基础上添加了新的功能。Thompson 的改进文档在初始 <a href=\"https://www.bell-labs.com/usr/dmr/www/man11.pdf\">Unix 编程手册</a>中有收录，在 <code>as </code>编译器条目下面。</p>\n<p><code>cat </code>的初代实现使用了 PDP 7 汇编语言。我有添加一些注释来解释每行命令，但是除非你明白 Thompson 编写汇编编译器的一些扩展，不然这个程序还是很难理解。这里有两个重要的点。第一，字符<strong><span style=\"color: #ff0000;\"> <code>; </code></span></strong>可以被用于分隔同一行的声明语句。根据 sys 指令的描述，<strong><span style=\"color: #ff0000;\"> <code>; </code></span></strong>通常被用于在同一行使用系统调用参数。第二，Thompson 添加了数字 0-9 用于支持“暂存标记”。这些标记可以被整个程序重用，这就像 Unix 编程手册所描述的，“对于程序员思维和汇编语言字符空间的缩减优化”。从手册中，你可以使用 <code>nf </code>来表示下一个标记 <code>n，</code>用 <code>nb </code>来表示上一个标记 <code>n</code>。举个例子，如果你有个标记为 <code>1: </code>的代码块，你可以从相距很远的下方代码中使用 <code>jmp 1b </code>来往上跳回标记代码。(但是你不能往下跳到标记代码，除非你使用<code>jmp 1f</code>。)</p>\n<p>关于初代 <code>cat </code>最有意思的是，它包含了两个我们熟知的名字，分别是一个标记为是一个标记为 <code>getc</code>，和一个标记为 <code>putc </code>的代码块，这表示这俩名字要比标准 C 语言库都要历史久远。初代 <code>cat </code>实际上包含了这两个方法的实现。这样的实现方式使得输入字符可以被写入缓冲区，也就是说，读和写不需要以单个字符为单位完成。</p>\n<p><a href=\"https://gist.github.com/sinclairtarget/47143ba52b9d9e360d8db3762ee0cbf5#file-1-cat-pdp7-s\">初代 <code>cat</code></a> 并没有存在很久。Ken Thompson 和 Dennis Ritchie 成功劝说了贝尔实验室帮他们购入了一台 PDP11，以便于他们对 Unix 系统进行扩展与提高。PDP 11 使用的是一种不同的指令集，因此他们不得不重写 <code>cat</code>。对于 <a href=\"https://gist.github.com/sinclairtarget/47143ba52b9d9e360d8db3762ee0cbf5#file-2-cat-pdp11-s\">第二代 <code>cat</code></a> 代码我也加了注释。第二代使用了针对于新指令集的新版汇编助记符，也利用了 PDP 11中不同的<a href=\"https://en.wikipedia.org/wiki/PDP-11_architecture#Addressing_modes\">地址模式</a>。（那些源代码中的括号和 <strong><span style=\"color: #ff0000;\">$</span></strong> 符号，是被用来指代不同的地址模式的。）但是 <code>cat </code>第二代中也同样使用了初代中的<strong><span style=\"color: #ff0000;\"> <code>; </code></span></strong>和暂存标记，这些功能一定是在 PDP 11 中移植 <code>as </code>时被保留了下来。</p>\n<p><code>cat </code>的第二代源代码远比初代要简洁很多。第二代也更加的”Unix-y”，因为它不再需要一串文件名作为命令参数，而是与如今的 <code>cat</code>一样，在没有参数的情况下，从 <code>stdin </code>读取输入。对于二代 <code>cat</code>，你也可以使用参数来指定从 <code>stdin </code>读取输入数据。</p>\n<p>1973 年，为了准备发布第四版 Unix，很大一部分 Unix 系统都用 C 语言重写了一遍。但是 C 语言版本的 <code>cat </code>在 Unix 发布后过了一段时间才出现。<a href=\"https://gist.github.com/sinclairtarget/47143ba52b9d9e360d8db3762ee0cbf5#file-3-cat-v7-c\">第一个 C 语言版本</a>的 <code>cat </code>只出现在第七版 Unix 系统中。这个实现方法非常值得一读，因为它非常简单明了。与其他版本比较，这一版最能作为代表 <code>cat </code>的 K&amp;R C 语言教育演示版本。这段程序的核心就是如下两行：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080d9c1b35521089892\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nwhile ((c = getc(fi)) != EOF)\r\n    putchar(c);</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080d9c1b35521089892-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080d9c1b35521089892-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080d9c1b35521089892-1\"><span class=\"crayon-st\">while</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">getc</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fi</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">EOF</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080d9c1b35521089892-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">putchar</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>当然还有更多的代码，但是除了这两行以外，剩下的逻辑更多的是在确保用户不会同时读写同一个文件。另一个有意思的地方是，这个版本的 <code>cat </code>只认得一个标记，<code>-u</code>。这个 <code>-u </code>标记可以被用于关闭输入输出缓冲区，不然 <code>cat </code>会默认缓存 512 字节。</p>\n<h2>伯克利软件套件/BSD</h2>\n<p>在第七版之后，Unix 催生了各种各样的衍生品。MacOS 是基于 Darwin 系统的，而 Darwin 是基于伯克利软件套件（BSD），因此 BSD 是我们最感兴趣的 Unix 分支。BSD 最初是作为Unix附加功能的软件合集，但是它最终成为了一个完整的操作系统。BSD似乎一直在用<code>cat</code>的初代版本，一直到第四版 BSD 发布为止。第四版 BSD 也就是 4BSD，它添加了对于新标记的支持。<a href=\"https://gist.github.com/sinclairtarget/47143ba52b9d9e360d8db3762ee0cbf5#file-4-cat-bsd4-c\">4BSD 版本的 <code>cat</code></a> 能明显的看出是初代的衍生品，不过它添加了一些新的函数用来实现用新标记触发的功能。4BSD 文件系统的命名方法是基于 <code>fflg </code>这个变量的，<code>fflg </code>用于标记指令的输入是从文件，还是 <code>stdin </code>读取的。继 <code>fflg </code>之后，<code>nflg、</code><code>bflg、</code><code>vflg、</code><code>sflg、</code><code>eflg </code>和 <code>tflg </code>也被用于记录程序中的标记是否被用到。这些命令行标记是 <code>cat </code>添加的最后一批标记；如今至少在 Mac 系统中的 <code>cat </code>命令行手册有列出来这些标记。4BSD 是在 1980 年发布的，所以这一系列的标记有 38 岁了。</p>\n<p><code>cat </code>最后一次被重写是为了 BSD Net/2，这主要是为了避免软件许可证问题，因此所有 AT&amp;T Unix 衍生代码都被替换为了新代码。BSD Net/2 在 1991 年发布。最后一次重写是由 Kevin Fall 完成的，Kevin Fall 于 1988 年毕业于伯克利，之后他花了一年的时间在计算机系统研究院（CSRG）工作了一年。Fall 告诉我，用 AT&amp;T 代码写的 Unix 工具集列表被挂在了 CSRG 的一面墙上，员工们被告知可以选择感兴趣的工具重写。Fall 选择了 <code>cat </code>和 <code>mknod</code>。在如今 Mac 系统的默认 <code>cat </code>版本中，Fall 的名字排在开发者名单前列。他所编写的 <code>cat</code>，虽然是个很简单的程序，但是直到今年还有数百万的用户在使用。</p>\n<p><a href=\"https://gist.github.com/sinclairtarget/47143ba52b9d9e360d8db3762ee0cbf5#file-5-cat-net2-c\">Fall 所写的 <code>cat </code>源代码</a>比我们之前看到的版本要长许多。除了支持 <code>-? </code>帮助标记，这一版并没有添加新的功能。理论上来说，这一版代码与 4BSD 版本非常相似。代码之所以长，是因为 Fall 分开了“旧版”和“新版”的逻辑。“旧版”是典型的 <code>cat</code>；它一个字符一个字符的输出。“新版”的 <code>cat </code>包括了 4BSD 命令行选项。这样的分割很有道理，但是使得代码在第一眼看上去比实际复杂很多。代码的最后有个华丽的错误处理方程，这也增加了代码长度。</p>\n<h2>MacOS</h2>\n<p>2001 年，苹果公司发布了 Mac OS X 系统。这次发布对于苹果公司来说非常重要，因为他们花了很多年，走了不少弯路，为了研发能够取代存在了很多年的旧版 Mac OS 系统。苹果公司内部曾经有过两次研发新系统的尝试，但是最终都没能成功；后来，苹果收购了史蒂夫·乔布斯的公司 NeXT，他们公司开发了一款名为 NeXTSTEP 的，基于面向对象编程框架的操作系统。苹果决定使用 NeXTSTEP 作为Mac OS X 的基础。NeXTSTEP 的一部分是基于 BSD 开发的，所以用 NeXTSTEP 作为 Mac OS X 的基础，同时也给苹果系统带来了 BSD 代码风格。</p>\n<p>新发布的第一版 Mac OS X中包含了来自 NetBSD 项目的 <a href=\"https://gist.github.com/sinclairtarget/47143ba52b9d9e360d8db3762ee0cbf5#file-6-cat-macosx-c\"><code>cat </code>代码实现</a>。NetBSD 项目如今仍在不断开发中，它最初是来自 386BSD 的分支。而 386BSD 是直接基于 BSD Net/2 的。所以 Mac OS X 上的 <code>cat </code>就是 Kevin Fall 所写的 <code>cat</code>。唯一变化的是，Kevin Fall 写的错误处理函数 <code>err() </code>被替换成了 <code>err.h </code>中的 <code>err()</code>。<code>err.h </code>是 BSD 基于 C 语言标准库的扩展。</p>\n<p>NetBSD 版本的 <code>cat </code>在不久之后被 FreeBSD 版本取代了。根据<a href=\"https://en.wikipedia.org/wiki/Darwin_(operating_system\">维基百科</a>，苹果从 Mac OS X 10.3 (Panther)开始，使用 FreeBSD 来取代 NetBSD。但是 Mac OS X 版本的 <code>cat</code>，根据苹果的开软发布记录，一直到 2007 年发布 Mac OS X 10.5 (Leopard) 才被取代。苹果为了发布 Leopard 而引进的 <a href=\"https://gist.github.com/sinclairtarget/47143ba52b9d9e360d8db3762ee0cbf5#file-7-cat-macos-10-13-c\">FreeBSD 的实现版本</a>一直被沿用到了今天。从 2007 一直到 2018 年，这一版没有做过任何升级或者改变。</p>\n<p>所以说 Mac OS 中的 <code>cat </code>是古老的。实际上 <code>cat </code>的出现，比 2007 年的正式发布时间还早两年。<a href=\"https://github.com/freebsd/freebsd/commit/a76898b84970888a6fd015e15721f65815ea119a#diff-6e405d5ab5b47ca2a131ac7955e5a16b\">2005 年的改动</a>，在 FreeBSD 的Github 镜像中可以看到，是 <code>cat </code>被移植到 Mac OS X 之前 FreeBSD 版的最后一次更新。所以 Mac OS X 中 <code>cat </code>实际上有 13 年的历史了，它并没有与 FreeBSD 的 <code>cat </code>进行同步更新。这里有过一个辩论，软件到底被改动过几次才算是一个新的软件呢；就 <code>cat </code>这个个例来看，它的源代码从 2005 年开始就完全没有改变过了。</p>\n<p>如今 Mac OS 系统中的 <code>cat </code>与 Fall 在 1991 年为 BSD Net/2 所写的版本并没有太多不同。最大的不同是添加了一个新的函数用来支持 Unix 上的套接字。一个 FreeBSD 的开发者认为 Fall 所写的 <code>raw_args() </code>函数应该与 <code>cook_args() </code>合并为一个函数 <code>scanfiles()</code>。除此之外，最核心的部分还是 Fall 的代码。</p>\n<p>我问过 Fall，有几百万苹果用户在使用你所写的 <code>cat</code>，还有很多程序直接或者间接依赖 <code>cat</code>，对此你有什么感想。如今已经是顾问兼最新版 TCP/IP 协议合作者的 Fall 表示，人们对他开发 <code>cat </code>的经历如此的感兴趣，让他觉得非常惊讶。Fall 曾经在计算领域工作过很久，并且有过很多有影响力的项目经历。但是似乎人们对于他在 1989 年开发 <code>cat </code>的那六个月更加感兴趣。</p>\n<h2>百岁程序</h2>\n<p>纵观历史上各种伟大的发明，计算机的历史并没有很久。我们仍然在使用有着百年历史的照片和胶卷。但是计算机软件是另外一个类别——目前仍属于高新科技。至少现在的软件是这样。随着计算机产业日渐成熟，我们会不会有一天发现，我们在使用有着百年历史的软件呢？</p>\n<p>计算机硬件最终也会更新换代，现在的软件想必是没法跑在一个世纪以后的硬件上。也许高级语言设计的进步，也会导致在将来没有人会使用 C 语言，而 <code>cat </code>也会被其他的语言重写。（不过 C 语言已经存在了五十年了，估计短期内也不会被取代。）不考虑以上这些的话，不如我们就一直用现在这版 <code>cat </code>吧。</p>\n<p>我认为，<code>cat </code>的历史告诉我们，在计算机科学领域有一些思想是非常耐用的。实际上，对于 <code>cat</code>，它的代码和思想都是很多年前出现的。要说我计算机中的<code>cat</code>是1969年的其实并不准确。但如果说我计算机中的 <code>cat </code>是 1989 年 Fall 开发的，就准确多了。很多软件都很古老。也许我们不能单纯的认为计算机科学和软件开发是不断更新换代的领域。我们所开发的系统都是基于历史基础的。在某些时候，我们在开发新代码的同时，也需要去花时间去理解和维护历史代码。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114591\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114591votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114591\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx1905494155\">一汀</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx1905494155\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/wx1905494155\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/wx1905494155/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/wx1905494155/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 3</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/13789bf821cdc6b3a6c8b2756bdf83a59580e6aa.jpg"}{"url_object_id": "fdbe4e3552e2fac29f023355782289a2", "title": "如何用 Numba 加速 Python 代码？", "url": "http://blog.jobbole.com/114706/", "create_date": "2019/05/05", "front_image_url": ["https://camo.githubusercontent.com/4ea6a5f8ad1f6269ce28460efc8c0a67f0f0933b/68747470733a2f2f63646e2d696d616765732d312e6d656469756d2e636f6d2f6d61782f3838302f312a377748676f6c457a65674258343142573063785659512e6a706567"], "praise_nums": "1", "fav_nums": "1", "comment": "", "tags": "IT技术,Python", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/zxdefying\">zxdefying</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://towardsdatascience.com/speed-up-your-algorithms-part-2-numba-293e554c5cc1\">Puneet Grover</a>。欢迎加入<a target=\"_blank\" href=\"https://github.com/jobbole/translation-project\">翻译组</a>。</div><p>这是我写的该系列文章中的第二篇。所有的文章如下：</p>\n<ol>\n<li><a href=\"https://towardsdatascience.com/speed-up-your-algorithms-part-1-pytorch-56d8a4ae7051\">加速您的算法第1部分 – PyTorch</a></li>\n<li><a href=\"https://towardsdatascience.com/speed-up-your-algorithms-part-2-numba-293e554c5cc1\">加速您的算法第2部分 – Numba</a></li>\n<li><a href=\"https://towardsdatascience.com/speed-up-your-algorithms-part-3-parallelization-4d95c0888748\">加速您的算法第3部分 – 并行化</a></li>\n<li><a href=\"https://towardsdatascience.com/speeding-up-your-algorithms-part-4-dask-7c6ed79994ef\">加速您的算法第4部分 – Dask</a></li>\n</ol>\n<p>这些文章对应的 <em>Jupyter Notebooks</em> 代码如下：</p>\n<p>[<a href=\"https://github.com/PuneetGrov3r/MediumPosts/tree/master/SpeedUpYourAlgorithms\">Github-SpeedUpYourAlgorithms</a>] 和 <strong>[</strong><a href=\"https://www.kaggle.com/puneetgrover/kernels\"><strong>Kaggle</strong></a><strong>]</strong></p>\n<hr>\n<h3>目录</h3>\n<ol>\n<li>介绍</li>\n<li>为什么选择 Numba？</li>\n<li>Numba 是如何工作的？</li>\n<li>使用 Numba 的基本功能（只需要加上 <code>@jit</code>！）</li>\n<li>@vectorize 装饰器</li>\n<li>在 GPU 上运行函数</li>\n<li>扩展阅读</li>\n<li>参考</li>\n</ol>\n<p>注意： 这篇文章的 Jupyter Notebook 代码在我的 Github 上：<a href=\"https://nbviewer.jupyter.org/github/PuneetGrov3r/MediumPosts/blob/master/SpeedUpYourAlgorithms/2%29%20Numba.ipynb\">SpeedUpYourAlgorithms-Numba</a></p>\n<hr>\n<h3>1. 介绍</h3>\n<p>Numba 是 python 的即时（Just-in-time）编译器，即当您调用 python 函数时，您的全部或部分代码就会被转换为“即时”执行的机器码，它将以您的本地机器码速度运行！它由 Anaconda 公司赞助，并得到了许多其他组织的支持。</p>\n<p>在 Numba 的帮助下，您可以加速所有计算负载比较大的 python 函数（例如循环）。它还支持 numpy 库！所以，您也可以在您的计算中使用 numpy，并加快整体计算，因为 python 中的循环非常慢。 您还可以使用 python 标准库中的 math 库的许多函数，如 <code>sqrt</code> 等。有关所有兼容函数的完整列表，请查看 <a href=\"http://numba.pydata.org/numba-doc/0.17.0/reference/pysupported.html\">此处</a>。</p>\n<hr>\n<h3>2. 为什么选择 Numba？</h3>\n<p> </p>\n<p>那么，当有像 <a href=\"http://cython.org/\">cython</a> 和 <a href=\"http://doc.pypy.org/en/latest/faq.html#what-is-pypy\">Pypy</a> 之类的许多其他编译器时，为什么要选择 numba？</p>\n<p>原因很简单，这样您就不必离开写 python 代码的舒适区。是的，就是这样，您根本不需要为了获得一些的加速来改变您的代码，这与您从类似的具有类型定义的 cython 代码获得的加速相当。那不是很好吗？</p>\n<p>您只需要添加一个熟悉的 python 功能，即添加一个包装器（一个装饰器）到您的函数上。<a href=\"https://numba.pydata.org/numba-doc/dev/user/jitclass.html\">类的装饰器</a>也在开发中了。</p>\n<p>所以，您只需要添加一个装饰器就可以了。例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce0ae74f2316574817716\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfrom numba import jit\r\n@jit\r\ndef function(x):\r\n    # your loop or numerically intensive computations\r\n    return x\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2316574817716-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2316574817716-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2316574817716-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2316574817716-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2316574817716-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2316574817716-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2316574817716-1\"><span class=\"crayon-e\">from </span><span class=\"crayon-e\">numba </span><span class=\"crayon-e\">import </span><span class=\"crayon-i\">jit</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2316574817716-2\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jit</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2316574817716-3\"><span class=\"crayon-e\">def </span><span class=\"crayon-t\">function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">x</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2316574817716-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># your loop or numerically intensive computations</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2316574817716-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">x</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2316574817716-6\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>这仍然看起来像一个原生 python 代码，不是吗？</p>\n<hr>\n<h3>3. 如何使用 Numba？</h3>\n<p><img src=\"https://camo.githubusercontent.com/26f0ab2fbb2da7c8d208d04dbed19b2b59f7091e/68747470733a2f2f63646e2d696d616765732d312e6d656469756d2e636f6d2f6d61782f3838302f302a624a3658495545303570686a575a677a\" alt=\"IMG\"></p>\n<p>“question mark neon signage” by <a href=\"https://unsplash.com/@emilymorter?utm_source=medium&amp;utm_medium=referral\">Emily Morter</a> on <a href=\"https://unsplash.com/?utm_source=medium&amp;utm_medium=referral\">Unsplash</a></p>\n<p>Numba 使用 <a href=\"http://llvm.org/\">LLVM 编译器基础结构</a> 将原生 python 代码转换成优化的机器码。使用 numba 运行代码的速度可与 C/C++ 或 Fortran 中的类似代码相媲美。</p>\n<p>以下是代码的编译方式：</p>\n<p><img src=\"https://camo.githubusercontent.com/d632db38d871baaca8afe8eccc01dcb211a4a037/68747470733a2f2f63646e2d696d616765732d312e6d656469756d2e636f6d2f6d61782f3838302f312a396e36577045586a7544326c42536c58325f705530672e706e67\" alt=\"IMG\"></p>\n<p><a href=\"https://github.com/ContinuumIO/gtc2017-numba/blob/master/1%20-%20Numba%20Basics.ipynb\">图片来源</a></p>\n<p>首先，Python 函数被传入，优化并转换为 numba 的中间表达，然后在类型推断（type inference）之后，就像 numpy 的类型推断（所以 python float 是一个 float64），它被转换为 LLVM 可解释代码。 然后将此代码提供给 LLVM 的即时编译器以生成机器码。</p>\n<p>您可以根据需要在运行时或导入时 <a href=\"http://numba.pydata.org/numba-doc/latest/user/jit.html#jit\">生成</a> 机器码，导入需要在 CPU（默认）或 <a href=\"http://numba.pydata.org/numba-doc/latest/cuda/index.html\">GPU</a> 上进行。</p>\n<hr>\n<h3>4. 使用 numba 的基本功能（只需要加上 @jit ！）</h3>\n<p><img src=\"https://camo.githubusercontent.com/8dc190dc23cec2a4d4a5e8304f0ccc8ab4194f11/68747470733a2f2f63646e2d696d616765732d312e6d656469756d2e636f6d2f6d61782f3838302f302a3449756b4b776d35524f3050576a6d5a\" alt=\"IMG\"></p>\n<p>Photo by <a href=\"https://unsplash.com/@charlesetoroma?utm_source=medium&amp;utm_medium=referral\">Charles Etoroma</a> on <a href=\"https://unsplash.com/?utm_source=medium&amp;utm_medium=referral\">Unsplash</a></p>\n<blockquote><p><em>小菜一碟！</em></p></blockquote>\n<p>为了获得最佳性能，numba 实际上建议在您的 jit 装饰器中加上 <code>nopython=True</code> 参数，加上后就不会使用 Python 解释器了。或者您也可以使用 <code>@njit</code>。如果您加上 <code>nopython=True</code> 的装饰器失败并报错，您可以用简单的 <code>@jit</code> 装饰器来编译您的部分代码，对于它能够编译的代码，将它们转换为函数，并编译成机器码。然后将其余部分代码提供给 python 解释器。</p>\n<p>所以，您只需要这样做：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce0ae74f2320413531713\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfrom numba import njit, jit\r\n@njit      # or @jit(nopython=True)\r\ndef function(a, b):\r\n    # your loop or numerically intensive computations\r\n    return result\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2320413531713-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2320413531713-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2320413531713-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2320413531713-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2320413531713-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2320413531713-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2320413531713-1\"><span class=\"crayon-e\">from </span><span class=\"crayon-e\">numba </span><span class=\"crayon-e\">import </span><span class=\"crayon-v\">njit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">jit</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2320413531713-2\"><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">njit</span><span class=\"crayon-h\">      </span><span class=\"crayon-p\"># or @jit(nopython=True)</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2320413531713-3\"><span class=\"crayon-e\">def </span><span class=\"crayon-t\">function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2320413531713-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># your loop or numerically intensive computations</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2320413531713-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">result</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2320413531713-6\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<hr>\n<p>当使用 <code>@jit</code> 时，请确保您的代码有 numba 可以编译的内容，比如包含库（numpy）和它支持的函数的计算密集型循环。否则它将不会编译任何东西，并且您的代码将比没有使用 numba 时更慢，因为存在 numba 内部代码检查的额外开销。</p>\n<p>还有更好的一点是，numba 会对首次作为机器码使用后的函数进行缓存。 因此，在第一次使用之后它将更快，因为它不需要再次编译这些代码，如果您使用的是和之前相同的参数类型。</p>\n<p>如果您的代码是 <a href=\"http://numba.pydata.org/numba-doc/latest/user/parallel.html#numba-parallel\">可并行化</a> 的，您也可以传递 <code>parallel=True</code> 作为参数，但它必须与 <code>nopython=True</code> 一起使用，目前这只适用于CPU。</p>\n<p>您还可以指定希望函数具有的函数签名，但是这样就不会对您提供的任何其他类型的参数进行编译。 例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce0ae74f2325293919155\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfrom numba import jit, int32\r\n@jit(int32(int32, int32))\r\ndef function(a, b):\r\n    # your loop or numerically intensive computations\r\n    return result\r\n# or if you haven't imported type names\r\n# you can pass them as string\r\n@jit('int32(int32, int32)')\r\ndef function(a, b):\r\n    # your loop or numerically intensive computations\r\n    return result\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2325293919155-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2325293919155-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2325293919155-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2325293919155-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2325293919155-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2325293919155-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2325293919155-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2325293919155-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2325293919155-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2325293919155-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2325293919155-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2325293919155-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2325293919155-1\"><span class=\"crayon-e\">from </span><span class=\"crayon-e\">numba </span><span class=\"crayon-e\">import </span><span class=\"crayon-v\">jit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">int32</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2325293919155-2\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jit</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">int32</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">int32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">int32</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2325293919155-3\"><span class=\"crayon-e\">def </span><span class=\"crayon-t\">function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2325293919155-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># your loop or numerically intensive computations</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2325293919155-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">result</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2325293919155-6\"><span class=\"crayon-p\"># or if you haven't imported type names</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2325293919155-7\"><span class=\"crayon-p\"># you can pass them as string</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2325293919155-8\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jit</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'int32(int32, int32)'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2325293919155-9\"><span class=\"crayon-e\">def </span><span class=\"crayon-t\">function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2325293919155-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># your loop or numerically intensive computations</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2325293919155-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">result</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2325293919155-12\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p></p>\n<hr>\n<p>现在您的函数只能接收两个 int32 类型的参数并返回一个 int32 类型的值。 通过这种方式，您可以更好地控制您的函数。 如果需要，您甚至可以传递多个函数签名。</p>\n<p><img src=\"https://camo.githubusercontent.com/5a9433faaa78df609c733620d1047ef398c52219/68747470733a2f2f63646e2d696d616765732d312e6d656469756d2e636f6d2f6d61782f3838302f312a615536485372384f474e696c786854523241323558512e706e67\" alt=\"IMG\"></p>\n<p>您还可以使用 numba 提供的其他装饰器：</p>\n<ol>\n<li><a href=\"http://numba.pydata.org/numba-doc/latest/user/vectorize.html\">@vectorize</a>：允许将标量参数作为 numpy 的 ufuncs 使用，</li>\n<li><a href=\"http://numba.pydata.org/numba-doc/latest/user/vectorize.html#guvectorize\">@guvectorize</a>：生成 NumPy 广义上的 <code>ufunc</code>s，</li>\n<li><a href=\"http://numba.pydata.org/numba-doc/latest/user/stencil.html#numba-stencil\">@stencil</a>：定义一个函数使其成为 stencil 类型操作的核函数</li>\n<li><a href=\"http://numba.pydata.org/numba-doc/latest/user/jitclass.html#jitclass\">@jitclass</a>：用于 jit 类，</li>\n<li><a href=\"http://numba.pydata.org/numba-doc/latest/user/cfunc.html#cfunc\">@cfunc</a>：声明一个函数用于本地回调（被C/C++等调用），</li>\n<li><a href=\"http://numba.pydata.org/numba-doc/latest/extending/high-level.html#high-level-extending\">@overload</a>：注册您自己的函数实现，以便在 <code>nopython</code> 模式下使用，例如： <code>@overload（scipy.special.j0）</code>。</li>\n</ol>\n<p>Numba 还有 <strong>Ahead of time</strong>（<a href=\"https://numba.pydata.org/numba-doc/dev/user/pycc.html\">AOT</a>）编译，它生成不依赖于 Numba 的已编译扩展模块。 但：</p>\n<ol>\n<li>它只允许常规函数（ufuncs 就不行），</li>\n<li>您必须指定函数签名。并且您只能指定一种签名，如果需要指定多个签名，需要使用不同的名字。</li>\n</ol>\n<p>它还根据您的CPU架构系列生成通用代码。</p>\n<hr>\n<h3>5. @vectorize 装饰器</h3>\n<p><img src=\"https://camo.githubusercontent.com/d6629855e30df6c3a48f0550b22bb2ce375bf8d1/68747470733a2f2f63646e2d696d616765732d312e6d656469756d2e636f6d2f6d61782f3838302f302a45392d42437847466258594965676178\" alt=\"IMG\"></p>\n<p>“gray solar panel lot” by <a href=\"https://unsplash.com/@publicpowerorg?utm_source=medium&amp;utm_medium=referral\">American Public Power Association</a> on <a href=\"https://unsplash.com/?utm_source=medium&amp;utm_medium=referral\">Unsplash</a></p>\n<p>通过使用 @vectorize 装饰器，您可以对仅能对标量操作的函数进行转换，例如，如果您使用的是仅适用于标量的 python 的 <code>math</code> 库，则转换后就可以用于数组。 这提供了类似于 numpy 数组运算（ufuncs）的速度。 例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce0ae74f232a764760891\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@vectorize\r\ndef func(a, b):\r\n    # Some operation on scalars\r\n    return result\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f232a764760891-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f232a764760891-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f232a764760891-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f232a764760891-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f232a764760891-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce0ae74f232a764760891-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">vectorize</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f232a764760891-2\"><span class=\"crayon-e\">def </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f232a764760891-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># Some operation on scalars</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f232a764760891-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">result</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f232a764760891-5\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>您还可以将 <code>target</code> 参数传递给此装饰器，该装饰器使 target 参数为 <code>parallel</code> 时用于并行化代码，为 <code>cuda</code> 时用于在 cuda\\GPU 上运行代码。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce0ae74f232e042123653\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@vectorize(target=\"parallel\")\r\ndef func(a, b):\r\n    # Some operation on scalars\r\n    return result\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f232e042123653-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f232e042123653-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f232e042123653-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f232e042123653-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f232e042123653-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce0ae74f232e042123653-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">vectorize</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">target</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"parallel\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f232e042123653-2\"><span class=\"crayon-e\">def </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f232e042123653-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># Some operation on scalars</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f232e042123653-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">result</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f232e042123653-5\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>使 <code>target=“parallel”</code> 或 <code>“cuda”</code> 进行矢量化通常比 numpy 实现的代码运行得更快，只要您的代码具有足够的计算密度或者数组足够大。如果不是，那么由于创建线程以及将元素分配到不同线程需要额外的开销，因此可能耗时更长。所以运算量应该足够大，才能获得明显的加速。</p>\n<p><img src=\"https://camo.githubusercontent.com/f525fd22a25104071133fe036d8b2acc52dc2c3b/68747470733a2f2f63646e2d696d616765732d312e6d656469756d2e636f6d2f6d61782f3838302f312a422d704e354267755a7a47656f4658373036515441412e706e67\" alt=\"IMG\"></p>\n<p>这个视频讲述了一个用 Numba 加速用于计算流体动力学的Navier Stokes方程的例子：</p>\n<hr>\n<h3>6. 在GPU上运行函数</h3>\n<p><img src=\"https://camo.githubusercontent.com/4c9b80591ca425243f4f333ce805a710ece2ee6b/68747470733a2f2f63646e2d696d616765732d312e6d656469756d2e636f6d2f6d61782f3838302f302a45705677786555394f51676932706234\" alt=\"IMG\"></p>\n<p>“time-lapsed of street lights” by <a href=\"https://unsplash.com/@marcsm?utm_source=medium&amp;utm_medium=referral\">Marc Sendra martorell</a> on <a href=\"https://unsplash.com/?utm_source=medium&amp;utm_medium=referral\">Unsplash</a></p>\n<p>您也可以像装饰器一样传递 @jit 来运行 cuda/GPU 上的函数。 为此您必须从 <code>numba</code> 库中导入 <code>cuda</code>。 但是要在 GPU 上运行代码并不像之前那么容易。为了在 GPU 上的数百甚至数千个线程上运行函数，需要先做一些初始计算。 实际上，您必须声明并管理网格，块和线程的层次结构。这并不那么难。</p>\n<p>要在GPU上执行函数，您必须定义一个叫做 <strong>核函数</strong> 或 <strong>设备函数</strong> 的函数。首先让我们来看 <strong>核函数</strong>。</p>\n<p>关于核函数要记住一些要点：</p>\n<p>a）核函数在被调用时要显式声明其线程层次结构，即块的数量和每块的线程数量。您可以编译一次核函数，然后用不同的块和网格大小多次调用它。</p>\n<p>b）核函数没有返回值。因此，要么必须对原始数组进行更改，要么传递另一个数组来存储结果。为了计算标量，您必须传递单元素数组。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce0ae74f2332457634346\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# Defining a kernel function\r\nfrom numba import cuda\r\n@cuda.jit\r\ndef func(a, result):\r\n    # Some cuda related computation, then\r\n    # your computationally intensive code.\r\n    # (Your answer is stored in 'result')\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2332457634346-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2332457634346-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2332457634346-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2332457634346-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2332457634346-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2332457634346-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2332457634346-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2332457634346-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2332457634346-1\"><span class=\"crayon-p\"># Defining a kernel function</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2332457634346-2\"><span class=\"crayon-e\">from </span><span class=\"crayon-e\">numba </span><span class=\"crayon-e\">import </span><span class=\"crayon-i\">cuda</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2332457634346-3\"><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">cuda</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">jit</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2332457634346-4\"><span class=\"crayon-e\">def </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">result</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2332457634346-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># Some cuda related computation, then</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2332457634346-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># your computationally intensive code.</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2332457634346-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># (Your answer is stored in 'result')</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2332457634346-8\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<hr>\n<p>因此，要启动核函数，您必须传入两个参数：</p>\n<ol>\n<li>每块的线程数，</li>\n<li>块的数量。</li>\n</ol>\n<p>例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce0ae74f2336522800798\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nthreadsperblock = 32\r\nblockspergrid = (array.size + (threadsperblock - 1)) // threadsperblock\r\nfunc[blockspergrid, threadsperblock](array)\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2336522800798-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2336522800798-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2336522800798-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2336522800798-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2336522800798-1\"><span class=\"crayon-v\">threadsperblock</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">32</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2336522800798-2\"><span class=\"crayon-v\">blockspergrid</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">threadsperblock</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// threadsperblock</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2336522800798-3\"><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">blockspergrid</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">threadsperblock</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2336522800798-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>每个线程中的核函数必须知道它在哪个线程中，以便了解它负责数组的哪些元素。Numba 只需调用一次即可轻松获得这些元素的位置。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce0ae74f2339650693856\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@cuda.jit\r\ndef func(a, result):\r\n    pos = cuda.grid(1)  # For 1D array\r\n    # x, y = cuda.grid(2) # For 2D array\r\n    if pos &amp;lt; a.shape[0]:\r\n        result[pos] = a[pos] * (some computation)\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2339650693856-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2339650693856-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2339650693856-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2339650693856-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2339650693856-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f2339650693856-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f2339650693856-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2339650693856-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">cuda</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">jit</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2339650693856-2\"><span class=\"crayon-e\">def </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">result</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2339650693856-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">pos</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cuda</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">grid</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span><span class=\"crayon-p\"># For 1D array</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2339650693856-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># x, y = cuda.grid(2) # For 2D array</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2339650693856-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pos</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">lt</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">shape</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f2339650693856-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">result</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">pos</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">pos</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">some </span><span class=\"crayon-v\">computation</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f2339650693856-7\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p></p>\n<hr>\n<p>为了节省将 numpy 数组复制到指定设备，然后又将结果存储到 numpy 数组中所浪费的时间，Numba 提供了一些 <a href=\"https://numba.pydata.org/numba-doc/dev/cuda/memory.html\">函数</a> 来声明并将数组送到指定设备，如：<code>numba.cuda.device_array</code>，<code>numba.cuda。 device_array_like</code>，<code>numba.cuda.to_device</code> 等函数来节省不必要的复制到 cpu 的时间（除非必要）。</p>\n<p>另一方面，<strong>设备函数</strong> 只能从设备内部（通过核函数或其他设备函数）调用。 比较好的一点是，您可以从 <strong>设备函数</strong> 中返回一个值。 因此，您可以用此函数的返回值来计算 <code>核函数</code> 或 <code>设备函数</code> 里的内容。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce0ae74f233d992532672\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfrom numba import cuda\r\n@cuda.jit(device=True)\r\ndef device_function(a, b):\r\n    return a + b\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f233d992532672-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f233d992532672-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f233d992532672-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce0ae74f233d992532672-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce0ae74f233d992532672-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce0ae74f233d992532672-1\"><span class=\"crayon-e\">from </span><span class=\"crayon-e\">numba </span><span class=\"crayon-e\">import </span><span class=\"crayon-i\">cuda</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f233d992532672-2\"><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">cuda</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">jit</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">device</span><span class=\"crayon-o\">=</span><span class=\"crayon-t\">True</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f233d992532672-3\"><span class=\"crayon-e\">def </span><span class=\"crayon-e\">device_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce0ae74f233d992532672-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">b</span></div><div class=\"crayon-line\" id=\"crayon-5ce0ae74f233d992532672-5\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p></p>\n<hr>\n<p>您还应该在这里查看 Numba 的 cuda 库支持的功能。</p>\n<p>Numba 在其 cuda 库中也有自己的<a href=\"https://numba.pydata.org/numba-doc/dev/cuda/intrinsics.html\"> 原子操作</a>，<a href=\"https://numba.pydata.org/numba-doc/dev/cuda/random.html\">随机数生成器</a>，<a href=\"https://numba.pydata.org/numba-doc/dev/cuda/memory.html#cuda-shared-memory\">共享内存实现</a>（以加快数据的访问）等功能。</p>\n<p>ctypes/cffi/cython 的互用性：</p>\n<ul>\n<li><code>cffi</code> – 在 nopython 模式下支持调用 <a href=\"http://numba.pydata.org/numba-doc/latest/reference/pysupported.html#cffi-support\">CFFI</a> 函数。</li>\n<li><code>ctypes</code> – 在 nopython 模式下支持调用 <a href=\"http://numba.pydata.org/numba-doc/latest/reference/pysupported.html#ctypes-support\">ctypes</a> 包装函数。</li>\n<li>Cython 导出的函数是 <a href=\"http://numba.pydata.org/numba-doc/latest/extending/high-level.html#cython-support\">可调用</a> 的。</li>\n</ul>\n<hr>\n<h3>7. 扩展阅读</h3>\n<ol>\n<li><a href=\"https://nbviewer.jupyter.org/github/ContinuumIO/gtc2017-numba/tree/master/\">https://nbviewer.jupyter.org/github/ContinuumIO/gtc2017-numba/tree/master/</a></li>\n<li><a href=\"https://devblogs.nvidia.com/seven-things-numba/\">https://devblogs.nvidia.com/seven-things-numba/</a></li>\n<li><a href=\"https://devblogs.nvidia.com/numba-python-cuda-acceleration/\">https://devblogs.nvidia.com/numba-python-cuda-acceleration/</a></li>\n<li><a href=\"https://jakevdp.github.io/blog/2015/02/24/optimizing-python-with-numpy-and-numba/\">https://jakevdp.github.io/blog/2015/02/24/optimizing-python-with-numpy-and-numba/</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=1AwG0T4gaO0\">https://www.youtube.com/watch?v=1AwG0T4gaO0</a></li>\n</ol>\n<h3>8. 参考</h3>\n<ol>\n<li><a href=\"http://numba.pydata.org/numba-doc/latest/user/index.html\">http://numba.pydata.org/numba-doc/latest/user/index.html</a></li>\n<li><a href=\"https://github.com/ContinuumIO/gtc2018-numba\">https://github.com/ContinuumIO/gtc2018-numba</a></li>\n<li><a href=\"http://stephanhoyer.com/2015/04/09/numba-vs-cython-how-to-choose/\">http://stephanhoyer.com/2015/04/09/numba-vs-cython-how-to-choose/</a></li>\n</ol>\n<blockquote><p>谢谢阅读！</p></blockquote>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114706\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114706votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114706\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/zxdefying\">zxdefying</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/zxdefying\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            忙碌的程序员        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/zxdefying\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/zxdefying/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/zxdefying/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 1</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/236562327d1a4c7925007044e6478a99708cb5aa.jpg"}{"url_object_id": "dad29dfe42311a908ddd54563b05d29d", "title": "5 款 Linux 街机游戏", "url": "http://blog.jobbole.com/114636/", "create_date": "2019/01/11", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2019/01/3d62608ee84e9b8601819c7609b43f24.jpg"], "praise_nums": "1", "fav_nums": "", "comment": "", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/18/1/arcade-games-linux\">Joshua Allen Holm</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-10433-1.html\">Linux中国/Rachel</a>   </div><p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/01/3d62608ee84e9b8601819c7609b43f24.jpg\" alt=\"\"></p>\n<p>长久以来，游戏都是 Linux 的软肋。近些年，Steam、GOG 等游戏发布平台上不少商业游戏都开始支持 Linux，这对于 Linux 的游戏生态来说是件好事，但是我们能在这些平台上玩到的游戏通常是不开源的商业作品。当然，这些游戏在一个开源的操作系统上运行，但对于一个开源提倡者来说这似乎还不够纯粹。</p>\n<p>那么，我们能找到既自由开源又能给玩家带来完整游戏体验的优质游戏吗？当然！虽然绝大多数的开源游戏很难和 3A 商业游戏大作竞争，但仍然有不少各种类型的开源游戏，不仅内容有趣而且直接可以通过几大 Linux 发行版本库中直接安装。</p>\n<p>本文首先介绍 Linux 开源游戏中的街机类型游戏，在之后的文章中，我将介绍桌面和卡牌游戏，解谜游戏，竞速游戏，以及策略模拟游戏。</p>\n<h3 id=\"toc_1\">太空危机AstroMenace</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/01/154283c31dd140af55de0ab3b5221452.png\" alt=\"\"></p>\n<p><a href=\"http://www.viewizard.com/\">太空危机</a> 是一个近现代太空背景下的滚动页面射击游戏。开发初期它是一个闭源游戏，但它的代码和素材而后以开源许可证发布了。游戏玩法和大多数此类游戏大同小异，但它有质量极高的 3D 画面。飞船和武器升级可以通过击杀敌人所获得的点数购买。游戏的难度可以选择，因此适合新手以及想要追求挑战的硬核玩家。</p>\n<p>安装太空危机，你只需要在终端下运行以下指令：</p>\n<ul>\n<li>Fedora 用户： <code>dnf install astromenace</code></li>\n<li>Debian/Ubuntu 用户： <code>apt install astromenace</code></li>\n</ul>\n<h3 id=\"toc_2\">坦克战役Battle Tanks</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/01/3189ffe1805158124389e1827a033bbf.png\" alt=\"\"></p>\n<p><a href=\"http://btanks.sourceforge.net/blog/about-game\">坦克战役</a> 是一个俯瞰式视角的快节奏坦克战斗游戏。玩家可以选择三种不同的陆地坦克，操纵其在地图上前行，收集道具并且尝试炸飞敌军。它有四种游戏模式，死亡竞赛（又称“死斗”）、团队死斗、夺旗模式和合作模式。死斗和夺旗模式下，分别有 9 张地图可供玩家选择，合作模式则有 4 张。该游戏支持分屏本地双人游戏，以及在线多人竞技。游戏节奏很快，默认一次战役仅 5 分钟，因此，坦克战役十分适合想要利用零碎时间快速来一局的玩家。</p>\n<p>安装坦克战役，你只需要在终端下运行以下指令：</p>\n<ul>\n<li>Fedora 用户： <code>dnf install btanks</code></li>\n<li>Debian/Ubuntu 用户： <code>apt install btanks</code></li>\n</ul>\n<h3 id=\"toc_3\">火星M.A.R.S.</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/01/b5379a874172f5e60ea456032901876c.png\" alt=\"\"></p>\n<p><a href=\"http://mars-game.sourceforge.net/?page_id=10\">火星</a> 是一个自上而下的太空射击游戏，游戏机制类似传统街机游戏 “爆破彗星Asteroids”。玩家在操控一个太空船的同时向敌方射击并躲避敌军的弹幕射击。游戏有标准的死斗和团体死斗模式，除此之外也有更新鲜的比赛形式 —— 例如在一个模式下，玩家需要控制一个球使其进入敌方母星。该游戏支持本地多人游戏，但遗憾的是不支持多人联机。该游戏的开发更新似乎已经停止，所以该游戏之后增加联机模式的几率很小，但就算没有联机支持，这个游戏仍然值得一试。</p>\n<p>安装火星，你只需要在终端下运行以下指令：</p>\n<ul>\n<li>Fedora 用户： <code>dnf install marsshooter</code></li>\n<li>Debian/Ubuntu 用户： <code>apt install marsshooter</code></li>\n</ul>\n<h3 id=\"toc_4\">不存在之球Neverball</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/01/8826dd45c14930d73b05e45a75bd9a49.png\" alt=\"\"></p>\n<p><a href=\"https://neverball.org/index.php\">不存在之球</a> 的游戏灵感来源自世嘉的 “超级猴子球Super Monkey Ball” ，玩家需要将一个球在 3D 球场上运动起来，但是玩家控制的不是球，而是球场。游戏任务是在规定的时限内，收集足够多的金币从而打开该关卡的出口并且将小球落进该洞中。游戏可以调整难度，从休闲到难以超乎想象，可以适应不同的玩家需求。该游戏支持键盘/鼠标以及控制杆操作。</p>\n<p>安装不存在之球，你只需要在终端下运行以下指令:</p>\n<ul>\n<li>Fedora 用户：<code>dnf install neverball</code></li>\n<li>Debian/Ubuntu 用户：<code>apt install neverball</code></li>\n</ul>\n<h3 id=\"toc_5\">超级 TuxSuperTux</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/01/bd1a5242f1cb1de3e27ef4ba2163c3e0.png\" alt=\"\"></p>\n<p><a href=\"http://supertux.org/\">超级 Tux</a> 是继任天堂超级马里奥后的一款 2D 的平台跳跃游戏。Linux 的吉祥物企鹅 Tux 代替了马里奥，而鸡蛋对应着马里奥系列中的蘑菇能力提升。当 Tux 获得了鸡蛋得到了能力提升，它便可以收集花朵，而花朵可以带来新的附加特殊能力。火焰花在关卡中最为常见，收集了火焰花的 Tux 可以掷出火球。除此之外，冰冻花/空气花/土地花也在游戏的程序中。收集星星的能力提升能使 Tux 暂时变得隐形，就如同马里奥系列游戏。该游戏最基础的一组关卡，冰之岛也有 30 关之多，因此游戏的内容和流程和超级马里奥系列一般长。SuperTux 还有一些附加关卡，例如三个额外奖励小岛、一个森林之岛、一个万圣节岛、一个孵化处，以及很多测试关卡。SuperTux 有一个自带的关卡编辑器，所以玩家可以创建他们的原创关卡。</p>\n<p>安装超级 Tux，你只需要在终端下运行以下指令:</p>\n<ul>\n<li>Fedora 用户：<code>dnf install supertux</code></li>\n<li>Debian/Ubuntu 用户: <code>apt install supertux</code></li>\n</ul>\n<p>如果我没有在上文中提及你最喜欢的开源街机游戏，欢迎在评论中分享。</p>\n<h3 id=\"toc_6\">有关作者</h3>\n<p>Joshua Allen Holm – 是 Opensource.com 的社区协调者之一。他的主要兴趣有数字人文、学术开放以及公开教育资源。你可以在 GitHub、GitLab、LinkedIn 和 Zotero 上找到他。可以通过 <a href=\"mailto:holmja@opensource.com\">holmja@opensource.com</a> 联系到他。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114636\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114636votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114636\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/93e44ac96ae25762c786bd64a3826882b041b933.jpg"}{"url_object_id": "527065f88fa501a008767381b11efb6a", "title": "能从远程获得乐趣的 Linux 命令", "url": "http://blog.jobbole.com/114638/", "create_date": "2019/01/13", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2019/01/f83bd996007b0dc95b43d441fb3dfa3d.png"], "praise_nums": "1", "fav_nums": "3", "comment": "1", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/18/12/linux-toy-remote\">Jason Baker</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-10437-1.html\">Linux中国/geekpi</a>   </div><blockquote><p>使用这些工具从远程了解天气、阅读资料等。</p></blockquote>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/01/f83bd996007b0dc95b43d441fb3dfa3d.png\" alt=\"\"></p>\n<p>我们即将结束为期 24 天的 Linux 命令行玩具日历。希望你有一直在看，如果没有，请回到<a href=\"https://opensource.com/article/18/12/linux-toy-boxes\">开始</a>，从头看过来。你会发现 Linux 终端有很多游戏、消遣和奇怪之处。</p>\n<p>虽然你之前可能已经看过我们日历中的一些玩具，但我们希望每个人都遇见一个新事物。</p>\n<p>今天的玩具（实际是玩具集合）有点不同。到目前为止，我主要是想把重点放在那些独立的玩具上，并且完全可在开源许可下使用。但是我从读者那里得到了一些很好的建议，利用开源工具远程访问一些开源或者不开源的东西。今天，我将介绍其中的一些。</p>\n<p>第一个是经典之作：使用 Telnet 观看星球大战的 ASCII 演绎版本。你的系统可能已经安装了 Telnet，因此你只需运行：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e24e5d2034858745\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ telnet towel.blinkenlights.nl</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e24e5d2034858745-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e24e5d2034858745-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">telnet </span><span class=\"crayon-v\">towel</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">blinkenlights</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">nl</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>我第一次看到它是十年之前，因此我对于它还存在有点惊奇。如果你还没看过，请留出一点时间看一下。你不会后悔的。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/01/e27c6bee59388cb6347efe50c4f97c8e.png\" alt=\"\"></p>\n<p>接下来，Opensource.com 的撰稿人 <a href=\"https://opensource.com/users/ntlx\">Manuel Dewald</a> 提出了一种从终端获取当地天气的方法。它很简单，你只需安装 <code>curl</code>（或者，<code>wget</code>）。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e24e5dc739395767\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ curl wttr.in</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e24e5dc739395767-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e24e5dc739395767-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">curl </span><span class=\"crayon-v\">wttr</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">in</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/01/8fab6acc489e41247c24e29af466818d.png\" alt=\"\"></p>\n<p>最后，在假期中虽然你可以从<a href=\"https://opensource.com/article/16/12/web-browsers-linux-command-line\">命令行 Web 浏览器</a>浏览你喜欢的网站（包括 Opensource.com），但有一些我最喜欢的网站可以通过专用客户端更轻松地浏览。其中两个是 Reddit 和 Hacker News，有人推荐给我一些它们的客户端，你可能也想尝试，它们都使用开源许可。我尝试过 <a href=\"https://github.com/donnemartin/haxor-news\">haxor-news</a> （Hacker News） 和 <a href=\"https://github.com/michael-lazar/rtv\">rtv</a> （Reddit），它们都还不错。</p>\n<p> </p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114638\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114638votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114638\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/85bb3b00dabb9f7305fbdbe891744f3c92dd2fee.jpg"}{"url_object_id": "08b4933a2588e37689f40de9d4cbd3c7", "title": "Vim 命令合集", "url": "http://blog.jobbole.com/114641/", "create_date": "2019/01/18", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2012/04/vim-logo.png"], "praise_nums": "1", "fav_nums": "3", "comment": "2", "tags": "IT技术,Vim", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/softwaretesting/archive/2011/07/12/2104435.html\">perlman</a>   </div><h1>命令历史</h1>\n<p>以:和/开头的命令都有历史纪录，可以首先键入:或/然后按上下箭头来选择某个历史命令。</p>\n<h1>启动vim</h1>\n<p>在命令行窗口中输入以下命令即可</p>\n<p>vim 直接启动vim</p>\n<p>vim filename 打开vim并创建名为filename的文件</p>\n<h1>文件命令</h1>\n<p>打开单个文件</p>\n<p>vim file</p>\n<p>同时打开多个文件</p>\n<p>vim file1 file2 file3 …</p>\n<p>在vim窗口中打开一个新文件</p>\n<p>:open file</p>\n<p>在新窗口中打开文件</p>\n<p>:split file</p>\n<p>切换到下一个文件</p>\n<p>:bn</p>\n<p>切换到上一个文件</p>\n<p>:bp</p>\n<p>查看当前打开的文件列表，当前正在编辑的文件会用[]括起来。</p>\n<p>:args</p>\n<p>打开远程文件，比如ftp或者share folder</p>\n<p>:e ftp://192.168.10.76/abc.txt</p>\n<p>:e \\\\qadrive\\test\\1.txt</p>\n<h1>vim的模式</h1>\n<p>正常模式（按Esc或Ctrl+[进入） 左下角显示文件名或为空<br>\n插入模式（按i键进入） 左下角显示–INSERT–<br>\n可视模式（不知道如何进入） 左下角显示–VISUAL–</p>\n<h1>导航命令</h1>\n<p>% 括号匹配</p>\n<h1>插入命令</h1>\n<p>i 在当前位置生前插入</p>\n<p>I 在当前行首插入</p>\n<p>a 在当前位置后插入</p>\n<p>A 在当前行尾插入</p>\n<p>o 在当前行之后插入一行</p>\n<p>O 在当前行之前插入一行</p>\n<h1>查找命令</h1>\n<p>/text　　查找text，按n健查找下一个，按N健查找前一个。</p>\n<p>?text　　查找text，反向查找，按n健查找下一个，按N健查找前一个。</p>\n<p>vim中有一些特殊字符在查找时需要转义　　.*[]^%/?~$</p>\n<p>:set ignorecase　　忽略大小写的查找</p>\n<p>:set noignorecase　　不忽略大小写的查找</p>\n<p>查找很长的词，如果一个词很长，键入麻烦，可以将光标移动到该词上，按*或#键即可以该单词进行搜索，相当于/搜索。而#命令相当于?搜索。</p>\n<p>:set hlsearch　　高亮搜索结果，所有结果都高亮显示，而不是只显示一个匹配。</p>\n<p>:set nohlsearch　　关闭高亮搜索显示</p>\n<p>:nohlsearch　　关闭当前的高亮显示，如果再次搜索或者按下n或N键，则会再次高亮。</p>\n<p>:set incsearch　　逐步搜索模式，对当前键入的字符进行搜索而不必等待键入完成。</p>\n<p>:set wrapscan　　重新搜索，在搜索到文件头或尾时，返回继续搜索，默认开启。</p>\n<h1>替换命令</h1>\n<p>ra 将当前字符替换为a，当期字符即光标所在字符。</p>\n<p>s/old/new/ 用old替换new，替换当前行的第一个匹配</p>\n<p>s/old/new/g 用old替换new，替换当前行的所有匹配</p>\n<p>%s/old/new/ 用old替换new，替换所有行的第一个匹配</p>\n<p>%s/old/new/g 用old替换new，替换整个文件的所有匹配</p>\n<p>:10,20 s/^/    /g 在第10行知第20行每行前面加四个空格，用于缩进。</p>\n<p>ddp 交换光标所在行和其下紧邻的一行。</p>\n<h1>移动命令</h1>\n<p>h 左移一个字符<br>\nl 右移一个字符，这个命令很少用，一般用w代替。<br>\nk 上移一个字符<br>\nj 下移一个字符<br>\n以上四个命令可以配合数字使用，比如20j就是向下移动20行，5h就是向左移动5个字符，在Vim中，很多命令都可以配合数字使用，比如删除10个字符10x，在当前位置后插入3个！，3a！&lt;Esc&gt;，这里的Esc是必须的，否则命令不生效。</p>\n<p>w 向前移动一个单词（光标停在单词首部），如果已到行尾，则转至下一行行首。此命令快，可以代替l命令。</p>\n<p>b 向后移动一个单词 2b 向后移动2个单词</p>\n<p>e，同w，只不过是光标停在单词尾部</p>\n<p>ge，同b，光标停在单词尾部。</p>\n<p>^ 移动到本行第一个非空白字符上。</p>\n<p>0（数字0）移动到本行第一个字符上，</p>\n<p>&lt;HOME&gt; 移动到本行第一个字符。同0健。</p>\n<p>$ 移动到行尾 3$ 移动到下面3行的行尾</p>\n<p>gg 移动到文件头。 = [[</p>\n<p>G（shift + g） 移动到文件尾。 = ]]</p>\n<p>f（find）命令也可以用于移动，fx将找到光标后第一个为x的字符，3fd将找到第三个为d的字符。</p>\n<p>F 同f，反向查找。</p>\n<p>跳到指定行，冒号+行号，回车，比如跳到240行就是 :240回车。另一个方法是行号+G，比如230G跳到230行。</p>\n<p>Ctrl + e 向下滚动一行</p>\n<p>Ctrl + y 向上滚动一行</p>\n<p>Ctrl + d 向下滚动半屏</p>\n<p>Ctrl + u 向上滚动半屏</p>\n<p>Ctrl + f 向下滚动一屏</p>\n<p>Ctrl + b 向上滚动一屏</p>\n<h1>撤销和重做</h1>\n<p>u 撤销（Undo）<br>\nU 撤销对整行的操作<br>\nCtrl + r 重做（Redo），即撤销的撤销。</p>\n<h1>删除命令</h1>\n<p>x 删除当前字符</p>\n<p>3x 删除当前光标开始向后三个字符</p>\n<p>X 删除当前字符的前一个字符。X=dh</p>\n<p>dl 删除当前字符， dl=x</p>\n<p>dh 删除前一个字符</p>\n<p>dd 删除当前行</p>\n<p>dj 删除上一行</p>\n<p>dk 删除下一行</p>\n<p>10d 删除当前行开始的10行。</p>\n<p>D 删除当前字符至行尾。D=d$</p>\n<p>d$ 删除当前字符之后的所有字符（本行）</p>\n<p>kdgg 删除当前行之前所有行（不包括当前行）</p>\n<p>jdG（jd shift + g）   删除当前行之后所有行（不包括当前行）</p>\n<p>:1,10d 删除1-10行</p>\n<p>:11,$d 删除11行及以后所有的行</p>\n<p>:1,$d 删除所有行</p>\n<p>J(shift + j)　　删除两行之间的空行，实际上是合并两行。</p>\n<h1>拷贝和粘贴</h1>\n<p>yy 拷贝当前行</p>\n<p>nyy 拷贝当前后开始的n行，比如2yy拷贝当前行及其下一行。</p>\n<p>p  在当前光标后粘贴,如果之前使用了yy命令来复制一行，那么就在当前行的下一行粘贴。</p>\n<p>shift+p 在当前行前粘贴</p>\n<p>:1,10 co 20 将1-10行插入到第20行之后。</p>\n<p>:1,$ co $ 将整个文件复制一份并添加到文件尾部。</p>\n<p>正常模式下按v（逐字）或V（逐行）进入可视模式，然后用jklh命令移动即可选择某些行或字符，再按y即可复制</p>\n<p>ddp交换当前行和其下一行</p>\n<p>xp交换当前字符和其后一个字符</p>\n<h1>剪切命令</h1>\n<p>正常模式下按v（逐字）或V（逐行）进入可视模式，然后用jklh命令移动即可选择某些行或字符，再按d即可剪切</p>\n<p>ndd 剪切当前行之后的n行。利用p命令可以对剪切的内容进行粘贴</p>\n<p>:1,10d 将1-10行剪切。利用p命令可将剪切后的内容进行粘贴。</p>\n<p>:1, 10 m 20 将第1-10行移动到第20行之后。</p>\n<h1>退出命令</h1>\n<p>:wq 保存并退出</p>\n<p>ZZ 保存并退出</p>\n<p>:q! 强制退出并忽略所有更改</p>\n<p>:e! 放弃所有修改，并打开原来文件。</p>\n<h1>窗口命令</h1>\n<p>:split或new 打开一个新窗口，光标停在顶层的窗口上</p>\n<p>:split file或:new file 用新窗口打开文件</p>\n<p>split打开的窗口都是横向的，使用vsplit可以纵向打开窗口。</p>\n<p>Ctrl+ww 移动到下一个窗口</p>\n<p>Ctrl+wj 移动到下方的窗口</p>\n<p>Ctrl+wk 移动到上方的窗口</p>\n<p>关闭窗口</p>\n<p>:close 最后一个窗口不能使用此命令，可以防止意外退出vim。</p>\n<p>:q 如果是最后一个被关闭的窗口，那么将退出vim。</p>\n<p>ZZ 保存并退出。</p>\n<p>关闭所有窗口，只保留当前窗口</p>\n<p>:only</p>\n<p>录制宏</p>\n<p>按q键加任意字母开始录制，再按q键结束录制（这意味着vim中的宏不可嵌套），使用的时候@加宏名，比如qa。。。q录制名为a的宏，@a使用这个宏。</p>\n<h1>执行shell命令</h1>\n<p>:!command</p>\n<p>:!ls 列出当前目录下文件</p>\n<p>:!perl -c script.pl 检查perl脚本语法，可以不用退出vim，非常方便。</p>\n<p>:!perl script.pl 执行perl脚本，可以不用退出vim，非常方便。</p>\n<p>:suspend或Ctrl – Z 挂起vim，回到shell，按fg可以返回vim。</p>\n<h1>注释命令</h1>\n<p>perl程序中#开始的行为注释，所以要注释某些行，只需在行首加入#</p>\n<p>3,5 s/^/#/g 注释第3-5行</p>\n<p>3,5 s/^#//g 解除3-5行的注释</p>\n<p>1,$ s/^/#/g 注释整个文档。</p>\n<p>:%s/^/#/g 注释整个文档，此法更快。</p>\n<h1>帮助命令</h1>\n<p>:help or F1 显示整个帮助<br>\n:help xxx 显示xxx的帮助，比如 :help i, :help CTRL-[（即Ctrl+[的帮助）。<br>\n:help ‘number’ Vim选项的帮助用单引号括起<br>\n:help &lt;Esc&gt; 特殊键的帮助用&lt;&gt;扩起<br>\n:help -t Vim启动参数的帮助用-<br>\n：help i_&lt;Esc&gt; 插入模式下Esc的帮助，某个模式下的帮助用模式_主题的模式<br>\n帮助文件中位于||之间的内容是超链接，可以用Ctrl+]进入链接，Ctrl+o（Ctrl + t）返回</p>\n<h1>其他非编辑命令</h1>\n<p>. 重复前一次命令</p>\n<p>:set ruler?　　查看是否设置了ruler，在.vimrc中，使用set命令设制的选项都可以通过这个命令查看</p>\n<p>:scriptnames　　查看vim脚本文件的位置，比如.vimrc文件，语法文件及plugin等。</p>\n<p>:set list 显示非打印字符，如tab，空格，行尾等。如果tab无法显示，请确定用set lcs=tab:&gt;-命令设置了.vimrc文件，并确保你的文件中的确有tab，如果开启了expendtab，那么tab将被扩展为空格。</p>\n<p>Vim教程<br>\n在Unix系统上<br>\n$ vimtutor<br>\n在Windows系统上<br>\n:help tutor</p>\n<p>:syntax 列出已经定义的语法项<br>\n:syntax clear 清除已定义的语法规则<br>\n:syntax case match 大小写敏感，int和Int将视为不同的语法元素<br>\n:syntax case ignore 大小写无关，int和Int将视为相同的语法元素，并使用同样的配色方案</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114641\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114641votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114641\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/4c6abd763d27eeeb4c7e7665f213388ec74df623.jpg"}{"url_object_id": "14aadb73b3b5efd912e34780f8bf96cc", "title": "克劳德·香农（信息论之父）：天才的解决问题之道", "url": "http://blog.jobbole.com/114648/", "create_date": "2019/02/16", "front_image_url": ["https://camo.githubusercontent.com/16a2334128d990c2d2fab7c7ade060028e372ac9/68747470733a2f2f63646e2d696d616765732d312e6d656469756d2e636f6d2f6d61782f323630302f312a5765354a51583961674871706866774a593756315a412e6a706567"], "praise_nums": "1", "fav_nums": "4", "comment": "1", "tags": "趣文小说", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/171272817\">HuihuangZhang</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://medium.com/personal-growth/claude-shannon-how-a-real-genius-solves-problems-15b434aeb2b6\">Zat Rana</a>。欢迎加入<a target=\"_blank\" href=\"https://github.com/jobbole/translation-project\">翻译组</a>。</div><p><img src=\"https://camo.githubusercontent.com/16a2334128d990c2d2fab7c7ade060028e372ac9/68747470733a2f2f63646e2d696d616765732d312e6d656469756d2e636f6d2f6d61782f323630302f312a5765354a51583961674871706866774a593756315a412e6a706567\" alt=\"\"></p>\n<p>克劳德·香农花了差不多10年，制定了一套完整的、具有开创性意义的信息理论。</p>\n<p>一开始在研究生院时，他只是想给当时的众多信息技术（如电话，收音机，电视机）建立一套通用的技术基础。</p>\n<p>直到1948年，他发表了一篇名为《通信的数学理论》的论文。</p>\n<p>他的重大贡献可不止这篇论文。当他还在MIT攻读硕士时，年仅21岁的他发表了一篇论文，这也被大家认为是20世纪最重要的硕士论文。</p>\n<p>对于普通人来说，这无足轻重。香农并不是一个家喻户晓的名字。但如果没有他的贡献，我们所说的现代计算机可能不会存在。他巨大的的影响力不仅在计算机科学领域，而且涉及物理学和工程学。</p>\n<p>天才一词被到处滥用，但如克劳德·香农这样真正配得上这个称号的人却屈指可数。他思考的方式异于常人，而且充满趣味。</p>\n<p>讲到成就这样一位天才背后的原因，不得不提的就是他解决问题的方式。他不只是提出问题然后解决问题，而是他通过自己的方法，开发了一套思考过程来指导他洞察问题的本质。</p>\n<p>虽然我们不太可能遇到他面临的问题，但这种解决问题的方法及其背后的推理还是有很多可以借鉴的地方，当我们了解了之后，或许可以帮我们更敏锐地思考。</p>\n<p>一切问题都有其表现形式。我们必须先去理解问题，再着手解决问题。</p>\n<h2>在抠细节前先找到问题核心</h2>\n<p>找到问题答案固然很重要，但找到一种提问方式，以便更易于找到问题答案的重要性却被大多数人忽视了。</p>\n<p>我们通常把目光聚焦在不同的细节上，想找到它们之间的联系，却没有集中精力去培养一种寻找问题本质的直觉。</p>\n<p>香农恰恰反其道而行之。在他的自传《A Mind at Play》中，他坦言一些同时代的数学家觉得他思考不够严谨，步骤不够连贯。他们想要的是细节。</p>\n<p>但是香农的推理方式是，只有你去掉问题中无关的细节，才能看到问题的本质，才能找到问题的答案。</p>\n<p>通常情况下，当你看到问题的本质时，你可能觉得这根本不是之前思考的那个问题。所以，拿到一个问题时，在你纠结细节之前，以更宏观的角度来思考是很重要的，否则，你一开始就可能走歪了。</p>\n<p>细节很重要，也很有用。很多细节的重要程度、能起多大作用跟其表现方式有关。但同样的，很多细节也没什么用。</p>\n<p>如果一开始没有找到问题的关键所在，而是带着错误的细节信息就出发了，那样只会收集越来越多的错误信息，直到走进死胡同里。</p>\n<p>从剔除无关细节开始，这样你才不会深陷迷雾当中，然后才能找到问题的本质。</p>\n<p>找到问题的真正形式，这几乎和问题答案一样重要。</p>\n<h2>善用重构和对比</h2>\n<p>1952年，香农在贝尔实验室发表了一次演讲。演讲中，他深入分析了他如何创造性地思考他面临的问题。</p>\n<p>除了简化问题和寻找问题本质，他还提到了其他的方法，这些方法在表面上似乎没什么作用，但对于创造性思考却至关重要。</p>\n<p>当我们在一个问题上纠结了很长时间之后，通常会形成一种管窥思维，使得思路一直在一条链路上徘徊。逻辑思考总是从一个点出发，运用推理，建立连接，如果一切顺利，每次都会把我们带到同一个终点。</p>\n<p>创造性思维则有些不同。它也建立连接，但比起逻辑思维，它是一种更发散、更具偶然性的思考模式。</p>\n<p>香农的其中一个诀窍就是，他会把一个问题通过各种各样的方式来重构并进行对比。这可能会对问题进行夸大、或简略、或改变措辞、或转换不同的角度、或反转。</p>\n<p>这样做是为了获得一种大局观，让他能更全面地看问题。</p>\n<p>在思考问题时，我们很容易陷入自我的思维怪圈之中，要打破这种思维怪圈，最好的方式是改变参考点。不必颠覆自己对问题的直觉认知或是已认定的问题本质，而仅仅是改变表达方式。</p>\n<p>例如，我们可以问：这个问题最好的解决方式是什么？并且也可以问：最糟糕的解决方式呢？两者都包含信息，所以我们都需要剖析。</p>\n<p>就如同一个问题有多种形式，也有多种不同的外在呈现的模样。 不同的模样蕴含着不同的真相。</p>\n<h2>增加输入信息蕴含的本质</h2>\n<p>想法的质量固然重要，但其数量的作用也不容小觑。但并不是仅关注于想法的总数，而是关注你得到这些想法的过程。</p>\n<p>为了解决问题，你必须有一个好想法。但反过来，要有一个好想法，首先你需要筛选掉很多平庸的念头。然而，即便如此，并不意味着要把脑子里所有的想法都拿出来过一遍吗，肯定有比这更好的方法。</p>\n<p>在二战期间，香农遇到了同为计算机科学先驱的艾伦·图灵。图灵在美国的那段时间，他们几乎每天一起喝茶。多年来，他们仍保持着联系，两人都尊重彼此的想法并享受对方的陪伴。</p>\n<p>当被问到天才具有什么特质时，香农用了一个图灵告诉他的类比，也是图灵经过敏锐地观察后得出的。以下是他的原话：<br>\n“有些人，你给他/她一个点子，他/她只会回你半个，但有些人能回你两个”<br>\n香农谦逊地否认了自己属于后者，而牛顿这样的人才是。但他的话也说明了，真正对解决问题发挥作用的，决不仅仅是点子的数量。</p>\n<p>每个输入的信息都有其核心的精髓，能帮我们揭开掩盖真相的面纱。这个真相是不同问题的多种不同解决方案的基础。</p>\n<p>我认为，香农想说的是，要产生好点子，就要善于发掘每个输入信息所蕴含的本质。如果你弄错了其本质，就可能产生出平庸的点子，但只要你能够尽可能的触及问题的本质，就能越快地得出真知灼见。</p>\n<p>让你的想法产生双倍的成效只是第一步，真正带来本质区别的是要抓住本质。</p>\n<h2>总结</h2>\n<p>人的一生大部分时刻，无论在你的工作中、人际交往中、还是关系到你的幸福感的时候，归结起来就是发现问题，解决问题，好让你能继续前进。</p>\n<p>克劳德·香农或许是一个具有独特思维的天才，但他思考问题的过程并非常人所不可及。他的长处在于善于运用该过程来解决问题。</p>\n<p>优秀的解决问题的能力关乎批判性思维和创造性思维。而综合两者的最好的方式便是在思考的过程中，让两者各放异彩。</p>\n<p>思维模式塑造我们的思想。正确的思维模式应该成为我们追求的目标。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114648\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114648votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114648\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/171272817\">HuihuangZhang</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/171272817\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2019/01/f32b0e8b93471070b945dbb734a03367.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            搬砖工        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/171272817\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/171272817/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"QQ：1046604957\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/HuihuangZhang\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/00df4df91ea1bcb160c4af2b1536bda37001fd37.jpg"}{"url_object_id": "225e95c8b3bbbfe8957b0448da88d1f4", "title": "中国科技公司提携年轻员工，寻求激情和活力", "url": "http://blog.jobbole.com/114676/", "create_date": "2019/03/27", "front_image_url": ["https://wx1.sinaimg.cn/mw690/7cc829d3ly1g13jz4s88aj20fe0aat8x.jpg"], "praise_nums": "1", "fav_nums": "2", "comment": "1", "tags": "职场,996,职场", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/laomanong\">老码农</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://news.yahoo.com/china-tech-firms-seeking-passion-energy-promote-younger-083342441--finance.html\">路透社/Sijia Jiang 和 Pei Li</a>。欢迎加入<a target=\"_blank\" href=\"https://github.com/jobbole/translation-project\">翻译组</a>。</div><p>中国科技巨头企业正在寻找年轻、充满活力的员工来取代资深经理人。</p>\n<p>对于这些令老员工担忧的举动，这些公司否认有任何基于年龄的歧视。在许多国家，明确的年龄歧视是非法的，但在中国并非如此。</p>\n<p>众所周知，中国的科技公司更喜欢年轻员工，部分原因是所谓的「996工作制」计划要求雇员每周工作 6 天，上午 9 点到晚上 9 点工作。</p>\n<p>最近腾讯证实计划替换 10% 的中层管理者。</p>\n<p>“一些年长的管理人员会从他们的职位退下来，”腾讯控股总裁马丁·刘说， “他们的工作将由更年轻、更有激情的新同事接手。”</p>\n<p>当被要求详细说明改组情况时，腾讯引用其年度报告称其雇佣行为符合法律法规，并且“不歧视性别、种族、残疾、年龄、宗教信仰、性取向或家庭状况” 。</p>\n<p>分析师表示，提拔年轻管理者的举动部分是由于新一代中国互联网公司的兴起，如拼多多和字节跳动，这些公司主要由 80 后或 90 后企业家和工程师管理。</p>\n<p>“环境和外部压力正在推动这些公司进行改革，如果领导层年龄太大，那么他们就很容易落后，”曾在腾讯和京东任职的技术分析师李成东（音译）说。</p>\n<p>“在美国和欧洲，你很少看到公司每隔一年进行一次结构改革，但在中国却很常见……公司核心管理可以在很短的时间内被取代。”</p>\n<h2><span style=\"font-size: 14pt; color: #ff0000;\">退休计划</span></h2>\n<p>3 月 15 日，百度 CEO 李彦宏在一封内部信件中表示，该公司计划通过提拔更多 80 后员工来加快年轻化的步伐，并宣布了一项行政退休计划。</p>\n<p>百度第一位退休的高管是张亚勤，他将于今年 10 月退休。当地媒体称张的年龄为 53 岁。</p>\n<p><img class=\"alignnone\" src=\"https://wx1.sinaimg.cn/mw690/7cc829d3ly1g13jz4s88aj20fe0aat8x.jpg\" width=\"554\" height=\"370\"></p>\n<p>“对于为公司努力工作并伴随其发展的高级管理人员，如果他们因个人或家庭原因想要选择新的生活，我们将根据高管退休计划照顾他们，”李写道。</p>\n<p>百度发言人表示，年龄并不是管理者是否选择退休的一个因素，而是取决于他们是否想加入该计划。</p>\n<p>中国智能手机制造商小米的负责人雷军在 3 月 20 日的新闻发布会上表示，该公司正在任命新的、年轻的部门经理，作为组织重组的一部分。</p>\n<p>小米发言人表示，该公司并没有裁减高级管理团队，而是需要提拔“年轻人才”来支持其快速扩张。</p>\n<p>一些 30+ 和 40+ 岁的中国科技行业员工告诉路透社，他们已经接受了该行业对年轻人的偏好，但担心它变得更加极端，特别是在人工智能等新兴领域。</p>\n<p>“我不担心失去工作，但肯定会担心我得不到升职，”一位 38 岁的京东工程师说。与其他受访的员工一样，他拒绝透露姓名，因为他无权与媒体对话。</p>\n<p>京东发言人表示，它没有歧视行为，任何高绩效员工都有资格晋升。</p>\n<p> </p>\n<p><span style=\"color: #ff0000;\"><strong><span style=\"font-size: 14pt;\">提拔的时间更长</span></strong></span></p>\n<p>中国某个顶级短视频平台的一位 29 岁女程序员表示，女性更关注年龄歧视。</p>\n<p>“女性可能需要更长的时间才能获得更好的工作，因此年龄限制对女性的影响更大，”她说，“肯定会有这种感觉，如果你年纪大一些，你就理解不了这个产品。”</p>\n<p>老员工在法律方面几乎没有什么选择。</p>\n<p>“中国员工唯一的诉求是，离职后他们是否能得到适当的补偿，”香港劳工权益组织“中国劳工通讯”的杰弗里·克罗瑟尔说。</p>\n<p>虽然年龄歧视在美国是非法的，但通常很难证明。 对于年轻员工的偏见在硅谷的初创公司中往往很明显，投资人往往更喜欢投资给 20+ 岁和 30+ 岁的企业家。</p>\n<p>一些中国 IT 从业人员表示，如果老员工表现最佳，他们仍然可以取得领先。在电信业巨头华为技术有限公司中，一位员工为这个行业普遍采用的方法进行了辩护。该公司以一种进取的内部文化而闻名，每个人的合同每隔几年就要续签一次。华为对此拒绝发表评论。</p>\n<p>“公司正在摆脱传统的铁饭碗式心态，”他说。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/8ca01fe82cb117b2c53fe72bef7ff66b.jpg\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/3374baf2fa6f5468bb90cfba67e65654.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114676\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114676votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114676\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/laomanong\">老码农</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/laomanong\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/06/9d55d3287b20fc42d5b5fa8429b51cb5.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            搞得定代码，罩得住娃；治得好跟腱，踢得了球。Hi，我是老码农，蜀黍有练过，小盆友们不要随便模仿喔。（新浪微博：@老码农的自留地）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/laomanong\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/laomanong/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/laomanong/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 122</a> · <a title=\"微博主页\" target=\"_blank\" href=\"http://www.weibo.com/ned11\"><i class=\"fa fa-weibo\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/coderLMN\"><i class=\"fa fa-github\"></i></a> <a title=\"Stack Overflow主页\" target=\"_blank\" href=\"http://stackoverflow.com/users/1400279/coderlmn\"><i class=\"fa fa-stack-overflow\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/0bddb987b374937ab6185035539a60da1eb0f18d.jpg"}{"url_object_id": "fc67d0a216535ebdb4059268a11fbaea", "title": "GetStream.io：我们用 Go 替换 Python 的原因", "url": "http://blog.jobbole.com/114690/", "create_date": "2019/04/19", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2019/04/8e9766c10c2120859164c6b4e978fe25.png"], "praise_nums": "2", "fav_nums": "2", "comment": "1", "tags": "IT技术,Go", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q3198108035\">tsteho</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://codeburst.io/why-we-switched-from-python-to-go-60c8fd2cb9a9\">Nick Parsons</a>。欢迎加入<a target=\"_blank\" href=\"https://github.com/jobbole/translation-project\">翻译组</a>。</div><p><img src=\"https://cdn-images-1.medium.com/max/1600/1*NRRnK49Q9HuOh9r9G4L-pg.png\" alt=\"\"></p>\n<p>切换到新的编程语言始终是一件大事，尤其是在这种严峻的情况下：团队成员中仅有一人具备该种语言的使用经验。今年年初，我们将 <a href=\"https://getstream.io/\">Stream’s</a> 的主要编程语言从 Python 切换到了 Go。 这篇文章将给出一些理由以说明两个问题：为什么我们决定舍弃 Python？又是为什么选择了 Go？</p>\n<h2>Reasons to Use Go</h2>\n<h2>为什么使用 Go？</h2>\n<h3>Reason 1 — Performance</h3>\n<h3>原因 1 – 性能</h3>\n<p>Go 的运行速度非常快。性能类似于 Java 或者 C++。对于我们的使用情况来说，Go 一般比 Python 快 30 倍。这里有个小型的测试游戏 <a href=\"https://benchmarksgame.alioth.debian.org/u64q/go.html\">Go vs Java</a>。</p>\n<h3>原因 2 – 语言的性能很重要</h3>\n<p>对于很多应用来说，编程语言只是应用程序和数据库之间的粘合剂。语言本身的性能通常无关紧要。</p>\n<p>然而，Stream 是一家 API 提供商，其为 500 家公司和 2 亿多终端用户提供信息流基础设施。我们一直在优化 Cassandra、PostgreSQL 和 Redis 等工具。这持续了好几年，但是最终，我们还是到达了所用语言的瓶颈。</p>\n<p>Python 是一门很棒的语言，但是在诸如序列化/反序列化、排序以及聚合之类的场景上，它的性能相当差。我们常常遇到性能上的问题：花 1ms 的时间拿到 Cassandra 中的数据，Python 接下来还需要花 10ms 的时间将拿到的数据转换成对象。</p>\n<h3>原因 3 – 开发人员的开发效率 &amp; 拒绝太富有创造性</h3>\n<p>看看这些来自于 <a href=\"http://howistart.org/posts/go/1/\">How I Start Go tutorial</a> 的 Go 的代码片段。（这是一个很棒的教程，也是一个学习 Go 语言的一个很好的起点。）</p>\n<p>如果你是 Go 语言新手，在阅读那些代码片段时，没有什么会让你大吃一惊。这些代码段仅仅演示了go语言的一些特性，例如赋值、数据结构、指针、格式化和内置的 HTTP 库。</p>\n<p>当我第一次开始编程时，我总是喜欢用 Python 比较高级的特性。Python 允许你更有“创意”的写代码。比如，你能够做如下的事：</p>\n<ul>\n<li>在代码初始化时使用元类自行注册类</li>\n<li>关键字 True 和 False 的值可以互换</li>\n<li>编写自己的函数，并且使其成为内建函数。</li>\n<li>通过魔法方法重载运算符</li>\n</ul>\n<p>这些特性很有趣，但是，正如大多数程序员都同意的那样，在阅读别人的代码时，它们的存在使得代码更难理解。</p>\n<p>Go 迫使你回归基础。这决定了 Go 代码是容易阅读和理解的。</p>\n<p>说明：当然，“容易”的程度需要视情况而定。如果你想要创建一个基本的增删改查接口，我仍然推荐你使用 Django + <a href=\"http://www.django-rest-framework.org/\">DRF</a>，或者用 Rails。</p>\n<h3>原因 4 – 并发 &amp; 管道</h3>\n<p>作为一门编程语言，Go 试图让事情变得简单。它没有引入很多的新概念。重点是创造的这门编程语言的性能要难以置信的快，并且容易上手。goroutines 和管道是 Go 仅有的创新点。（准确的讲，<a href=\"https://en.wikipedia.org/wiki/Communicating_sequential_processes\">CSP</a> 这个概念1977年就被提出了，因此这个创新更准确的说法是——旧点子的新实现）Goroutines 是 Go 对线程的轻量级实现，而管道是让 goroutines 之间相互通信的绝佳的方式。</p>\n<p>Goroutines 占用的资源非常少，只需要几 KBs 的额外内存。因为 Goroutines 非常轻量，所以同时运行数百甚至数千个也不在话下。</p>\n<p>你可以使用管道在 goroutines 之间通信。Go 运行时会处理所有的复杂事物。goroutines 的存在以及基于管道的并发方法，使得程序可以充分利用 CPU 资源、处理并发 IO — 所有这些都没有增加开发的复杂性。与 Python/Java 相比，在 goroutine 上运行一个函数只需要非常少的样板代码。您只需在函数调用前加上关键字“go”：</p>\n<p><a href=\"https://tour.golang.org/concurrency/1\">https://tour.golang.org/concurrency/1</a></p>\n<p>和 Node 相比，Go 的并发处理更加容易。如果使用 Node 写并发方法，开发者必须密切关注异步代码的处理方式。</p>\n<p>Go 自带<a href=\"https://blog.golang.org/race-detector\">竞争检测器</a>，这是用 Go 写并发程序另一个好的方面。如果异步代码中出现条件竞争的情况，检测器能帮你轻松地找到问题。</p>\n<p>如果要学习 Go 和管道的话，下面是一些不错的资料：</p>\n<ul>\n<li><a href=\"https://blog.golang.org/race-detector\">https://blog.golang.org/race-detector</a></li>\n<li><a href=\"https://tour.golang.org/concurrency/2\">https://tour.golang.org/concurrency/2</a></li>\n<li><a href=\"http://guzalexander.com/2013/12/06/golang-channels-tutorial.html\">http://guzalexander.com/2013/12/06/golang-channels-tutorial.html</a></li>\n<li><a href=\"https://www.golang-book.com/books/intro/10\">https://www.golang-book.com/books/intro/10</a></li>\n<li><a href=\"https://www.goinggo.net/2014/02/the-nature-of-channels-in-go.html\">https://www.goinggo.net/2014/02/the-nature-of-channels-in-go.html</a></li>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/222642/are-go-langs-goroutine-pools-just-green-threads\">Goroutines vs Green threads</a></li>\n</ul>\n<h3>原因 5 – 编译时间短</h3>\n<p>目前，我们使用 Go 编写的最大微服务只需 6 秒钟就能完成编译。与 Java 和 C++ 这样以低速编译速度著称的语言相比，Go 的快速编译能力是一场生产力上的大胜。我也喜欢趁着代码编译的时间去放松一下，但是，如果能在我还记得代码是做什么事情的时候就完成编译，岂不更好？况且本来就应该是这样的才对。</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1600/1*N5NJvvxy-D9TrSwXGaMsCQ.png\" alt=\"\"></p>\n<h3>原因 6 – 创建一个团队的能力</h3>\n<p>首先，让我们认清一个现实：与 C++ 和 Java 这样的老牌编程语言相比，Go 开发人员的数量是不占上风的。根据 <a href=\"https://insights.stackoverflow.com/survey/2017\">StackOverflow</a> 的数据，38% 的开发人员熟悉 Java，19.3% 的开发人员熟悉 C++，仅仅 4.6% 的开发人员熟悉 Go。<a href=\"https://madnight.github.io/githut/\">GitHub 上的数据</a>显示一个<a href=\"https://madnight.github.io/githut/\">相似的趋势</a>： Go 用得比 Erlang、Scala 以及 Elixir 广泛，但是不及 Java 和 C++。</p>\n<p>幸运的是，Go 很简单，而且易于学习。它提供了你所需要的基本的特性，一点不多，一点不少。它引入了 2 个新的概念：“<a href=\"https://blog.golang.org/defer-panic-and-recover\">defer</a>”声明、“go routines” 和管道内建的并发管理。（对于纯粹主义者来说：Go 并不是第一种实现这些概念的语言，而是第一种使它们受欢迎的语言。）团队中任何地 Python、Elixir、C++、Scala 或 Java 开发人员都可以在一个月内有效地掌握 Go，因为它非常简单。</p>\n<p>我们发现，和很多其他的编程语言相比，创建一个 Go 开发团队更容易。如果你在竞争激烈的环境（如 <a href=\"http://angel.co/stream/jobs\">Boulder、Amsterdam</a>）雇佣人员，这是一大优点。</p>\n<h3>原因 7 – 强大的生态系统</h3>\n<p>对于我们一个大约 20 个人的团队来说，生态系统很重要。如果你不得不重新发明每一部分的功能，你根本不可能为你的客户创造价值。Go 对我们使用的工具提供了很大的支持。比如这些可靠的库：Redis、RabbitMQ、PostgreSQL、模板解析、任务调度、表达式解析和 RocksDB。</p>\n<p>与 Rust 或 Elixir 等其他新语言相比，Go 的生态系统是一项重大胜利。当然，Go 并不像 Java、Python 或者 Node 那样出色。但是它非常的可靠，并且对于一些基本的需求，你都可以找到高质量的包。</p>\n<h3>原因 8 – Gofmt：强制代码格式化</h3>\n<p>那么什么是 Gofmt 呢？注意，它并不是脏话。Gofmt 是一个极棒的命令行工具集，已集成到了 Go 编译器，用于格式化代码。从功能上来讲，它有点像 Python 中的 autopep8。除非是在《硅谷》电视剧中，不然大多数人并不真的喜欢争论该用 tabs 还是 spaces。格式的一致性是非常重要的，但是实际的格式标准并不是那么重要。Gofmt 提供官方的标准来格式化你的代码，从而避免了不必要的争论。</p>\n<h3>原因 9 – gRPC 与 Protocol Buffers</h3>\n<p>Go 对 protocol buffers 和 gRPC 有着一流的支持。在构建需要通过 RPC 进行通信的微服务时，这两个工具可以很好地协同工作。你只需编写一个说明文件，里面只需定义可以进行的 RPC 调用以及它们采用的参数。根据这份说明文件，服务器和客户端代码就会自动生成。由此产生的代码运行快速，网络占用空间小，易于使用。</p>\n<p>根据相同的说明文件，甚至可以生成很多不同编程语言的客户端代码，比如 C++、Java、Python 和 Ruby。因此，内部流量不再有模糊的 REST 终端，因为你不必每次都写一遍几乎相同的客户端和服务器端代码。</p>\n<h2>使用 Golang 的缺点</h2>\n<h3>缺点 1 – 缺少框架</h3>\n<p>Go 没有一个具有代表性的框架，像 Ruby 有 Rails、Python 有 Django 或者 PHP 有 Laravel。在 Go 社区中，这是一个争论激烈的话题，很多人提倡不应该一开始就使用框架。某些使用案例，我完全同意这样的观点。然而，如果只是想要创建一个增删改查的接口，使用 Django/DJRF、Rails Laravel 或者 <a href=\"http://phoenixframework.org/\">Phoenix</a> 是一个更好的选择。</p>\n<h3>缺点 2 – 错误处理机制</h3>\n<p>Go 处理错误的过程如下：简单地从函数中返回错误，并且期望你调用代码来处理该错误（或者将它返回到调用堆栈之上）。虽然这种方法有效，但很容易丢失出错的范围，导致无法为用户提供有意义的错误。 <a href=\"https://github.com/pkg/errors\">errors </a>包通过允许你为错误添加上下文和堆栈来跟踪问题。</p>\n<p>另一个问题是很容易忘记处理错误。像 errcheck 和 megacheck 这样的静态分析工具可以方便地规避这些错误。</p>\n<p>虽然这些解决方法很有效，但总感觉哪里不太对劲。 你肯定希望语言本身就支持一定的错误处理的功能。</p>\n<h3>缺点 3 – 包管理</h3>\n<p>Go 的包管理肯定不是完美的。默认情况下，它没有办法指定依赖项的特定版本，也没有办法创建<a href=\"https://en.wikipedia.org/wiki/Reproducible_builds\">可重现的构建</a>。 Python、Node 和 Ruby 都有更好的包管理系统。然而，通过合适的工具，Go 的包管理表现的很好。</p>\n<p>你可以使用 <a href=\"https://github.com/golang/dep\">Dep</a> 来管理依赖项以允许指定和固定版本。 除此之外，我们还提供了一个叫做 <a href=\"https://github.com/getstream/vg\">VirtualGo</a> 的开源工具，它可以更轻松地处理用 Go 编写的多个项目。</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1600/1*OVIzfruxudBtFpzISIEriA.png\" alt=\"\"></p>\n<h2>Python vs Go</h2>\n<p>我们之前做过一个有趣的实验：选择我们的 <a href=\"https://getstream.io/docs/#custom_ranking\">ranked feed</a> 功能，用 Go 语言将它重写。简单看下这个排名方法的例子：</p>\n<p>为了使这个排名方法成立，Python 和 Go 都需要遵循下面的事：</p>\n<ol>\n<li>解析表达式以便打分。在这种情况下，我们希望将“simple_gauss（time）* popular”这个字符串转换成一个函数：函数以一个活动作为输入，然后返回一个分数作为输出。</li>\n<li>基于 JSON 配置创建偏函数。比如：我们想要“simple_gauss”调用“decay_gauss”，并传递规模为 5 天，偏差为 1 天，衰减系数为 0.3 这些参数。</li>\n</ol>\n<ol>\n<li>解析“默认值”配置，以便在活动中出现未定义字段时可以进行回退。</li>\n<li>使用步骤 1 中的函数给流中的所有活动打分。</li>\n</ol>\n<p>开发 Python 版本的排名代码大约需要 3 天。这包括编写代码、单元测试和文档书写。接下来，我们花了大约 2 周时间来优化代码。其中一个优化是将评分表达式（simple_gauss(time)*popularity）转换为抽象<a href=\"https://docs.python.org/3/library/ast.html\">语法树</a>。我们还实现了缓存逻辑，该逻辑在将来的某些时间预先计算得分。</p>\n<p>相比之下，开发该代码的 Go 版本大约需要 4 天时间。性能不需要任何进一步的优化。因此，虽然 Python 初始的开发速度更快些，但如果基于 Go 的版本，最终，我们团队的工作量大大减少。作为额外的优点，Go 代码的执行速度比我们高度优化的 Python 代码快大约 40 倍。</p>\n<p>这只是一个简单的说明性能提升的例子：仅仅用 Go 替换 Python。 当然，它们没有可比性：</p>\n<ul>\n<li>排名代码是我第一个用 Go 写的项目</li>\n<li>Go 代码是在 Python 代码之后构建的，因此我可以更好地理解用例</li>\n<li>用于表达式解析的 Go 库是非常高质量的</li>\n</ul>\n<p>具体细节需要视情况而定。和 Python 相比，用 Go 构建一些我们系统中其他的组件，需要花费更多的时间。一般情况下，我们发现用 Go 开发代码更费些劲。然而，在性能方面，我们花费更少的时间来优化代码。</p>\n<h2>Elixir vs Go</h2>\n<p>我们评估了另一种语言：<a href=\"https://elixir-lang.org/\">Elixir</a>。Elixir 构建于 Erlang 虚拟机之上。这是一种引人入胜的语言。我们考虑过它，因为我们团队成员中有一个人拥有大量的 Erlang 经验。</p>\n<p>对于我们的用例，我们注意到 Go 的原始性能要好得多。Go 和 Elixir 都可以很好地为数千个并发请求提供服务。但是，如果你查看单个请求的性能，Go 对我们的用例来说要快得多。生态系统是另一个我们选择 Go 而不选择 Elixir 的原因。对于我们需要的组件，Go 有更多成熟的库，而在许多情况下，Elixir 库还没有为生产使用做好准备。培训/招聘用 Elixir 的开发人员也更难。</p>\n<p>这些原因让我们选择了 Go。虽然 Elixir 的 Phoenix 框架看起来非常棒，并且也绝对值得一看。</p>\n<h2>总结</h2>\n<p>Go 是一种非常高效的语言，且对并发性有很大的支持。它的性能几乎与 C++ 和 Java 等语言一样快。虽然和 Python 或 Ruby 相比，使用 Go 构建内容需要花费更多时间，但你将节省大量时间来优化代码。</p>\n<p>我们在 <a href=\"https://getstream.io/team/\">Stream</a> 有一个小型的开发团队，为超过2亿的终端用户提供信息流。拥有一个伟大的生态系统、新开发人员容易上手、快速的性能、对并发性的可靠支持以及高效的编程环境，使 Go 成为一个很好的选择。</p>\n<p>Stream 仍然利用 Python 为我们的控制面板、站点和机器学习提供<a href=\"https://getstream.io/personalization\">个性化的流</a>。 我们不会很快告别 Python，但是所有性能密集型代码都将用 Go 编写。</p>\n<p>如果你想要了解更多有关 Go，查看下面列出的博客文章。如果你想要了解 Stream，<a href=\"https://getstream.io/get_started/\">这个互动教程</a>是一个好的起点。</p>\n<h2>More Reading about Switching to Golang</h2>\n<h2>关于切换到 Golang 的更多阅读</h2>\n<ul>\n<li><a href=\"https://movio.co/en/blog/migrate-Scala-to-Go/\">https://movio.co/en/blog/migrate-Scala-to-Go/</a></li>\n<li><a href=\"https://hackernoon.com/why-i-love-golang-90085898b4f7\">https://hackernoon.com/why-i-love-golang-90085898b4f7</a></li>\n<li><a href=\"https://sendgrid.com/blog/convince-company-go-golang/\">https://sendgrid.com/blog/convince-company-go-golang/</a></li>\n<li><a href=\"https://dave.cheney.net/2017/03/20/why-go\">https://dave.cheney.net/2017/03/20/why-go</a></li>\n</ul>\n<h2>Learning Go</h2>\n<h2>学习 Go</h2>\n<ul>\n<li><a href=\"https://learnxinyminutes.com/docs/go/\">https://learnxinyminutes.com/docs/go/</a></li>\n<li><a href=\"https://tour.golang.org/\">https://tour.golang.org/</a></li>\n<li><a href=\"http://howistart.org/posts/go/1/\">http://howistart.org/posts/go/1/</a></li>\n<li><a href=\"https://getstream.io/blog/building-a-performant-api-using-go-and-cassandra/\">https://getstream.io/blog/building-a-performant-api-using-go-and-cassandra/</a></li>\n<li><a href=\"https://www.amazon.com/gp/product/0134190440\">https://www.amazon.com/gp/product/0134190440</a></li>\n</ul>\n<blockquote><p>这篇文章最初由 Thierry Schellenbach 撰写，<a href=\"https://getstream.io/\">GetStream.io</a> 的 CEO。原始博文的地址是<a href=\"https://getstream.io/blog/switched-python-go/\">https://getstream.io/blog/switched-python-go/</a>。</p></blockquote>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114690\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114690votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114690\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q3198108035\">tsteho</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q3198108035\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/78BB6F88A07D4D78DB552CAD9BD3D689/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Python爱好者        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q3198108035\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q3198108035/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q3198108035/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 14</a> · <a title=\"QQ：3280767506\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/cb812569c925d99e3811bd9b1546a887f3e15a23.jpg"}{"url_object_id": "bbb822e5cba634df074efc69b80a5bef", "title": "14 个依然很棒的 Linux ASCII 游戏", "url": "http://blog.jobbole.com/114663/", "create_date": "2019/02/19", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2019/02/3b05151b535b923144bc4bd63a07cf69.png"], "praise_nums": "1", "fav_nums": "1", "comment": "1", "tags": "IT技术,Linux,游戏", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://itsfoss.com/best-ascii-games/\">Ankush Das</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-10546-1.html\">Linux中国/Xingyu.Wang</a>   </div><p>基于文本的（或者我应该说是<a href=\"https://itsfoss.com/best-command-line-games-linux/\">基于终端的</a>）游戏在十年前非常流行 —— 当时还没有像战神God Of War、荒野大镖客：救赎 2Red Dead Redemption 2或蜘蛛侠Spiderman这样的视觉游戏大作。</p>\n<p>当然，Linux 平台有很多好游戏 —— 虽然并不总是“最新和最好”。但是，有一些 ASCII 游戏，却是你永远不会玩腻的。</p>\n<p>你或许不相信，有一些 ASCII 游戏被证明是非常容易上瘾的（所以，我可能需要一段时间才能继续写下一篇文章，或者我可能会被解雇？ —— 帮帮我！）</p>\n<p>哈哈，开个玩笑。让我们来看看最好的 ASCII 游戏吧。</p>\n<p><strong>注意：</strong>安装 ASCII 游戏可能要花费不少时间（有些可能会要求你安装其他依赖项或根本不起作用）。你甚至可能会遇到一些需要你从源代码构建的 ASCII 游戏。因此，我们只筛选出那些易于安装和运行的产品 —— 不用费劲。</p>\n<h3 id=\"toc_1\">在运行和安装 ASCII 游戏之前需要做的事情</h3>\n<p>如果你没有安装的话，某些 ASCII 游戏可能需要你安装 <a href=\"https://www.libsdl.org/\">Simple DirectMedia Layer</a>。因此，以防万一，你应该先尝试安装它，然后再尝试运行本文中提到的任何游戏。</p>\n<p>要安装它，你需要键入如下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e71290c110984244\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt install libsdl2-2.0\r\nsudo apt install libsdl2_mixer-2.0</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e71290c110984244-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e71290c110984244-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e71290c110984244-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">libsdl2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e71290c110984244-2\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">libsdl2_mixer</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.0</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3 id=\"toc_2\">Linux 上最好的 ASCII 游戏</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/3b05151b535b923144bc4bd63a07cf69.png\" alt=\"Best Ascii games for Linux\"></p>\n<p>如下列出的游戏排名不分先后。</p>\n<h4 id=\"toc_3\">1、战争诅咒</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/c19ae177efbb0eb6faffd9ce5000e0ec.jpg\" alt=\"Curse of War ascii games\"></p>\n<p><a href=\"http://a-nikolaev.github.io/curseofwar/\">战争诅咒</a>Curse of War是一个有趣的策略游戏。一开始你可能会发现它有点令人困惑，但一旦你掌握了，就会喜欢上它。在启动游戏之前，我建议你在其 <a href=\"http://a-nikolaev.github.io/curseofwar/\">主页</a> 上查看该游戏规则。</p>\n<p>你将建设基础设施、保护资源并指挥你的军队进行战斗。你所要做的就是把你的旗帜放在一个合适的位置，让你的军队来完成其余的任务。不仅仅是攻击敌人，你还需要管理和保护资源以帮助赢得战斗。</p>\n<p>如果你之前从未玩过任何 ASCII 游戏，请耐心花一些时间来学习它、体验它的全部潜力。</p>\n<h5 id=\"toc_4\">如何安装？</h5>\n<p>你可以在官方软件库里找到它。键入如下命令来安装它：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e712916084066867\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt install curseofwar</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e712916084066867-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e712916084066867-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">curseofwar</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h4 id=\"toc_5\">2、ASCII 领域</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/b3a54dfec5b086d22bb1645ac93307e8.jpg\" alt=\"ascii sector\"></p>\n<p>讨厌策略游戏？不用担心，ASCII 领域ASCII Sector是一款具有空间环境的游戏，可让你进行大量探索。</p>\n<p>此外，不仅仅局限于探索，你还想要采取一些行动吗？也是可以的。当然，虽然战斗体验不是最好的，但它也很有趣。当你看到各种基地、任务和探索时，会让你更加兴奋。你会在这个小小的游戏中遇到一个练级系统，你必须赚取足够的钱或进行交易才能升级你的宇宙飞船。</p>\n<p>而这个游戏最好的地方是你可以创建自己的任务，也可以玩其他人的任务。</p>\n<h5 id=\"toc_6\">如何安装？</h5>\n<p>你需要先从其 <a href=\"http://www.asciisector.net/download/\">官方网站</a> 下载并解压缩归档包。完成后，打开终端并输入这些命令（将 “Downloads” 文件夹替换为你解压缩文件夹所在的位置，如果解压缩文件夹位于你的主目录中，则忽略它）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e71291b536772953\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncd Downloads\r\ncd asciisec\r\nchmod +x asciisec\r\n./asciisec</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e71291b536772953-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e71291b536772953-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e71291b536772953-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e71291b536772953-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e71291b536772953-1\"><span class=\"crayon-e\">cd </span><span class=\"crayon-e\">Downloads</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e71291b536772953-2\"><span class=\"crayon-e\">cd </span><span class=\"crayon-e\">asciisec</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e71291b536772953-3\"><span class=\"crayon-v\">chmod</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-i\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">asciisec</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e71291b536772953-4\"><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">asciisec</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h4 id=\"toc_7\">3、DoomRL</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/2e7e2a6cef948c3cfbac873d8c3eb2e1.jpg\" alt=\"doom ascii game\"></p>\n<p>你肯定知道经典游戏“毁灭战士DOOM”，所以，如果你想把它像 Rogue 类游戏一样略微体验一下，DoomRL 就是适合你的游戏。它是一个基于 ASCII 的游戏，这或许让你想不到。</p>\n<p>这是一个非常小的游戏，但是可以玩很久。</p>\n<h5 id=\"toc_8\">如何安装？</h5>\n<p>与你对 “ASCII 领域”所做的类似，你需要从其 <a href=\"https://drl.chaosforge.org/downloads\">下载页面</a> 下载官方归档文件，然后将其解压缩到一个文件夹。</p>\n<p>解压缩后，输入以下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e71291f849022584\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncd Downloads // navigating to the location where the unpacked folder exists\r\ncd doomrl-linux-x64-0997\r\nchmod +x doomrl\r\n./doomrl</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e71291f849022584-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e71291f849022584-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e71291f849022584-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e71291f849022584-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e71291f849022584-1\"><span class=\"crayon-e\">cd </span><span class=\"crayon-v\">Downloads</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// navigating to the location where the unpacked folder exists</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e71291f849022584-2\"><span class=\"crayon-e\">cd </span><span class=\"crayon-v\">doomrl</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">linux</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">x64</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0997</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e71291f849022584-3\"><span class=\"crayon-v\">chmod</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-i\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">doomrl</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e71291f849022584-4\"><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">doomrl</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<h4 id=\"toc_9\">4、金字塔建造者</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/7323d72ee2b826ba33a116e324d830c2.jpg\" alt=\"Pyramid Builder ascii game for Linux\"></p>\n<p>金字塔建造者Pyramid Builder 是一款创新的 ASCII 游戏，你可以通过帮助建造金字塔来提升你的文明。</p>\n<p>你需要指导工人耕种、卸载货物、并移动巨大的石头，以成功建造金字塔。</p>\n<p>这确实是一个值得下载的 ASCII 游戏。</p>\n<h5 id=\"toc_10\">如何安装？</h5>\n<p>只需前往其官方网站并下载包以解压缩。提取后，导航到该文件夹并运行可执行文件。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e712923270262475\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncd Downloads\r\ncd pyramid_builder_linux\r\nchmod +x pyramid_builder_linux.x86_64\r\n./pyramid_builder_linux.x86_64</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e712923270262475-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e712923270262475-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e712923270262475-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e712923270262475-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e712923270262475-1\"><span class=\"crayon-e\">cd </span><span class=\"crayon-e\">Downloads</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e712923270262475-2\"><span class=\"crayon-e\">cd </span><span class=\"crayon-e\">pyramid_builder_linux</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e712923270262475-3\"><span class=\"crayon-i\">chmod</span> <span class=\"crayon-o\">+</span><span class=\"crayon-i\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pyramid_builder_linux</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e712923270262475-4\"><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">pyramid_builder_linux</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86_64</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p></p>\n<h4 id=\"toc_11\">5、DiabloRL</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/f508a8f5e9894fd380b83b773e011d07.jpg\" alt=\"Diablo ascii RPG game\"></p>\n<p>如果你是一位狂热的游戏玩家，你一定听说过暴雪的暗黑破坏神Diablo 1 代，毫无疑问这是一个精彩的游戏。</p>\n<p>现在你有机会玩一个该游戏的独特演绎版本 —— 一个 ASCII 游戏。DiabloRL 是一款非常棒的基于回合制的 Rogue 类的游戏。你可以从各种职业（战士、巫师或盗贼）中进行选择。每个职业都具有一套不同的属性，可以带来不同游戏体验。</p>\n<p>当然，个人偏好会有所不同，但它是一个不错的暗黑破坏神“降级版”。你觉得怎么样？</p>\n<h4 id=\"toc_12\">6、Ninvaders</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/accd62a11e5ddb3eabe7a0a22c11ee28.jpg\" alt=\"Ninvaders terminal game for Linux\"></p>\n<p>Ninvaders 是最好的 ASCII 游戏之一，因为它是如此简单，且可以消磨时间的街机游戏。</p>\n<p>你必须防御入侵者，需要在它们到达之前击败它们。这听起来很简单，但它极具挑战性。</p>\n<h5 id=\"toc_13\">如何安装？</h5>\n<p>与“战争诅咒”类似，你可以在官方软件库中找到它。所以，只需输入此命令即可安装它：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e712927735855457\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt install ninvaders </textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e712927735855457-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e712927735855457-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">ninvaders</span> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h4 id=\"toc_14\">7、帝国</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/a42147ad01650802b15ef4efc502caa4.jpg\" alt=\"Empire terminal game\"></p>\n<p>帝国Empire这是一款即时战略游戏，你需要互联网连接。我个人不是实时战略游戏的粉丝，但如果你是这类游戏的粉丝，你可以看看他们的 <a href=\"http://www.wolfpackempire.com/infopages/Guide.html\">指南</a> 来玩这个游戏，因为学习起来非常具有挑战性。</p>\n<p>游戏区域包含城市、土地和水。你需要用军队、船只、飞机和其他资源扩展你的城市。通过快速扩张，你可以通过在对方动作之前摧毁它们来捕获其他城市。</p>\n<h5 id=\"toc_15\">如何安装？</h5>\n<p>安装很简单，只需输入以下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e71292b070464919\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt install empire</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e71292b070464919-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e71292b070464919-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">empire</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h4 id=\"toc_16\">8、Nudoku</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/2dd3d6190f60eea7c0a4e1a3c7c12daf.jpg\" alt=\"Nudoku is a terminal version game of Sudoku\"></p>\n<p>喜欢数独游戏？好吧，你也有个 Nudoku 游戏，这是它的克隆。这是当你想放松时的一个完美的消磨时间的 ASCII 游戏。</p>\n<p>它为你提供三个难度级别：简单、正常和困难。如果你想要挑战电脑，其难度会非常难！如果你只是想放松一下，那么就选择简单难度吧。</p>\n<h5 id=\"toc_17\">如何安装？</h5>\n<p>安装它很容易，只需在终端输入以下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e71292e872196034\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt install nudoku</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e71292e872196034-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e71292e872196034-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">nudoku</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h4 id=\"toc_18\">9、Nethack</h4>\n<p>最好的地下城式 ASCII 游戏之一。如果你已经知道一些 Linux 的 ASCII 游戏，我相信这是你的最爱之一。</p>\n<p>它具有许多不同的层（约 45 个），并且包含一堆武器、卷轴、药水、盔甲、戒指和宝石。你也可以选择“永久死亡”模式来玩试试。</p>\n<p>在这里可不仅仅是杀戮，你还有很多需要探索的地方。</p>\n<h5 id=\"toc_19\">如何安装？</h5>\n<p>只需按照以下命令安装它：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e712932551243714\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt install nethack</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e712932551243714-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e712932551243714-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">nethack</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h4 id=\"toc_20\">10、ASCII 滑雪</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/7f03da368611a10fa17812fa28dbb3a9.jpg\" alt=\"ascii jump game\"></p>\n<p>ASCII 滑雪ASCII Jump 是一款简单易玩的游戏，你必须沿着各种轨道滑动，同时跳跃、改变位置，并尽可能长时间地移动以达到最大距离。</p>\n<p>即使看起来很简单，但是看看这个 ASCII 游戏视觉上的表现也是很神奇的。你可以从训练模式开始，然后进入世界杯比赛。你还可以选择你的竞争对手以及你想要开始游戏的山丘。</p>\n<h5 id=\"toc_21\">如何安装？</h5>\n<p>只需按照以下命令安装它：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e712936930054104\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt install asciijump</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e712936930054104-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e712936930054104-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">asciijump</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h4 id=\"toc_22\">11、Bastet</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/9d00a40f1cd9af89e8cba086d05583f3.jpg\" alt=\"Bastet is tetris game in ascii form\"></p>\n<p>不要被这个名字误导，它实际上是俄罗斯方块游戏的一个有趣的克隆。</p>\n<p>你不要觉得它只是另一个普通的俄罗斯方块游戏，它会为你丢下最糟糕的砖块。祝你玩得开心！</p>\n<h5 id=\"toc_23\">如何安装？</h5>\n<p>打开终端并键入如下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e712939748170193\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt install bastet</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e712939748170193-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e712939748170193-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">bastet</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h4 id=\"toc_24\">12、Bombardier</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/2dae16a5beb7c38b52a39cbd16aadbf3.jpg\" alt=\"Bomabrdier game in ascii form\"></p>\n<p>Bombardier 是另一个简单的 ASCII 游戏，它会让你迷上它。</p>\n<p>在这里，你有一架直升机（或许你想称之为飞机），每一圈它都会降低，你需要投掷炸弹才能摧毁你下面的街区/建筑物。当你摧毁一个街区时，游戏还会在它显示的消息里面添加一些幽默。很好玩。</p>\n<h5 id=\"toc_25\">如何安装？</h5>\n<p>Bombardier 可以在官方软件库中找到，所以只需在终端中键入以下内容即可安装它：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e71293d032330913\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt install bombardier</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e71293d032330913-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e71293d032330913-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">bombardier</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h4 id=\"toc_26\">13、Angband</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/6a68f09a37ada12f4bc72d14555db737.jpg\" alt=\"Angband ascii game\"></p>\n<p>一个很酷的地下城探索游戏，界面整洁。在探索该游戏时，你可以在一个屏幕上看到所有重要信息。</p>\n<p>它包含不同种类的种族可供选择角色。你可以是精灵、霍比特人、矮人或其他什么，有十几种可供选择。请记住，你需要在最后击败黑暗之王，所以尽可能升级你的武器并做好准备。</p>\n<h5 id=\"toc_27\">如何安装？</h5>\n<p>直接键入如下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e712940527922388\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt install angband</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e712940527922388-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e712940527922388-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">angband</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h4 id=\"toc_28\">14、GNU 国际象棋</h4>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2019/02/0785046774fb59fc65ab5b7092c49b9f.jpg\" alt=\"GNU Chess is a chess game that you can play in Linux terminal\"></p>\n<p>为什么不下盘棋呢？这是我最喜欢的策略游戏了！</p>\n<p>但是，除非你知道如何使用代表的符号来描述下一步行动，否则 GNU 国际象棋可能很难玩。当然，作为一个 ASCII 游戏，它不太好交互，所以它会要求你记录你的移动并显示输出（当它等待计算机思考它的下一步行动时）。</p>\n<h5 id=\"toc_29\">如何安装？</h5>\n<p>如果你了解国际象棋的代表符号，请输入以下命令从终端安装它：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e712944476270497\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt install gnuchess</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e712944476270497-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e712944476270497-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">gnuchess</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h4 id=\"toc_30\">一些荣誉奖</h4>\n<p>正如我之前提到的，我们试图向你推荐最好的（也是最容易在 Linux 机器上安装的那些） ASCII 游戏。</p>\n<p>然而，有一些标志性的 ASCII 游戏值得关注，它们需要更多的安装工作（你可以获得源代码，但需要构建它/安装它）。</p>\n<p>其中一些游戏是：</p>\n<ul>\n<li><a href=\"https://github.com/CleverRaven/Cataclysm-DDA\">Cataclysm: Dark Days Ahead</a></li>\n<li><a href=\"https://sites.google.com/site/broguegame/\">Brogue</a></li>\n<li><a href=\"http://www.bay12games.com/dwarves/index.html\">Dwarf Fortress</a></li>\n</ul>\n<p>你可以按照我们的 <a href=\"https://linux.cn/article-9172-1.html\">从源代码安装软件的完全指南</a> 来进行。</p>\n<h3 id=\"toc_31\">总结</h3>\n<p>我们提到的哪些 ASCII 游戏适合你？我们错过了你最喜欢的吗？</p>\n<p>请在下面的评论中告诉我们你的想法。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114663\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114663votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114663\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/ca2f485a9d366cd32061e997af19547b9f521cfa.jpg"}{"url_object_id": "d924139977c8322137adab9e98b3d667", "title": "一份来自 StackOverflow 的最佳 Python 装饰器教程", "url": "http://blog.jobbole.com/114694/", "create_date": "2019/04/21", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2012/02/python-logo.png"], "praise_nums": "1", "fav_nums": "2", "comment": "2", "tags": "IT技术,Python", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q3057027161\">可乐</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://gist.github.com/Zearin/2f40b7b9cfc51132851a\">Zearin</a>。欢迎加入<a target=\"_blank\" href=\"https://github.com/jobbole/translation-project\">翻译组</a>。</div><p><em><strong>注意：</strong> 这是一篇 StackOverflow 上的问题回答，因为这个回答很棒，所以我把它存档了</em></p>\n<hr>\n<h1>问: 怎样在 Python 中连续使用多个函数装饰器？</h1>\n<hr>\n<p>如果你不想看详细的解释，你可以看 <a href=\"http://stackoverflow.com/questions/739654/understanding-python-decorators#answer-739665\">Paolo Bergantino 的回答</a></p>\n<h1>装饰器基础</h1>\n<h2>Python 的装饰器都是对象</h2>\n<p>为了理解装饰器，你首先必须知道 Python 中的函数都是 object 对象。 这非常重要。让我们通过一个例子来看看原因。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fb73516853820\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef shout(word='yes'):\r\n    return word.capitalize() + '!'\r\n\r\nprint shout()\r\n# outputs : 'Yes!'\r\n\r\n# 作为一个 object 对象，你可以把一个函数分配给一个变量，就像是\r\n# 其他 object 对象一样\r\n\r\nscream = shout\r\n\r\n\r\n# 请注意我们并没有使用括号：因此我们没有调用函数，我们只是把函数 `shout` 赋值给变量 `scream`\r\n# 这意味着我们可以通过 `scream` 调用 `shout` 函数\r\n\r\nprint scream()\r\n# outputs : 'Yes!'\r\n\r\n\r\n# 除了这些，这还意味着你可以移除旧的函数名 `shout`,\r\n# 之后依然可以通过 `scream` 访问函数\r\n\r\ndel shout\r\ntry:\r\n    print shout()\r\nexcept NameError as e:\r\n    print e\r\n    #outputs: \"name 'shout' is not defined\"\r\n\r\nprint scream()\r\n# outputs: 'Yes!'</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb73516853820-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb73516853820-31\">31</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">shout</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">word</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'yes'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">word</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">capitalize</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'!'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-4\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">shout</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-5\"><span class=\"crayon-c\"># outputs : 'Yes!'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-6\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-7\"><span class=\"crayon-c\"># 作为一个 object 对象，你可以把一个函数分配给一个变量，就像是</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-8\"><span class=\"crayon-c\"># 其他 object 对象一样</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-10\"><span class=\"crayon-v\">scream</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">shout</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-11\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-12\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-13\"><span class=\"crayon-c\"># 请注意我们并没有使用括号：因此我们没有调用函数，我们只是把函数 `shout` 赋值给变量 `scream`</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-14\"><span class=\"crayon-c\"># 这意味着我们可以通过 `scream` 调用 `shout` 函数</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-15\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-16\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">scream</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-17\"><span class=\"crayon-c\"># outputs : 'Yes!'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-18\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-19\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-20\"><span class=\"crayon-c\"># 除了这些，这还意味着你可以移除旧的函数名 `shout`,</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-21\"><span class=\"crayon-c\"># 之后依然可以通过 `scream` 访问函数</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-22\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-23\"><span class=\"crayon-r\">del</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">shout</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-24\"><span class=\"crayon-st\">try</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-25\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">shout</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-26\"><span class=\"crayon-st\">except</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">NameError</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">e</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-27\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">e</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-28\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">#outputs: \"name 'shout' is not defined\"</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-29\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb73516853820-30\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">scream</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb73516853820-31\"><span class=\"crayon-c\"># outputs: 'Yes!'</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0025 seconds] -->\r\n<p>记住上面的内容，一会我们还会用得到。</p>\n<p>Python 函数另一个有趣的性质在于它们可以。。。在另一个函数内部定义！</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fb7e500160584\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef talk():\r\n    # 你可以在 `talk` 函数临时定义一个函数\r\n    def whisper(word='yes'):\r\n        return word.lower() + '...'\r\n\r\n    # ... 之后直接使用这个函数\r\n\r\n    print whisper()\r\n\r\n\r\n# 你可以调用 `talk` 函数，每次调用这个函数都会定义 `whisper` 函数，并且\r\n# 在 `talk` 函数中调用 `whisper` 函数\r\n\r\ntalk()\r\n# outputs: \r\n# \"yes...\"\r\n\r\n# 但是 `whisper` 函数在 `talk` 函数外部并不存在： \r\n\r\ntry:\r\n    print whisper()\r\nexcept NameError as e:\r\n    print e\r\n    #outputs : \"name 'whisper' is not defined\"*\r\n    #Python's functions are objects</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb7e500160584-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb7e500160584-25\">25</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">talk</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 你可以在 `talk` 函数临时定义一个函数</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">whisper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">word</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'yes'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">word</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">lower</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'...'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># ... 之后直接使用这个函数</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">whisper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-10\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-11\"><span class=\"crayon-c\"># 你可以调用 `talk` 函数，每次调用这个函数都会定义 `whisper` 函数，并且</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-12\"><span class=\"crayon-c\"># 在 `talk` 函数中调用 `whisper` 函数</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-13\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-14\"><span class=\"crayon-e\">talk</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-15\"><span class=\"crayon-c\"># outputs: </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-16\"><span class=\"crayon-c\"># \"yes...\"</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-17\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-18\"><span class=\"crayon-c\"># 但是 `whisper` 函数在 `talk` 函数外部并不存在： </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-19\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-20\"><span class=\"crayon-st\">try</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-21\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">whisper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-22\"><span class=\"crayon-st\">except</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">NameError</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">e</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-23\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">e</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb7e500160584-24\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">#outputs : \"name 'whisper' is not defined\"*</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb7e500160584-25\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">#Python's functions are objects</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0021 seconds] -->\r\n<p></p>\n<h2>函数引用</h2>\n<p>现在是比较有趣的部分。。。</p>\n<p>你已经知道了函数是 object 对象。此外，函数还：</p>\n<ul>\n<li>可以像变量一样赋值</li>\n<li>可以在另一个函数内部定义</li>\n</ul>\n<p>这表示 <strong>函数可以 <code>return</code> 另一个函数</strong>。看下面吧！☺</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fb83407188138\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef getTalk(kind='shout'):\r\n\r\n    # 我们临时定义一个函数\r\n    def shout(word='yes'):\r\n        return word.capitalize() + '!'\r\n\r\n    def whisper(word='yes'):\r\n        return word.lower() + '...'\r\n\r\n    # 然后我们返回上面两个函数中的一个\r\n    if kind == 'shout':\r\n        # 我们并没有使用 '()' 。因此我们并没有调用函数； \r\n        # 相反，我们返回了函数对象  \r\n        return shout  \r\n    else:\r\n        return whisper\r\n\r\n\r\n# 你该怎样使用这个奇怪的功能呢？  \r\n\r\n\r\n# 调用这个函数，然后把结果赋值给一个变量 \r\ntalk = getTalk()      \r\n\r\n# 你可以看到 `talk` 是一个函数对象：  \r\nprint talk\r\n#outputs : &lt;function shout at 0xb7ea817c&gt;\r\n\r\n# The object is the one returned by the function:  \r\n# 这个对象是由一个函数返回的\r\nprint talk()\r\n#outputs : Yes!\r\n\r\n\r\n# 如果你觉得奇怪的话，你甚至可以直接使用它\r\nprint getTalk('whisper')()\r\n#outputs : yes...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb83407188138-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb83407188138-37\">37</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">getTalk</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">kind</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'shout'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 我们临时定义一个函数</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">shout</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">word</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'yes'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">word</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">capitalize</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'!'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-6\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">whisper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">word</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'yes'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-8\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">word</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">lower</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'...'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 然后我们返回上面两个函数中的一个</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kind</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'shout'</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-12\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 我们并没有使用 '()' 。因此我们并没有调用函数； </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 相反，我们返回了函数对象  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-14\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">shout  </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-15\"><span class=\"crayon-e\">    </span><span class=\"crayon-st\">else</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-16\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">whisper</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-17\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-18\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-19\"><span class=\"crayon-c\"># 你该怎样使用这个奇怪的功能呢？  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-20\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-21\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-22\"><span class=\"crayon-c\"># 调用这个函数，然后把结果赋值给一个变量 </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-23\"><span class=\"crayon-v\">talk</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">getTalk</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">      </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-24\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-25\"><span class=\"crayon-c\"># 你可以看到 `talk` 是一个函数对象：  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-26\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">talk</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-27\"><span class=\"crayon-c\">#outputs : &lt;function shout at 0xb7ea817c&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-28\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-29\"><span class=\"crayon-c\"># The object is the one returned by the function:  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-30\"><span class=\"crayon-c\"># 这个对象是由一个函数返回的</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-31\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">talk</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-32\"><span class=\"crayon-c\">#outputs : Yes!</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-33\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-34\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-35\"><span class=\"crayon-c\"># 如果你觉得奇怪的话，你甚至可以直接使用它</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb83407188138-36\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">getTalk</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'whisper'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb83407188138-37\"><span class=\"crayon-c\">#outputs : yes...</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0031 seconds] -->\r\n<p>但等等…还有一些内容！</p>\n<p>如果你可以 <code>return</code> 一个函数，那么你也可以把函数当作参数传递：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fb87167934186\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef doSomethingBefore(func): \r\n    print 'I do something before then I call the function you gave me'\r\n    print func()\r\n\r\ndoSomethingBefore(scream)\r\n#outputs: \r\n#I do something before then I call the function you gave me  \r\n#Yes!</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb87167934186-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb87167934186-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb87167934186-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb87167934186-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb87167934186-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb87167934186-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb87167934186-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb87167934186-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb87167934186-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">doSomethingBefore</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb87167934186-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I do something before then I call the function you gave me'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb87167934186-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb87167934186-4\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb87167934186-5\"><span class=\"crayon-e\">doSomethingBefore</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">scream</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb87167934186-6\"><span class=\"crayon-c\">#outputs: </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb87167934186-7\"><span class=\"crayon-c\">#I do something before then I call the function you gave me  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb87167934186-8\"><span class=\"crayon-c\">#Yes!</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>好，你已经掌握了装饰器所需的全部知识。正如你所见，装饰器是“包装器”，也就是说 <strong>它们允许你在它们装饰的函数的前面和后面运行其他代码</strong> ，而不必修改函数本身。</p>\n<h2>动手制作装饰器</h2>\n<p>你应该怎样动手制作：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fb8b515983828\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# 装饰器是把其他函数作为参数的函数\r\ndef my_shiny_new_decorator(a_function_to_decorate):\r\n\r\n    # 在装饰器内部，装饰器临时创建了一个函数： 包装器。\r\n    # 这个函数把原来的函数包装起来\r\n    # 因此它可以在原函数的前面和后面执行其他代码。  \r\n    def the_wrapper_around_the_original_function():\r\n        # 把你想在原函数被调用前执行的代码写在这里\r\n        print 'Before the function runs'\r\n\r\n        # 在这里调用原函数（使用括号）\r\n        a_function_to_decorate()\r\n\r\n        # 把你想在原函数调用后执行的代码写在这里\r\n        print 'After the function runs'\r\n\r\n    # 到目前为止，`a_function_to_decorate` 还从未执行过。\r\n    # 我们返回刚刚创建的包装器\r\n    # 包装器中包含了原函数和在原函数之前/之后执行的代码。现在已经可以使用了！  \r\n    return the_wrapper_around_the_original_function\r\n\r\n# 现在想象一下你创建了一个函数，你不想再改动它了。   \r\ndef a_stand_alone_function():\r\n    print 'I am a stand alone function, don’t you dare modify me'\r\n\r\na_stand_alone_function() \r\n#outputs: I am a stand alone function, don't you dare modify me  \r\n\r\n# 好的，你可以装饰这个函数来扩展它的功能\r\n# 只需要把它传递给装饰器，之后就会动态地包装在你需要的任何代码中，然后返回一个满足你需求的新函数：   \r\n\r\na_stand_alone_function_decorated = my_shiny_new_decorator(a_stand_alone_function)\r\na_stand_alone_function_decorated()\r\n#outputs:\r\n#Before the function runs\r\n#I am a stand alone function, don't you dare modify me\r\n#After the function runs</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8b515983828-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8b515983828-37\">37</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-1\"><span class=\"crayon-c\"># 装饰器是把其他函数作为参数的函数</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-2\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">my_shiny_new_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a_function_to_decorate</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 在装饰器内部，装饰器临时创建了一个函数： 包装器。</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 这个函数把原来的函数包装起来</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 因此它可以在原函数的前面和后面执行其他代码。  </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the_wrapper_around_the_original_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-8\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 把你想在原函数被调用前执行的代码写在这里</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Before the function runs'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-10\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-11\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 在这里调用原函数（使用括号）</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-12\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">a_function_to_decorate</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-13\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-14\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 把你想在原函数调用后执行的代码写在这里</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-15\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'After the function runs'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-16\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-17\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 到目前为止，`a_function_to_decorate` 还从未执行过。</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-18\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 我们返回刚刚创建的包装器</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-19\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 包装器中包含了原函数和在原函数之前/之后执行的代码。现在已经可以使用了！  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-20\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">the_wrapper_around_the_original_function</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-21\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-22\"><span class=\"crayon-c\"># 现在想象一下你创建了一个函数，你不想再改动它了。   </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-23\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">a_stand_alone_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-24\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I am a stand alone function, don’t you dare modify me'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-25\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-26\"><span class=\"crayon-e\">a_stand_alone_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-27\"><span class=\"crayon-c\">#outputs: I am a stand alone function, don't you dare modify me  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-28\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-29\"><span class=\"crayon-c\"># 好的，你可以装饰这个函数来扩展它的功能</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-30\"><span class=\"crayon-c\"># 只需要把它传递给装饰器，之后就会动态地包装在你需要的任何代码中，然后返回一个满足你需求的新函数：   </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-31\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-32\"><span class=\"crayon-v\">a_stand_alone_function_decorated</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">my_shiny_new_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a_stand_alone_function</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-33\"><span class=\"crayon-e\">a_stand_alone_function_decorated</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-34\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-35\"><span class=\"crayon-c\">#Before the function runs</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8b515983828-36\"><span class=\"crayon-c\">#I am a stand alone function, don't you dare modify me</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8b515983828-37\"><span class=\"crayon-c\">#After the function runs</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0026 seconds] -->\r\n<p>现在，你希望每次你调用 <code>a_stand_alone_function</code> 的时候，实际上 <code>a_stand_alone_function_decorated</code> 会被调用。也就是说，这只是用 <code>my_shiny_new_decorator</code> 返回的函数重写了 <code>a_stand_alone_function</code> 函数：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fb8f838356243\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\na_stand_alone_function = my_shiny_new_decorator(a_stand_alone_function)\r\na_stand_alone_function()\r\n#outputs:\r\n#Before the function runs\r\n#I am a stand alone function, don’t you dare modify me\r\n#After the function runs\r\n\r\n# 你猜怎样着？这实际上就是装饰器的原理！</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8f838356243-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8f838356243-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8f838356243-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8f838356243-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8f838356243-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8f838356243-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb8f838356243-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb8f838356243-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8f838356243-1\"><span class=\"crayon-v\">a_stand_alone_function</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">my_shiny_new_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a_stand_alone_function</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8f838356243-2\"><span class=\"crayon-e\">a_stand_alone_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8f838356243-3\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8f838356243-4\"><span class=\"crayon-c\">#Before the function runs</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8f838356243-5\"><span class=\"crayon-c\">#I am a stand alone function, don’t you dare modify me</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8f838356243-6\"><span class=\"crayon-c\">#After the function runs</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb8f838356243-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb8f838356243-8\"><span class=\"crayon-c\"># 你猜怎样着？这实际上就是装饰器的原理！</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<h2>装饰器解密</h2>\n<p>和前面相同的例子，但是使用了装饰器语法：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fb93048723210\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@my_shiny_new_decorator\r\ndef another_stand_alone_function():\r\n    print 'Leave me alone'\r\n\r\nanother_stand_alone_function()  \r\n#outputs:  \r\n#Before the function runs\r\n#Leave me alone\r\n#After the function runs</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb93048723210-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb93048723210-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb93048723210-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb93048723210-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb93048723210-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb93048723210-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb93048723210-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb93048723210-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb93048723210-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb93048723210-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">my_shiny_new_decorator</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb93048723210-2\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">another_stand_alone_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb93048723210-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Leave me alone'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb93048723210-4\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb93048723210-5\"><span class=\"crayon-e\">another_stand_alone_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb93048723210-6\"><span class=\"crayon-c\">#outputs:  </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb93048723210-7\"><span class=\"crayon-c\">#Before the function runs</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb93048723210-8\"><span class=\"crayon-c\">#Leave me alone</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb93048723210-9\"><span class=\"crayon-c\">#After the function runs</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>就是这样，装饰器就是这么简单。 <code>@decorator</code> 只是下面形式的简写：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fb96774504910\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nanother_stand_alone_function = my_shiny_new_decorator(another_stand_alone_function)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb96774504910-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb96774504910-1\"><span class=\"crayon-v\">another_stand_alone_function</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">my_shiny_new_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">another_stand_alone_function</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>装饰器只是一个 pythonic 的<a href=\"http://en.wikipedia.org/wiki/Decorator_pattern\">装饰器设计模式</a>的变种。Python 中内置了许多种传统的设计模式来简化开发过程（例如迭代器）。</p>\n<p>当然，你可以叠加多个装饰器：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fb9a480703567\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef bread(func):\r\n    def wrapper():\r\n        print \"&lt;/''''''\\&gt;\"\r\n        func()\r\n        print \"&lt;\\______/&gt;\"\r\n    return wrapper\r\n\r\ndef ingredients(func):\r\n    def wrapper():\r\n        print '#tomatoes#'\r\n        func()\r\n        print '~salad~'\r\n    return wrapper\r\n\r\ndef sandwich(food='--ham--'):\r\n    print food\r\n\r\nsandwich()\r\n#outputs: --ham--\r\nsandwich = bread(ingredients(sandwich))\r\nsandwich()\r\n#outputs:\r\n#&lt;/''''''\\&gt;\r\n# #tomatoes#\r\n# --ham--\r\n# ~salad~\r\n#&lt;\\______/&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9a480703567-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9a480703567-27\">27</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">bread</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"&lt;/''''''\\&gt;\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"&lt;\\______/&gt;\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-8\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ingredients</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'#tomatoes#'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-11\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-12\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'~salad~'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-14\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-15\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sandwich</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">food</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'--ham--'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-16\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">food</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-17\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-18\"><span class=\"crayon-e\">sandwich</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-19\"><span class=\"crayon-c\">#outputs: --ham--</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-20\"><span class=\"crayon-v\">sandwich</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">bread</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">ingredients</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sandwich</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-21\"><span class=\"crayon-e\">sandwich</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-22\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-23\"><span class=\"crayon-c\">#&lt;/''''''\\&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-24\"><span class=\"crayon-c\"># #tomatoes#</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-25\"><span class=\"crayon-c\"># --ham--</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9a480703567-26\"><span class=\"crayon-c\"># ~salad~</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9a480703567-27\"><span class=\"crayon-c\">#&lt;\\______/&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0026 seconds] -->\r\n<p>使用 Python 的装饰器语法：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fb9d956062921\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&lt;a href=\"http://www.jobbole.com/members/bread\"&gt;@bread&lt;/a&gt;\r\n@ingredients\r\ndef sandwich(food='--ham--'):\r\n    print food\r\n\r\nsandwich()\r\n#outputs:\r\n#&lt;/''''''\\&gt;\r\n# #tomatoes#\r\n# --ham--\r\n# ~salad~\r\n#&lt;\\______/&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9d956062921-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9d956062921-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9d956062921-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9d956062921-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9d956062921-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9d956062921-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9d956062921-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9d956062921-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9d956062921-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9d956062921-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fb9d956062921-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fb9d956062921-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9d956062921-1\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">href</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"http://www.jobbole.com/members/bread\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">bread</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9d956062921-2\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">ingredients</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9d956062921-3\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sandwich</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">food</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'--ham--'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9d956062921-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">food</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9d956062921-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9d956062921-6\"><span class=\"crayon-e\">sandwich</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9d956062921-7\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9d956062921-8\"><span class=\"crayon-c\">#&lt;/''''''\\&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9d956062921-9\"><span class=\"crayon-c\"># #tomatoes#</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9d956062921-10\"><span class=\"crayon-c\"># --ham--</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fb9d956062921-11\"><span class=\"crayon-c\"># ~salad~</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fb9d956062921-12\"><span class=\"crayon-c\">#&lt;\\______/&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>你设置装饰器的顺序很重要：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fba0568452119\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@ingredients\r\n&lt;a href=\"http://www.jobbole.com/members/bread\"&gt;@bread&lt;/a&gt;\r\ndef strange_sandwich(food='--ham--'):\r\n    print food\r\n\r\nstrange_sandwich()\r\n#outputs:\r\n##tomatoes#\r\n#&lt;/''''''\\&gt;\r\n# --ham--\r\n#&lt;\\______/&gt;\r\n# ~salad~</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba0568452119-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba0568452119-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba0568452119-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba0568452119-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba0568452119-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba0568452119-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba0568452119-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba0568452119-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba0568452119-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba0568452119-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba0568452119-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba0568452119-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba0568452119-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">ingredients</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba0568452119-2\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">href</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"http://www.jobbole.com/members/bread\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">bread</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba0568452119-3\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">strange_sandwich</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">food</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'--ham--'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba0568452119-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">food</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba0568452119-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba0568452119-6\"><span class=\"crayon-e\">strange_sandwich</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba0568452119-7\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba0568452119-8\"><span class=\"crayon-c\">##tomatoes#</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba0568452119-9\"><span class=\"crayon-c\">#&lt;/''''''\\&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba0568452119-10\"><span class=\"crayon-c\"># --ham--</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba0568452119-11\"><span class=\"crayon-c\">#&lt;\\______/&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba0568452119-12\"><span class=\"crayon-c\"># ~salad~</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p></p>\n<hr>\n<h1>现在：是时候回答问题了。。。</h1>\n<p>现在你很容易就知道怎样回答这个问题了：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fba4864064138\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# 生成粗体(bold)的装饰器\r\ndef makebold(fn):\r\n\r\n    # 装饰器返回的新函数\r\n    def wrapper():\r\n        # 在之前和之后插入其他代码\r\n        return '&lt;b&gt;' + fn() + '&lt;/b&gt;'\r\n    return wrapper\r\n\r\n# 生成斜体的装饰器\r\ndef makeitalic(fn):\r\n    # 装饰器返回的新函数\r\n    def wrapper():\r\n        # 在函数执行前后插入一些代码\r\n        return '&lt;i&gt;' + fn() + '&lt;/i&gt;'\r\n    return wrapper\r\n\r\n@makebold\r\n@makeitalic\r\ndef say():\r\n    return 'hello'\r\n\r\nprint say() \r\n#outputs: &lt;b&gt;&lt;i&gt;hello&lt;/i&gt;&lt;/b&gt;\r\n\r\n\r\n# 和上面完全等价的形式\r\ndef say():\r\n    return 'hello'\r\nsay = makebold(makeitalic(say))\r\n\r\nprint say() \r\n#outputs: &lt;b&gt;&lt;i&gt;hello&lt;/i&gt;&lt;/b&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba4864064138-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba4864064138-33\">33</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-1\"><span class=\"crayon-c\"># 生成粗体(bold)的装饰器</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-2\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">makebold</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fn</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 装饰器返回的新函数</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 在之前和之后插入其他代码</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'&lt;b&gt;'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">fn</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'&lt;/b&gt;'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wrapper</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-10\"><span class=\"crayon-c\"># 生成斜体的装饰器</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-11\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">makeitalic</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fn</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 装饰器返回的新函数</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-14\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 在函数执行前后插入一些代码</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-15\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'&lt;i&gt;'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">fn</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'&lt;/i&gt;'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-16\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">wrapper</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-17\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-18\"><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">makebold</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-19\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">makeitalic</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-20\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">say</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-21\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'hello'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-22\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-23\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">say</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-24\"><span class=\"crayon-c\">#outputs: &lt;b&gt;&lt;i&gt;hello&lt;/i&gt;&lt;/b&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-25\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-26\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-27\"><span class=\"crayon-c\"># 和上面完全等价的形式</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-28\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">say</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-29\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'hello'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-30\"><span class=\"crayon-v\">say</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">makebold</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">makeitalic</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">say</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-31\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba4864064138-32\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">say</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba4864064138-33\"><span class=\"crayon-c\">#outputs: &lt;b&gt;&lt;i&gt;hello&lt;/i&gt;&lt;/b&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0034 seconds] -->\r\n<p>现在你该放下轻松的心态，好好看看装饰器的高级使用方法了。</p>\n<hr>\n<h1>把装饰器传到下一层去</h1>\n<h2>把参数传递给被装饰的函数</h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fba7146474858\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# 这并不是黑魔法，你只是让包装器传递参数而已\r\n\r\ndef a_decorator_passing_arguments(function_to_decorate):\r\n    def a_wrapper_accepting_arguments(arg1, arg2):\r\n        print 'I got args! Look:', arg1, arg2\r\n        function_to_decorate(arg1, arg2)\r\n    return a_wrapper_accepting_arguments\r\n\r\n\r\n# 因为当你调用装饰器返回的函数时，实际上你在调用包装器，把参数传递给包装器，这也就完成了把参数传递给装饰器函数\r\n@a_decorator_passing_arguments\r\ndef print_full_name(first_name, last_name):\r\n    print 'My name is', first_name, last_name\r\n\r\nprint_full_name('Peter', 'Venkman')\r\n# outputs:\r\n#I got args! Look: Peter Venkman\r\n#My name is Peter Venkman</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba7146474858-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba7146474858-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba7146474858-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba7146474858-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba7146474858-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba7146474858-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba7146474858-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba7146474858-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba7146474858-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba7146474858-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba7146474858-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba7146474858-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba7146474858-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba7146474858-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba7146474858-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba7146474858-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fba7146474858-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fba7146474858-18\">18</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba7146474858-1\"><span class=\"crayon-c\"># 这并不是黑魔法，你只是让包装器传递参数而已</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba7146474858-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba7146474858-3\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">a_decorator_passing_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">function_to_decorate</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba7146474858-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">a_wrapper_accepting_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">arg2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba7146474858-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I got args! Look:'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">arg2</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba7146474858-6\"><span class=\"crayon-e\">        </span><span class=\"crayon-e\">function_to_decorate</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">arg2</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba7146474858-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a_wrapper_accepting_arguments</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba7146474858-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba7146474858-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba7146474858-10\"><span class=\"crayon-c\"># 因为当你调用装饰器返回的函数时，实际上你在调用包装器，把参数传递给包装器，这也就完成了把参数传递给装饰器函数</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba7146474858-11\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">a_decorator_passing_arguments</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba7146474858-12\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">print_full_name</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">first_name</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">last_name</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba7146474858-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'My name is'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">first_name</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">last_name</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba7146474858-14\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba7146474858-15\"><span class=\"crayon-e\">print_full_name</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'Peter'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Venkman'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba7146474858-16\"><span class=\"crayon-c\"># outputs:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fba7146474858-17\"><span class=\"crayon-c\">#I got args! Look: Peter Venkman</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fba7146474858-18\"><span class=\"crayon-c\">#My name is Peter Venkman</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0023 seconds] -->\r\n<p></p>\n<h2>装饰器方法</h2>\n<p>关于 Python 的一个优点就是方法和函数本质本质上是一样的。二者唯一的区别就是方法的第一个参数是对当前对象的引用 (<code>self</code>)。</p>\n<p>这意味着你可以按照同样的方式为方法创建装饰器！只要记得考虑 <code>self</code> 就可以了：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbab959304349\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef method_friendly_decorator(method_to_decorate):\r\n    def wrapper(self, lie):\r\n        lie = lie - 3 # very friendly, decrease age even more :-)  \r\n        return method_to_decorate(self, lie)\r\n    return wrapper\r\n\r\n\r\nclass Lucy(object):\r\n    def __init__(self):\r\n        self.age = 32\r\n\r\n    @method_friendly_decorator\r\n    def sayYourAge(self, lie):\r\n        print 'I am {0}, what did you think?'.format(self.age + lie)\r\n\r\nl = Lucy()\r\nl.sayYourAge(-3)\r\n#outputs: I am 26, what did you think?</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbab959304349-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbab959304349-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbab959304349-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbab959304349-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbab959304349-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbab959304349-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbab959304349-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbab959304349-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbab959304349-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbab959304349-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbab959304349-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbab959304349-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbab959304349-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbab959304349-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbab959304349-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbab959304349-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbab959304349-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbab959304349-18\">18</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbab959304349-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">method_friendly_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">method_to_decorate</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbab959304349-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lie</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbab959304349-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">lie</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lie</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\"># very friendly, decrease age even more :-)  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbab959304349-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">method_to_decorate</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lie</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbab959304349-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbab959304349-6\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbab959304349-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbab959304349-8\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Lucy</span><span class=\"crayon-sy\">(</span><span class=\"crayon-k \">object</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbab959304349-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">__init__</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbab959304349-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">age</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">32</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbab959304349-11\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbab959304349-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">method_friendly_decorator</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbab959304349-13\"><span class=\"crayon-e\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sayYourAge</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lie</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbab959304349-14\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I am {0}, what did you think?'</span><span class=\"crayon-sy\">.</span><span class=\"crayon-k \">format</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">age</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lie</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbab959304349-15\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbab959304349-16\"><span class=\"crayon-v\">l</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Lucy</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbab959304349-17\"><span class=\"crayon-v\">l</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sayYourAge</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbab959304349-18\"><span class=\"crayon-c\">#outputs: I am 26, what did you think?</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0032 seconds] -->\r\n<p>如果你在创建通用的装饰器 — 一个适用于任何函数或者方法的装饰器，无论参数是什么 — 那么只要使用 <code>*args, **kwargs</code>就可以了:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbae006739832\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef a_decorator_passing_arbitrary_arguments(function_to_decorate):\r\n\r\n    # 包装器接受任何参数\r\n    def a_wrapper_accepting_arbitrary_arguments(*args, **kwargs):\r\n        print 'Do I have args?:'\r\n        print args\r\n        print kwargs\r\n\r\n        # 接下来解包参数，也就是这里的 *args, **kwargs\r\n        # 如果你不熟悉解包，可以浏览这个：\r\n        # http://www.saltycrane.com/blog/2008/01/how-to-use-args-and-kwargs-in-python/\r\n        function_to_decorate(*args, **kwargs)\r\n    return a_wrapper_accepting_arbitrary_arguments\r\n\r\n@a_decorator_passing_arbitrary_arguments\r\ndef function_with_no_argument():\r\n    print 'Python is cool, no argument here.'\r\n\r\nfunction_with_no_argument()\r\n#outputs\r\n#Do I have args?:\r\n#()\r\n#{}\r\n#Python is cool, no argument here.\r\n\r\n@a_decorator_passing_arbitrary_arguments\r\ndef function_with_arguments(a, b, c):\r\n    print a, b, c\r\n\r\nfunction_with_arguments(1,2,3)\r\n#outputs\r\n#Do I have args?:\r\n#(1, 2, 3)\r\n#{}\r\n#1 2 3 \r\n\r\n@a_decorator_passing_arbitrary_arguments\r\ndef function_with_named_arguments(a, b, c, platypus='Why not ?'):\r\n    print 'Do {0}, {1} and {2} like platypus? {3}'.format(\r\n    a, b, c, platypus)\r\n\r\nfunction_with_named_arguments('Bill', 'Linus', 'Steve', platypus='Indeed!')\r\n#outputs\r\n#Do I have args ? :\r\n#('Bill', 'Linus', 'Steve')\r\n#{'platypus': 'Indeed!'}\r\n#Do Bill, Linus and Steve like platypus? Indeed!\r\n\r\n\r\nclass Mary(object):\r\n    def __init__(self):\r\n        self.age = 31\r\n\r\n    @a_decorator_passing_arbitrary_arguments\r\n    def sayYourAge(self, lie=-3): #你可以在这里添加默认值\r\n        print 'I am {0}, what did you think?'.format(self.age + lie)\r\n\r\nm = Mary()\r\nm.sayYourAge()\r\n#outputs\r\n# Do I have args?:\r\n#(&lt;__main__.Mary object at 0xb7d303ac&gt;,)\r\n#{}\r\n#I am 28, what did you think?</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-49\">49</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-51\">51</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-53\">53</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-55\">55</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-56\">56</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-57\">57</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-58\">58</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-59\">59</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-60\">60</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-61\">61</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-62\">62</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbae006739832-63\">63</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbae006739832-64\">64</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">a_decorator_passing_arbitrary_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">function_to_decorate</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 包装器接受任何参数</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">a_wrapper_accepting_arbitrary_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">kwargs</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Do I have args?:'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">args</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-7\"><span class=\"crayon-e\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kwargs</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 接下来解包参数，也就是这里的 *args, **kwargs</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 如果你不熟悉解包，可以浏览这个：</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-11\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># http://www.saltycrane.com/blog/2008/01/how-to-use-args-and-kwargs-in-python/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-12\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">function_to_decorate</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">kwargs</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a_wrapper_accepting_arbitrary</span><span class=\"crayon-sy\">_</span>arguments</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-14\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-15\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">a_decorator_passing_arbitrary_arguments</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-16\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">function_with_no_argument</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-17\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Python is cool, no argument here.'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-18\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-19\"><span class=\"crayon-e\">function_with_no_argument</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-20\"><span class=\"crayon-c\">#outputs</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-21\"><span class=\"crayon-c\">#Do I have args?:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-22\"><span class=\"crayon-c\">#()</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-23\"><span class=\"crayon-c\">#{}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-24\"><span class=\"crayon-c\">#Python is cool, no argument here.</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-25\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-26\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">a_decorator_passing_arbitrary_arguments</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-27\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">function_with_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-28\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">c</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-29\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-30\"><span class=\"crayon-e\">function_with_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-31\"><span class=\"crayon-c\">#outputs</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-32\"><span class=\"crayon-c\">#Do I have args?:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-33\"><span class=\"crayon-c\">#(1, 2, 3)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-34\"><span class=\"crayon-c\">#{}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-35\"><span class=\"crayon-c\">#1 2 3 </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-36\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-37\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">a_decorator_passing_arbitrary_arguments</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-38\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">function_with_named_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">platypus</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'Why not ?'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-39\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Do {0}, {1} and {2} like platypus? {3}'</span><span class=\"crayon-sy\">.</span><span class=\"crayon-k \">format</span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-40\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">platypus</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-41\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-42\"><span class=\"crayon-e\">function_with_named_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'Bill'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Linus'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Steve'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">platypus</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'Indeed!'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-43\"><span class=\"crayon-c\">#outputs</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-44\"><span class=\"crayon-c\">#Do I have args ? :</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-45\"><span class=\"crayon-c\">#('Bill', 'Linus', 'Steve')</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-46\"><span class=\"crayon-c\">#{'platypus': 'Indeed!'}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-47\"><span class=\"crayon-c\">#Do Bill, Linus and Steve like platypus? Indeed!</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-48\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-49\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-50\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Mary</span><span class=\"crayon-sy\">(</span><span class=\"crayon-k \">object</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-51\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">__init__</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-52\"><span class=\"crayon-h\">        </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">age</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">31</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-53\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-54\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">a_decorator_passing_arbitrary_arguments</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-55\"><span class=\"crayon-e\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sayYourAge</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lie</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">#你可以在这里添加默认值</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-56\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I am {0}, what did you think?'</span><span class=\"crayon-sy\">.</span><span class=\"crayon-k \">format</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">age</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lie</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-57\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-58\"><span class=\"crayon-v\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Mary</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-59\"><span class=\"crayon-v\">m</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sayYourAge</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-60\"><span class=\"crayon-c\">#outputs</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-61\"><span class=\"crayon-c\"># Do I have args?:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-62\"><span class=\"crayon-c\">#(&lt;__main__.Mary object at 0xb7d303ac&gt;,)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbae006739832-63\"><span class=\"crayon-c\">#{}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbae006739832-64\"><span class=\"crayon-c\">#I am 28, what did you think?</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0066 seconds] -->\r\n<p></p>\n<h2>把参数传递给装饰器</h2>\n<p>太棒了，现在你对于把参数传递给装饰器本身有什么看法呢？</p>\n<p>这可能有点奇怪，因为装饰器必须接收一个函数作为参数。因此，你可能无法直接把装饰器函数作为参数传递给另一个装饰器。</p>\n<p>在得到答案之前，让我们写一个小的例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbb3359933286\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# 装饰器是普通函数\r\ndef my_decorator(func):\r\n    print 'I am an ordinary function'\r\n    def wrapper():\r\n        print 'I am function returned by the decorator'\r\n        func()\r\n    return wrapper\r\n\r\n\r\n# 因此你可以在没有任何 '@' 的情况下调用它\r\n\r\ndef lazy_function():\r\n    print 'zzzzzzzz'\r\n\r\ndecorated_function = my_decorator(lazy_function)\r\n#outputs: I am an ordinary function  \r\n\r\n\r\n# 上面的函数输出 'I am an ordinary function' ,因为这实际上就是我们直接调用函数的结果。没什么好奇怪的。  \r\n\r\n@my_decorator\r\ndef lazy_function():\r\n    print 'zzzzzzzz'\r\n\r\n#outputs: I am an ordinary function</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb3359933286-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb3359933286-25\">25</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-1\"><span class=\"crayon-c\"># 装饰器是普通函数</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-2\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">my_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I am an ordinary function'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I am function returned by the decorator'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wrapper</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-10\"><span class=\"crayon-c\"># 因此你可以在没有任何 '@' 的情况下调用它</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-11\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-12\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">lazy_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'zzzzzzzz'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-14\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-15\"><span class=\"crayon-v\">decorated_function</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">my_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">lazy_function</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-16\"><span class=\"crayon-c\">#outputs: I am an ordinary function  </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-17\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-18\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-19\"><span class=\"crayon-c\"># 上面的函数输出 'I am an ordinary function' ,因为这实际上就是我们直接调用函数的结果。没什么好奇怪的。  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-20\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-21\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">my_decorator</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-22\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">lazy_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-23\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'zzzzzzzz'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb3359933286-24\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb3359933286-25\"><span class=\"crayon-c\">#outputs: I am an ordinary function</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0022 seconds] -->\r\n<p>结果是一模一样的：<code>my_decorator</code> 被调用了。因此当你使用 <code>@my_decorator</code> 时，Python 会调用 <em>“<code>my_decorator</code>” 变量所代表的函数</em>。</p>\n<p>这很重要！你提供的这个变量可以指向装饰器，<strong>也可以不指向</strong>。</p>\n<p>让我们增加点难度。 ☺</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbb7458595812\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef decorator_maker():\r\n\r\n    print 'I make decorators! I am executed only once: '+\\\r\n          'when you make me create a decorator.'\r\n\r\n    def my_decorator(func):\r\n\r\n        print 'I am a decorator! I am executed only when you decorate a function.'\r\n\r\n        def wrapped():\r\n            print ('I am the wrapper around the decorated function. '\r\n                  'I am called when you call the decorated function. '\r\n                  'As the wrapper, I return the RESULT of the decorated function.')\r\n            return func()\r\n\r\n        print 'As the decorator, I return the wrapped function.'\r\n\r\n        return wrapped\r\n\r\n    print 'As a decorator maker, I return a decorator'\r\n    return my_decorator\r\n\r\n\r\n# 让我们创建一个装饰器。本质上是一个新函数  \r\nnew_decorator = decorator_maker()       \r\n#outputs:\r\n#I make decorators! I am executed only once: when you make me create a decorator.\r\n#As a decorator maker, I return a decorator\r\n\r\n# 然后我们装饰下面这个函数\r\n\r\ndef decorated_function():\r\n    print 'I am the decorated function.'\r\n\r\ndecorated_function = new_decorator(decorated_function)\r\n#outputs:\r\n#I am a decorator! I am executed only when you decorate a function.\r\n#As the decorator, I return the wrapped function\r\n\r\n\r\n# 调用这个函数\r\ndecorated_function()\r\n#outputs:\r\n#I am the wrapper around the decorated function. I am called when you call the decorated function.\r\n#As the wrapper, I return the RESULT of the decorated function.\r\n#I am the decorated function.</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbb7458595812-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbb7458595812-46\">46</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorator_maker</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I make decorators! I am executed only once: '</span><span class=\"crayon-o\">+</span><span class=\"crayon-sy\">\\</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-4\"><span class=\"crayon-h\">          </span><span class=\"crayon-s\">'when you make me create a decorator.'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">my_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-8\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I am a decorator! I am executed only when you decorate a function.'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapped</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-11\"><span class=\"crayon-h\">            </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'I am the wrapper around the decorated function. '</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-12\"><span class=\"crayon-h\">                  </span><span class=\"crayon-s\">'I am called when you call the decorated function. '</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-13\"><span class=\"crayon-h\">                  </span><span class=\"crayon-s\">'As the wrapper, I return the RESULT of the decorated function.'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-14\"><span class=\"crayon-h\">            </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-15\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-16\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'As the decorator, I return the wrapped function.'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-17\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-18\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapped</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-19\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-20\"><span class=\"crayon-e\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'As a decorator maker, I return a decorator'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-21\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">my_decorator</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-22\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-23\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-24\"><span class=\"crayon-c\"># 让我们创建一个装饰器。本质上是一个新函数  </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-25\"><span class=\"crayon-v\">new_decorator</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorator_maker</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">       </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-26\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-27\"><span class=\"crayon-c\">#I make decorators! I am executed only once: when you make me create a decorator.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-28\"><span class=\"crayon-c\">#As a decorator maker, I return a decorator</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-29\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-30\"><span class=\"crayon-c\"># 然后我们装饰下面这个函数</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-31\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-32\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorated_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-33\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I am the decorated function.'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-34\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-35\"><span class=\"crayon-v\">decorated_function</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">new_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">decorated_function</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-36\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-37\"><span class=\"crayon-c\">#I am a decorator! I am executed only when you decorate a function.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-38\"><span class=\"crayon-c\">#As the decorator, I return the wrapped function</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-39\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-40\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-41\"><span class=\"crayon-c\"># 调用这个函数</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-42\"><span class=\"crayon-e\">decorated_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-43\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-44\"><span class=\"crayon-c\">#I am the wrapper around the decorated function. I am called when you call the decorated function.</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbb7458595812-45\"><span class=\"crayon-c\">#As the wrapper, I return the RESULT of the decorated function.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbb7458595812-46\"><span class=\"crayon-c\">#I am the decorated function.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0034 seconds] -->\r\n<p>没什么意料之外的事情发生。</p>\n<p>我们再做一次上面的事情，只不过这一次取消掉所有的中间变量：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbbb030002841\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef decorated_function():\r\n    print 'I am the decorated function.'\r\ndecorated_function = decorator_maker()(decorated_function)\r\n#outputs:\r\n#I make decorators! I am executed only once: when you make me create a decorator.\r\n#As a decorator maker, I return a decorator\r\n#I am a decorator! I am executed only when you decorate a function.\r\n#As the decorator, I return the wrapped function.\r\n\r\n# 最后：  \r\ndecorated_function()    \r\n#outputs:\r\n#I am the wrapper around the decorated function. I am called when you call the decorated function.\r\n#As the wrapper, I return the RESULT of the decorated function.\r\n#I am the decorated function.</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbb030002841-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbb030002841-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbb030002841-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbb030002841-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbb030002841-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbb030002841-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbb030002841-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbb030002841-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbb030002841-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbb030002841-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbb030002841-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbb030002841-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbb030002841-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbb030002841-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbb030002841-15\">15</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbb030002841-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorated_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbb030002841-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I am the decorated function.'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbb030002841-3\"><span class=\"crayon-v\">decorated_function</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorator_maker</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">decorated_function</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbb030002841-4\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbb030002841-5\"><span class=\"crayon-c\">#I make decorators! I am executed only once: when you make me create a decorator.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbb030002841-6\"><span class=\"crayon-c\">#As a decorator maker, I return a decorator</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbb030002841-7\"><span class=\"crayon-c\">#I am a decorator! I am executed only when you decorate a function.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbb030002841-8\"><span class=\"crayon-c\">#As the decorator, I return the wrapped function.</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbb030002841-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbb030002841-10\"><span class=\"crayon-c\"># 最后：  </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbb030002841-11\"><span class=\"crayon-e\">decorated_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">    </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbb030002841-12\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbb030002841-13\"><span class=\"crayon-c\">#I am the wrapper around the decorated function. I am called when you call the decorated function.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbb030002841-14\"><span class=\"crayon-c\">#As the wrapper, I return the RESULT of the decorated function.</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbb030002841-15\"><span class=\"crayon-c\">#I am the decorated function.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>让它<em>更短一下</em>：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbbf366833427\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@decorator_maker()\r\ndef decorated_function():\r\n    print 'I am the decorated function.'\r\n#outputs:\r\n#I make decorators! I am executed only once: when you make me create a decorator.\r\n#As a decorator maker, I return a decorator\r\n#I am a decorator! I am executed only when you decorate a function.\r\n#As the decorator, I return the wrapped function.\r\n\r\n\r\n#最后： \r\ndecorated_function()    \r\n#outputs:\r\n#I am the wrapper around the decorated function. I am called when you call the decorated function.\r\n#As the wrapper, I return the RESULT of the decorated function.\r\n#I am the decorated function.</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbf366833427-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbf366833427-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbf366833427-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbf366833427-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbf366833427-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbf366833427-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbf366833427-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbf366833427-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbf366833427-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbf366833427-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbf366833427-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbf366833427-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbf366833427-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbf366833427-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbbf366833427-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbbf366833427-16\">16</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbf366833427-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">decorator_maker</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbf366833427-2\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorated_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbf366833427-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I am the decorated function.'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbf366833427-4\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbf366833427-5\"><span class=\"crayon-c\">#I make decorators! I am executed only once: when you make me create a decorator.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbf366833427-6\"><span class=\"crayon-c\">#As a decorator maker, I return a decorator</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbf366833427-7\"><span class=\"crayon-c\">#I am a decorator! I am executed only when you decorate a function.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbf366833427-8\"><span class=\"crayon-c\">#As the decorator, I return the wrapped function.</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbf366833427-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbf366833427-10\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbf366833427-11\"><span class=\"crayon-c\">#最后： </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbf366833427-12\"><span class=\"crayon-e\">decorated_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">    </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbf366833427-13\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbf366833427-14\"><span class=\"crayon-c\">#I am the wrapper around the decorated function. I am called when you call the decorated function.</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbbf366833427-15\"><span class=\"crayon-c\">#As the wrapper, I return the RESULT of the decorated function.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbbf366833427-16\"><span class=\"crayon-c\">#I am the decorated function.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>你注意到了吗？我们调用了一个 <code>@</code> 语法的函数！ :-)</p>\n<p>所以，回到装饰器的参数上面来。如果我们可以使用函数生成一个临时的装饰器，我们也可以把参数传递给那个函数，对吗？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbc2675380195\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef decorator_maker_with_arguments(decorator_arg1, decorator_arg2):\r\n    print 'I make decorators! And I accept arguments:', decorator_arg1, decorator_arg2\r\n    def my_decorator(func):\r\n        # 传递参数的能力来自于闭包\r\n        # 如果你不了解闭包，那也没关系，\r\n        # 或者你也可以阅读 http://stackoverflow.com/questions/13857/can-you-explain-closures-as-they-relate-to-python  \r\n        print 'I am the decorator. Somehow you passed me arguments:', decorator_arg1, decorator_arg2\r\n\r\n        # 不要混淆装饰器参数和函数参数！  \r\n        def wrapped(function_arg1, function_arg2):\r\n            print ('I am the wrapper around the decorated function.\\n'\r\n                  'I can access all the variables\\n'\r\n                  '\\t- from the decorator: {0} {1}\\n'\r\n                  '\\t- from the function call: {2} {3}\\n'\r\n                  'Then I can pass them to the decorated function'\r\n                  .format(decorator_arg1, decorator_arg2,\r\n                          function_arg1, function_arg2))\r\n            return func(function_arg1, function_arg2)\r\n\r\n        return wrapped\r\n\r\n    return my_decorator\r\n\r\n@decorator_maker_with_arguments('Leonard', 'Sheldon')\r\ndef decorated_function_with_arguments(function_arg1, function_arg2):\r\n    print ('I am the decorated function and only knows about my arguments: {0}'\r\n           ' {1}'.format(function_arg1, function_arg2))\r\n\r\ndecorated_function_with_arguments('Rajesh', 'Howard')\r\n#outputs:\r\n#I make decorators! And I accept arguments: Leonard Sheldon\r\n#I am the decorator. Somehow you passed me arguments: Leonard Sheldon\r\n#I am the wrapper around the decorated function. \r\n#I can access all the variables \r\n#    - from the decorator: Leonard Sheldon \r\n#    - from the function call: Rajesh Howard \r\n#Then I can pass them to the decorated function\r\n#I am the decorated function and only knows about my arguments: Rajesh Howard</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc2675380195-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc2675380195-38\">38</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorator_maker_with_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">decorator_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">decorator_arg2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I make decorators! And I accept arguments:'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">decorator_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorator_arg2</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-3\"><span class=\"crayon-e\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">my_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 传递参数的能力来自于闭包</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 如果你不了解闭包，那也没关系，</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 或者你也可以阅读 http://stackoverflow.com/questions/13857/can-you-explain-closures-as-they-relate-to-python  </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I am the decorator. Somehow you passed me arguments:'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">decorator_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">decorator_arg2</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 不要混淆装饰器参数和函数参数！  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapped</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">function_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">function_arg2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-11\"><span class=\"crayon-h\">            </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'I am the wrapper around the decorated function.\\n'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-12\"><span class=\"crayon-h\">                  </span><span class=\"crayon-s\">'I can access all the variables\\n'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-13\"><span class=\"crayon-h\">                  </span><span class=\"crayon-s\">'\\t- from the decorator: {0} {1}\\n'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-14\"><span class=\"crayon-h\">                  </span><span class=\"crayon-s\">'\\t- from the function call: {2} {3}\\n'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-15\"><span class=\"crayon-h\">                  </span><span class=\"crayon-s\">'Then I can pass them to the decorated function'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-16\"><span class=\"crayon-h\">                  </span><span class=\"crayon-sy\">.</span><span class=\"crayon-k \">format</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">decorator_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">decorator_arg2</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-17\"><span class=\"crayon-h\">                          </span><span class=\"crayon-v\">function_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">function_arg2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-18\"><span class=\"crayon-h\">            </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">function_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">function_arg2</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-19\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-20\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapped</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-21\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-22\"><span class=\"crayon-e\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">my</span><span class=\"crayon-sy\">_</span>decorator</div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-23\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-24\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">decorator_maker_with_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'Leonard'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Sheldon'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-25\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorated_function_with_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">function_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">function_arg2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-26\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'I am the decorated function and only knows about my arguments: {0}'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-27\"><span class=\"crayon-h\">           </span><span class=\"crayon-s\">' {1}'</span><span class=\"crayon-sy\">.</span><span class=\"crayon-k \">format</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">function_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">function_arg2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-28\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-29\"><span class=\"crayon-e\">decorated_function_with_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'Rajesh'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Howard'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-30\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-31\"><span class=\"crayon-c\">#I make decorators! And I accept arguments: Leonard Sheldon</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-32\"><span class=\"crayon-c\">#I am the decorator. Somehow you passed me arguments: Leonard Sheldon</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-33\"><span class=\"crayon-c\">#I am the wrapper around the decorated function. </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-34\"><span class=\"crayon-c\">#I can access all the variables </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-35\"><span class=\"crayon-c\">#    - from the decorator: Leonard Sheldon </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-36\"><span class=\"crayon-c\">#    - from the function call: Rajesh Howard </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc2675380195-37\"><span class=\"crayon-c\">#Then I can pass them to the decorated function</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc2675380195-38\"><span class=\"crayon-c\">#I am the decorated function and only knows about my arguments: Rajesh Howard</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0046 seconds] -->\r\n<p>最后得到的就是：带参数的装饰器。参数可以设置为变量：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbc7282531454\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nc1 = 'Penny'\r\nc2 = 'Leslie'\r\n\r\n@decorator_maker_with_arguments('Leonard', c1)\r\ndef decorated_function_with_arguments(function_arg1, function_arg2):\r\n    print ('I am the decorated function and only knows about my arguments:'\r\n           ' {0} {1}'.format(function_arg1, function_arg2))\r\n\r\ndecorated_function_with_arguments(c2, 'Howard')\r\n#outputs:\r\n#I make decorators! And I accept arguments: Leonard Penny\r\n#I am the decorator. Somehow you passed me arguments: Leonard Penny\r\n#I am the wrapper around the decorated function. \r\n#I can access all the variables \r\n#    - from the decorator: Leonard Penny \r\n#    - from the function call: Leslie Howard \r\n#Then I can pass them to the decorated function\r\n#I am the decorated function and only knows about my arguments: Leslie Howard</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc7282531454-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc7282531454-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc7282531454-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc7282531454-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc7282531454-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc7282531454-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc7282531454-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc7282531454-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc7282531454-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc7282531454-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc7282531454-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc7282531454-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc7282531454-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc7282531454-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc7282531454-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc7282531454-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbc7282531454-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbc7282531454-18\">18</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc7282531454-1\"><span class=\"crayon-v\">c1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Penny'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc7282531454-2\"><span class=\"crayon-v\">c2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Leslie'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc7282531454-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc7282531454-4\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">decorator_maker_with_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'Leonard'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c1</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc7282531454-5\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorated_function_with_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">function_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">function_arg2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc7282531454-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'I am the decorated function and only knows about my arguments:'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc7282531454-7\"><span class=\"crayon-h\">           </span><span class=\"crayon-s\">' {0} {1}'</span><span class=\"crayon-sy\">.</span><span class=\"crayon-k \">format</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">function_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">function_arg2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc7282531454-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc7282531454-9\"><span class=\"crayon-e\">decorated_function_with_arguments</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Howard'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc7282531454-10\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc7282531454-11\"><span class=\"crayon-c\">#I make decorators! And I accept arguments: Leonard Penny</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc7282531454-12\"><span class=\"crayon-c\">#I am the decorator. Somehow you passed me arguments: Leonard Penny</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc7282531454-13\"><span class=\"crayon-c\">#I am the wrapper around the decorated function. </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc7282531454-14\"><span class=\"crayon-c\">#I can access all the variables </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc7282531454-15\"><span class=\"crayon-c\">#    - from the decorator: Leonard Penny </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc7282531454-16\"><span class=\"crayon-c\">#    - from the function call: Leslie Howard </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbc7282531454-17\"><span class=\"crayon-c\">#Then I can pass them to the decorated function</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbc7282531454-18\"><span class=\"crayon-c\">#I am the decorated function and only knows about my arguments: Leslie Howard</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>如你所见，你可以使用这个技巧向装饰器传递参数，就像是向普通函数传递一样。如果你愿意的话，你甚至可以使用 <code>*args, **kwargs</code>。但记住，装饰器只会被调用<strong>一次</strong>。只在 Python 导入脚本的时候运行。在这之后你就无法动态设置参数了。当你执行 <code>import x</code> 之后，<strong>函数已经被装饰了</strong>,因此之后你无法改变任何东西。</p>\n<hr>\n<h1>练习： 装饰一个装饰器</h1>\n<p>好的，作为奖励，我会提供你一段代码允许装饰器接收任何参数。毕竟，为了接收参数，我们会用另一个函数创建装饰器。</p>\n<p>我们包装一下装饰器。</p>\n<p>我们最近看到的有包装函数的还有什么呢？</p>\n<p>对了，就是装饰器！</p>\n<p>让我们做点有趣的事，写一个装饰器的装饰器：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbcb196074622\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef decorator_with_args(decorator_to_enhance):\r\n    \"\"\"\r\n    这个函数是被用作装饰器。\r\n    它会装饰其他函数，被装饰的函数也是一个装饰器。\r\n    喝杯咖啡吧。\r\n    它允许任何装饰器接收任意个参数，\r\n    这样你就不会为每次都要考虑怎样处理而头疼了\r\n    \"\"\"\r\n\r\n    # 我们使用同样的技巧来传递参数\r\n    def decorator_maker(*args, **kwargs):\r\n        # 我们创建一个仅可以接收一个函数的临时装饰器\r\n        # 但无法从 maker 传递参数 \r\n        def decorator_wrapper(func):\r\n            # 原装饰器返回的结果\r\n            # 其实只是一个普通函数（这个函数返回一个函数）。\r\n            # 唯一的陷阱是： 装饰器必须有特定的格式，否则无法运行：   \r\n            return decorator_to_enhance(func, *args, **kwargs)\r\n        return decorator_wrapper\r\n    return decorator_maker</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcb196074622-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcb196074622-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcb196074622-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcb196074622-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcb196074622-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcb196074622-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcb196074622-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcb196074622-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcb196074622-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcb196074622-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcb196074622-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcb196074622-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcb196074622-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcb196074622-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcb196074622-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcb196074622-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcb196074622-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcb196074622-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcb196074622-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcb196074622-20\">20</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcb196074622-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorator_with_args</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">decorator_to_enhance</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcb196074622-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"\"\"</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcb196074622-3\"><span class=\"crayon-s\">    这个函数是被用作装饰器。</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcb196074622-4\"><span class=\"crayon-s\">    它会装饰其他函数，被装饰的函数也是一个装饰器。</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcb196074622-5\"><span class=\"crayon-s\">    喝杯咖啡吧。</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcb196074622-6\"><span class=\"crayon-s\">    它允许任何装饰器接收任意个参数，</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcb196074622-7\"><span class=\"crayon-s\">    这样你就不会为每次都要考虑怎样处理而头疼了</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcb196074622-8\"><span class=\"crayon-s\">    \"\"\"</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcb196074622-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcb196074622-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 我们使用同样的技巧来传递参数</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcb196074622-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorator_maker</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">kwargs</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcb196074622-12\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 我们创建一个仅可以接收一个函数的临时装饰器</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcb196074622-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># 但无法从 maker 传递参数 </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcb196074622-14\"><span class=\"crayon-h\">        </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorator_wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcb196074622-15\"><span class=\"crayon-h\">            </span><span class=\"crayon-c\"># 原装饰器返回的结果</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcb196074622-16\"><span class=\"crayon-h\">            </span><span class=\"crayon-c\"># 其实只是一个普通函数（这个函数返回一个函数）。</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcb196074622-17\"><span class=\"crayon-h\">            </span><span class=\"crayon-c\"># 唯一的陷阱是： 装饰器必须有特定的格式，否则无法运行：   </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcb196074622-18\"><span class=\"crayon-h\">            </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorator_to_enhance</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">kwargs</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcb196074622-19\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorator_wrapper</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcb196074622-20\"><span class=\"crayon-e\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">decorator_maker</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0022 seconds] -->\r\n<p>可以像下面这样使用：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbcf303965925\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# 创建一个用作装饰器的函数。然后加上一个装饰器  :-)  \r\n# 不要忘记，格式是  `decorator(func, *args, **kwargs)`  \r\n@decorator_with_args \r\ndef decorated_decorator(func, *args, **kwargs): \r\n    def wrapper(function_arg1, function_arg2):\r\n        print 'Decorated with', args, kwargs\r\n        return func(function_arg1, function_arg2)\r\n    return wrapper\r\n\r\n\r\n# 然后用全新的装饰器装饰你的函数。    \r\n\r\n@decorated_decorator(42, 404, 1024)\r\ndef decorated_function(function_arg1, function_arg2):\r\n    print 'Hello', function_arg1, function_arg2\r\n\r\ndecorated_function('Universe and', 'everything')\r\n#outputs:\r\n#Decorated with (42, 404, 1024) {}\r\n#Hello Universe and everything\r\n\r\n# Whoooot!</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcf303965925-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcf303965925-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcf303965925-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcf303965925-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcf303965925-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcf303965925-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcf303965925-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcf303965925-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcf303965925-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcf303965925-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcf303965925-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcf303965925-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcf303965925-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcf303965925-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcf303965925-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcf303965925-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcf303965925-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcf303965925-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcf303965925-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcf303965925-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbcf303965925-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbcf303965925-22\">22</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcf303965925-1\"><span class=\"crayon-c\"># 创建一个用作装饰器的函数。然后加上一个装饰器  :-)  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcf303965925-2\"><span class=\"crayon-c\"># 不要忘记，格式是  `decorator(func, *args, **kwargs)`  </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcf303965925-3\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">decorator_with_args </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcf303965925-4\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorated_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">kwargs</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcf303965925-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">function_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">function_arg2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcf303965925-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Decorated with'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">kwargs</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcf303965925-7\"><span class=\"crayon-e\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">function_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">function_arg2</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcf303965925-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wrapper</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcf303965925-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcf303965925-10\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcf303965925-11\"><span class=\"crayon-c\"># 然后用全新的装饰器装饰你的函数。    </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcf303965925-12\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcf303965925-13\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">decorated_decorator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">42</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">404</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1024</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcf303965925-14\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">decorated_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">function_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">function_arg2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcf303965925-15\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Hello'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">function_arg1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">function_arg2</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcf303965925-16\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcf303965925-17\"><span class=\"crayon-e\">decorated_function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'Universe and'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'everything'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcf303965925-18\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcf303965925-19\"><span class=\"crayon-c\">#Decorated with (42, 404, 1024) {}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcf303965925-20\"><span class=\"crayon-c\">#Hello Universe and everything</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbcf303965925-21\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbcf303965925-22\"><span class=\"crayon-c\"># Whoooot!</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0029 seconds] -->\r\n<p>我知道，上次你有这种感觉，是在听一个人说：“在理解递归之前，你必须首先理解递归” 时。但现在，掌握了这个之后你不觉得很棒吗？</p>\n<hr>\n<h1>最佳实践： 装饰器</h1>\n<ul>\n<li>装饰器在 Python 2.4 引进，因此确保你的代码运行的 Python 版本 &gt;=2.4</li>\n<li>装饰器会拖慢函数调用速度。请牢记</li>\n<li><strong>你无法解除装饰一个函数。</strong> （确实 <em>有</em> 一些技巧可以创建允许解除装饰的装饰器，但是没人会使用它们。）因此一旦函数被装饰了，<em>所有这个函数的代码</em>就都装饰了。</li>\n<li>装饰器包装函数，会使得函数更难调试。 （从 Python &gt;=2.5 有所好转；看下文。）</li>\n</ul>\n<p><code>functools</code> 模块在 Python 2.5 引进。模块中包含了函数 <code>functools.wraps()</code> ，这个函数会把被装饰函数的名字，模块名，docstring 都复制到它的包装器中。</p>\n<p>（有趣的事情是： <code>functools.wraps()</code> 是个装饰器！☺）</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbd4807594595\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# 至于调试，stacktrace 输出函数的 __name__\r\ndef foo():\r\n    print 'foo'\r\n\r\nprint foo.__name__\r\n#outputs: foo\r\n\r\n\r\n# 有了装饰器之后，有点混乱   \r\ndef bar(func):\r\n    def wrapper():\r\n        print 'bar'\r\n        return func()\r\n    return wrapper\r\n\r\n@bar\r\ndef foo():\r\n    print 'foo'\r\n\r\nprint foo.__name__\r\n#outputs: wrapper\r\n\r\n\r\n# `functools` 可以改善上面的情况\r\n\r\nimport functools\r\n\r\ndef bar(func):\r\n    # 我们认为 `wrapper` 正在包装 `func` \r\n    # 神奇的事情发生了 \r\n    @functools.wraps(func)\r\n    def wrapper():\r\n        print 'bar'\r\n        return func()\r\n    return wrapper\r\n\r\n@bar\r\ndef foo():\r\n    print 'foo'\r\n\r\nprint foo.__name__\r\n#outputs: foo</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd4807594595-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd4807594595-42\">42</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-1\"><span class=\"crayon-c\"># 至于调试，stacktrace 输出函数的 __name__</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-2\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">foo</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'foo'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-4\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-5\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">foo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">__name__</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-6\"><span class=\"crayon-c\">#outputs: foo</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-9\"><span class=\"crayon-c\"># 有了装饰器之后，有点混乱   </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-10\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">bar</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-12\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'bar'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-14\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">wrapper</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-15\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-16\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">bar</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-17\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">foo</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-18\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'foo'</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-19\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-20\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">foo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">__name__</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-21\"><span class=\"crayon-c\">#outputs: wrapper</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-22\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-23\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-24\"><span class=\"crayon-c\"># `functools` 可以改善上面的情况</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-25\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-26\"><span class=\"crayon-r\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">functools</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-27\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-28\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">bar</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-29\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 我们认为 `wrapper` 正在包装 `func` </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-30\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\"># 神奇的事情发生了 </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-31\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">@</span><span class=\"crayon-k \">functools</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">wraps</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-32\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-33\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'bar'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-34\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-35\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">wrapper</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-36\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-37\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">bar</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-38\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">foo</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-39\"><span class=\"crayon-h\">    </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'foo'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-40\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd4807594595-41\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">foo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">__name__</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd4807594595-42\"><span class=\"crayon-c\">#outputs: foo</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0036 seconds] -->\r\n<p></p>\n<hr>\n<h1>怎样使装饰器变得有用？</h1>\n<p><strong>现在最大的问题是：</strong> 我可以用装饰器来干嘛？</p>\n<p>装饰器看起来很酷，很强大，但有一个实用的例子就更好了。大概有 1000 种可能的例子。常见的使用方法是扩展一个外部库函数（你无法修改）的行为，或者用来调试外部库函数（你不想修改它，因为它是临时函数）。</p>\n<p>你可以使用装饰器以 DRY(Don’t Repeat Yourself,不重复自己) 的方式扩展函数，就像这样：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbd8123884343\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef benchmark(func):\r\n    \"\"\"\r\n    一个用来输出函数执行时间的装饰器\r\n    \"\"\"\r\n    import time\r\n    def wrapper(*args, **kwargs):\r\n        t = time.clock()\r\n        res = func(*args, **kwargs)\r\n        print func.__name__, time.clock()-t\r\n        return res\r\n    return wrapper\r\n\r\n\r\ndef logging(func):\r\n    \"\"\"\r\n    一个用来记录脚本活动的装饰器。\r\n    （实际上只是打印出来，但可以输出到日志！）\r\n    \"\"\"\r\n    def wrapper(*args, **kwargs):\r\n        res = func(*args, **kwargs)\r\n        print func.__name__, args, kwargs\r\n        return res\r\n    return wrapper\r\n\r\n\r\ndef counter(func):\r\n    \"\"\"\r\n    一个用来统计并输出函数执行次数的装饰器\r\n    \"\"\"\r\n    def wrapper(*args, **kwargs):\r\n        wrapper.count = wrapper.count + 1\r\n        res = func(*args, **kwargs)\r\n        print '{0} has been used: {1}x'.format(func.__name__, wrapper.count)\r\n        return res\r\n    wrapper.count = 0\r\n    return wrapper\r\n\r\n@counter\r\n@benchmark\r\n@logging\r\ndef reverse_string(string):\r\n    return str(reversed(string))\r\n\r\nprint reverse_string('Able was I ere I saw Elba')\r\nprint reverse_string('A man, a plan, a canoe, pasta, heros, rajahs, a coloratura, maps, snipe, percale, macaroni, a gag, a banana bag, a tan, a tag, a banana bag again (or a camel), a crepe, pins, Spam, a rut, a Rolo, cash, a jar, sore hats, a peon, a canal: Panama!')\r\n\r\n#outputs:\r\n#reverse_string ('Able was I ere I saw Elba',) {}\r\n#wrapper 0.0\r\n#wrapper has been used: 1x \r\n#ablE was I ere I saw elbA\r\n#reverse_string ('A man, a plan, a canoe, pasta, heros, rajahs, a coloratura, maps, snipe, percale, macaroni, a gag, a banana bag, a tan, a tag, a banana bag again (or a camel), a crepe, pins, Spam, a rut, a Rolo, cash, a jar, sore hats, a peon, a canal: Panama!',) {}\r\n#wrapper 0.0\r\n#wrapper has been used: 2x\r\n#!amanaP :lanac a ,noep a ,stah eros ,raj a ,hsac ,oloR a ,tur a ,mapS ,snip ,eperc a ,)lemac a ro( niaga gab ananab a ,gat a ,nat a ,gab ananab a ,gag a ,inoracam ,elacrep ,epins ,spam ,arutaroloc a ,shajar ,soreh ,atsap ,eonac a ,nalp a ,nam A</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-49\">49</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-51\">51</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-53\">53</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbd8123884343-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbd8123884343-55\">55</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">benchmark</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"\"\"</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-3\"><span class=\"crayon-s\">    一个用来输出函数执行时间的装饰器</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-4\"><span class=\"crayon-s\">    \"\"\"</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">time</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">kwargs</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">time</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">clock</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-8\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">res</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">kwargs</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">__name__</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">time</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">clock</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">t</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">res</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-11\"><span class=\"crayon-e\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-12\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-13\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-14\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">logging</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-15\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"\"\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-16\"><span class=\"crayon-s\">    一个用来记录脚本活动的装饰器。</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-17\"><span class=\"crayon-s\">    （实际上只是打印出来，但可以输出到日志！）</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-18\"><span class=\"crayon-s\">    \"\"\"</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-19\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">kwargs</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-20\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">res</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">kwargs</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-21\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">__name__</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">kwargs</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-22\"><span class=\"crayon-e\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">res</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-23\"><span class=\"crayon-e\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-24\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-25\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-26\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">counter</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-27\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"\"\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-28\"><span class=\"crayon-s\">    一个用来统计并输出函数执行次数的装饰器</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-29\"><span class=\"crayon-s\">    \"\"\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-30\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wrapper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">kwargs</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-31\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">wrapper</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">count</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wrapper</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">count</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-32\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">res</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">kwargs</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-33\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{0} has been used: {1}x'</span><span class=\"crayon-sy\">.</span><span class=\"crayon-k \">format</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">__name__</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wrapper</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">count</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-34\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">res</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-35\"><span class=\"crayon-e\">    </span><span class=\"crayon-v\">wrapper</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">count</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-36\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">wrapper</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-37\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-38\"><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">counter</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-39\"><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">benchmark</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-40\"><span class=\"crayon-sy\">@</span><span class=\"crayon-k \">logging</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-41\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">reverse_string</span><span class=\"crayon-sy\">(</span><span class=\"crayon-k \">string</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-42\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">str</span><span class=\"crayon-sy\">(</span><span class=\"crayon-k \">reversed</span><span class=\"crayon-sy\">(</span><span class=\"crayon-k \">string</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-43\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-44\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">reverse_string</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'Able was I ere I saw Elba'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-45\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">reverse_string</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'A man, a plan, a canoe, pasta, heros, rajahs, a coloratura, maps, snipe, percale, macaroni, a gag, a banana bag, a tan, a tag, a banana bag again (or a camel), a crepe, pins, Spam, a rut, a Rolo, cash, a jar, sore hats, a peon, a canal: Panama!'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-46\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-47\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-48\"><span class=\"crayon-c\">#reverse_string ('Able was I ere I saw Elba',) {}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-49\"><span class=\"crayon-c\">#wrapper 0.0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-50\"><span class=\"crayon-c\">#wrapper has been used: 1x </span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-51\"><span class=\"crayon-c\">#ablE was I ere I saw elbA</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-52\"><span class=\"crayon-c\">#reverse_string ('A man, a plan, a canoe, pasta, heros, rajahs, a coloratura, maps, snipe, percale, macaroni, a gag, a banana bag, a tan, a tag, a banana bag again (or a camel), a crepe, pins, Spam, a rut, a Rolo, cash, a jar, sore hats, a peon, a canal: Panama!',) {}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-53\"><span class=\"crayon-c\">#wrapper 0.0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbd8123884343-54\"><span class=\"crayon-c\">#wrapper has been used: 2x</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbd8123884343-55\"><span class=\"crayon-c\">#!amanaP :lanac a ,noep a ,stah eros ,raj a ,hsac ,oloR a ,tur a ,mapS ,snip ,eperc a ,)lemac a ro( niaga gab ananab a ,gat a ,nat a ,gab ananab a ,gag a ,inoracam ,elacrep ,epins ,spam ,arutaroloc a ,shajar ,soreh ,atsap ,eonac a ,nalp a ,nam A</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0071 seconds] -->\r\n<p><code class=\"lang-python\"></code>当然，装饰器的优点就在于你可以在不重写函数的前提下，使用在几乎任何函数上。DRY（Don’t Repeat Yourself,不要重复你自己)，正如我说的：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080ee3fbdc618219290\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@counter\r\n@benchmark\r\n@logging\r\ndef get_random_futurama_quote():\r\n    from urllib import urlopen\r\n    result = urlopen('http://subfusion.net/cgi-bin/quote.pl?quote=futurama').read()\r\n    try:\r\n        value = result.split('&lt;br&gt;&lt;b&gt;&lt;hr&gt;&lt;br&gt;')[1].split('&lt;br&gt;&lt;br&gt;&lt;hr&gt;')[0]\r\n        return value.strip()\r\n    except:\r\n        return 'No, I’m ... doesn’t!'\r\n\r\n\r\nprint get_random_futurama_quote()\r\nprint get_random_futurama_quote()\r\n\r\n#outputs:\r\n#get_random_futurama_quote () {}\r\n#wrapper 0.02\r\n#wrapper has been used: 1x\r\n#The laws of science be a harsh mistress.\r\n#get_random_futurama_quote () {}\r\n#wrapper 0.01\r\n#wrapper has been used: 2x\r\n#Curse you, merciful Poseidon!</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080ee3fbdc618219290-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080ee3fbdc618219290-25\">25</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">counter</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-2\"><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">benchmark</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-3\"><span class=\"crayon-sy\">@</span><span class=\"crayon-k \">logging</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-4\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">get_random_futurama_quote</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">urllib</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">urlopen</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-6\"><span class=\"crayon-e\">    </span><span class=\"crayon-v\">result</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">urlopen</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'http://subfusion.net/cgi-bin/quote.pl?quote=futurama'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">read</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">try</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-8\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">value</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">result</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">split</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'&lt;br&gt;&lt;b&gt;&lt;hr&gt;&lt;br&gt;'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">split</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'&lt;br&gt;&lt;br&gt;&lt;hr&gt;'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">value</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">strip</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">except</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-11\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'No, I’m ... doesn’t!'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-12\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-13\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-14\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">get_random_futurama_quote</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-15\"><span class=\"crayon-k \">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">get_random_futurama_quote</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-16\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-17\"><span class=\"crayon-c\">#outputs:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-18\"><span class=\"crayon-c\">#get_random_futurama_quote () {}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-19\"><span class=\"crayon-c\">#wrapper 0.02</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-20\"><span class=\"crayon-c\">#wrapper has been used: 1x</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-21\"><span class=\"crayon-c\">#The laws of science be a harsh mistress.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-22\"><span class=\"crayon-c\">#get_random_futurama_quote () {}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-23\"><span class=\"crayon-c\">#wrapper 0.01</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080ee3fbdc618219290-24\"><span class=\"crayon-c\">#wrapper has been used: 2x</span></div><div class=\"crayon-line\" id=\"crayon-5ce080ee3fbdc618219290-25\"><span class=\"crayon-c\">#Curse you, merciful Poseidon!</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0028 seconds] -->\r\n<p>Python 本身提供了几种装饰器： <code>property</code> ，<code>staticmethod</code>，等</p>\n<ul>\n<li>Django 使用装饰器来管理缓存，查看权限。</li>\n<li>Twisted 用它来伪造内联异步函数调用。</li>\n</ul>\n<p>装饰器的用途确实很广。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114694\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114694votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114694\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q3057027161\">可乐</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q3057027161\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/19D693E8F32E174301CF7B140001AB0F/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            本科在读，对python,linux,安全很感兴趣，希望能够阅读国外最新的技术新闻，也希望能够翻译一些文章帮助到别人        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q3057027161\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q3057027161/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q3057027161/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 14</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://kele1997.xyz\"><i class=\"fa fa-link\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/kele1997\"><i class=\"fa fa-github\"></i></a> <a title=\"Twitter主页\" target=\"_blank\" href=\"https://twitter.com/cocakele1997\"><i class=\"fa fa-twitter\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/673dff809d96b0e9dfb79f3e3de437fe562abbcb.jpg"}{"url_object_id": "f63805ccc0063f07b2e0edd29a6c8994", "title": "5 个好用的开发者 Vim 插件", "url": "http://blog.jobbole.com/114666/", "create_date": "2019/02/24", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2019/02/bd52853a7b3ec8810c11e90c1b77f44b.jpg"], "praise_nums": "1", "fav_nums": "", "comment": "1", "tags": "IT技术,Linux,Vim", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/19/1/vim-plugins-developers\">Ricardo Gerardi</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-10563-1.html\">Linux中国/pityonline</a>   </div><blockquote><p>通过这 5 个插件扩展 Vim 功能来提升你的编码效率。</p></blockquote>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2019/02/bd52853a7b3ec8810c11e90c1b77f44b.jpg\"></p>\n<p>我用 Vim 已经超过 20 年了，两年前我决定把它作为我的首要文本编辑器。我用 Vim 来编写代码、配置文件、博客文章及其它任意可以用纯文本表达的东西。Vim 有很多超级棒的功能，一旦你适合了它，你的工作会变得非常高效。</p>\n<p>在日常编辑工作中，我更倾向于使用 Vim 稳定的原生功能，但开源社区对 Vim 开发了大量的插件，可以扩展 Vim 的功能、改进你的工作流程和提升工作效率。</p>\n<p>以下列举 5 个非常好用的可以用于编写任意编程语言的插件。</p>\n<h3 id=\"toc_1\">1、Auto Pairs</h3>\n<p><a href=\"https://www.vim.org/scripts/script.php?script_id=3599\">Auto Pairs</a> 插件可以帮助你插入和删除成对的文字，如花括号、圆括号或引号。这在编写代码时非常有用，因为很多编程语言都有成对标记的语法，就像圆括号用于函数调用，或引号用于字符串定义。</p>\n<p>Auto Pairs 最基本的功能是在你输入一个左括号时会自动补全对应的另一半括号。比如，你输入了一个 <code>[</code>，它会自动帮你补充另一半 <code>]</code>。相反，如果你用退格键删除开头的一半括号，Auto Pairs 会删除另一半。</p>\n<p>如果你设置了自动缩进，当你按下回车键时 Auto Pairs 会在恰当的缩进位置补全另一半括号，这比你找到放置另一半的位置并选择一个正确的括号要省劲多了。</p>\n<p>例如下面这段代码：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f6d148651872\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npackage main\r\n\r\nimport \"fmt\"\r\n\r\nfunc main() {\r\n    x := true\r\n    items := []string{\"tv\", \"pc\", \"tablet\"}\r\n\r\n    if x { \r\n        for _, i := range items\r\n    } \r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f6d148651872-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f6d148651872-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f6d148651872-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f6d148651872-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f6d148651872-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f6d148651872-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f6d148651872-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f6d148651872-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f6d148651872-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f6d148651872-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f6d148651872-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f6d148651872-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f6d148651872-1\"><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">main</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f6d148651872-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e868f6d148651872-3\"><span class=\"crayon-i\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"fmt\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f6d148651872-4\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e868f6d148651872-5\"><span class=\"crayon-e\">func </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f6d148651872-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f6d148651872-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">\"tv\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"pc\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"tablet\"</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f6d148651872-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e868f6d148651872-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f6d148651872-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range </span><span class=\"crayon-i\">items</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f6d148651872-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f6d148651872-12\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>在 <code>items</code> 后面输入一个左花括号按下回车会产生下面的结果：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f78432159548\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npackage main\r\n\r\nimport \"fmt\"\r\n\r\nfunc main() {\r\n    x := true\r\n    items := []string{\"tv\", \"pc\", \"tablet\"}\r\n\r\n    if x {\r\n        for _, i := range items  {\r\n            | (cursor here)\r\n        }\r\n    }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f78432159548-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f78432159548-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f78432159548-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f78432159548-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f78432159548-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f78432159548-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f78432159548-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f78432159548-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f78432159548-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f78432159548-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f78432159548-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f78432159548-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f78432159548-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f78432159548-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f78432159548-1\"><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">main</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f78432159548-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e868f78432159548-3\"><span class=\"crayon-i\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"fmt\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f78432159548-4\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e868f78432159548-5\"><span class=\"crayon-e\">func </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f78432159548-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f78432159548-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">\"tv\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"pc\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"tablet\"</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f78432159548-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e868f78432159548-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f78432159548-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">items</span><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f78432159548-11\"><span class=\"crayon-h\">            </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">cursor </span><span class=\"crayon-v\">here</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f78432159548-12\"><span class=\"crayon-h\">        </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f78432159548-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f78432159548-14\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>Auto Pairs 提供了大量其它选项（你可以在 <a href=\"https://github.com/jiangmiao/auto-pairs\">GitHub</a> 上找到），但最基本的功能已经很让人省时间了。</p>\n<h3 id=\"toc_2\">2、NERD Commenter</h3>\n<p><a href=\"https://github.com/scrooloose/nerdcommenter\">NERD Commenter</a> 插件给 Vim 增加了代码注释的功能，类似在 IDEintegrated development environment 中注释功能。有了这个插件，你可以一键注释单行或多行代码。</p>\n<p>NERD Commenter 可以与标准的 Vim <a href=\"http://vim.wikia.com/wiki/Filetype.vim\">filetype</a> 插件配合，所以它能理解一些编程语言并使用合适的方式来注释代码。</p>\n<p>最易上手的方法是按 <code>Leader+Space</code> 组合键来切换注释当前行。Vim 默认的 Leader 键是 \\<code></code>。</p>\n<p>在可视化模式Visual mode中，你可以选择多行一并注释。NERD Commenter 也可以按计数注释，所以你可以加个数量 n 来注释 n 行。</p>\n<p>还有个有用的特性 “Sexy Comment” 可以用 <code>Leader+cs</code> 来触发，它的块注释风格更漂亮一些。例如下面这段代码：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f7d476426468\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npackage main\r\n\r\nimport \"fmt\"\r\n\r\nfunc main() {\r\n    x := true\r\n    items := []string{\"tv\", \"pc\", \"tablet\"}\r\n\r\n    if x {\r\n        for _, i := range items {\r\n            fmt.Println(i)\r\n        }\r\n    }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f7d476426468-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f7d476426468-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f7d476426468-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f7d476426468-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f7d476426468-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f7d476426468-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f7d476426468-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f7d476426468-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f7d476426468-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f7d476426468-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f7d476426468-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f7d476426468-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f7d476426468-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f7d476426468-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f7d476426468-1\"><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">main</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f7d476426468-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e868f7d476426468-3\"><span class=\"crayon-i\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"fmt\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f7d476426468-4\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e868f7d476426468-5\"><span class=\"crayon-e\">func </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f7d476426468-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f7d476426468-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">\"tv\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"pc\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"tablet\"</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f7d476426468-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e868f7d476426468-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f7d476426468-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f7d476426468-11\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f7d476426468-12\"><span class=\"crayon-h\">        </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f7d476426468-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f7d476426468-14\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>选择 <code>main</code> 函数中的所有行然后按下 <code>Leader+cs</code> 会出来以下注释效果：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f81372057699\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npackage main\r\n\r\nimport \"fmt\"\r\n\r\nfunc main() {\r\n/*\r\n *    x := true\r\n *    items := []string{\"tv\", \"pc\", \"tablet\"}\r\n *\r\n *    if x {\r\n *        for _, i := range items {\r\n *            fmt.Println(i)\r\n *        }\r\n *    }\r\n */\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f81372057699-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f81372057699-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f81372057699-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f81372057699-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f81372057699-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f81372057699-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f81372057699-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f81372057699-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f81372057699-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f81372057699-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f81372057699-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f81372057699-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f81372057699-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f81372057699-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f81372057699-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f81372057699-16\">16</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f81372057699-1\"><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">main</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f81372057699-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e868f81372057699-3\"><span class=\"crayon-i\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"fmt\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f81372057699-4\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e868f81372057699-5\"><span class=\"crayon-e\">func </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f81372057699-6\"><span class=\"crayon-c\">/*</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f81372057699-7\"><span class=\"crayon-c\"> *    x := true</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f81372057699-8\"><span class=\"crayon-c\"> *    items := []string{\"tv\", \"pc\", \"tablet\"}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f81372057699-9\"><span class=\"crayon-c\"> *</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f81372057699-10\"><span class=\"crayon-c\"> *    if x {</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f81372057699-11\"><span class=\"crayon-c\"> *        for _, i := range items {</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f81372057699-12\"><span class=\"crayon-c\"> *            fmt.Println(i)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f81372057699-13\"><span class=\"crayon-c\"> *        }</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f81372057699-14\"><span class=\"crayon-c\"> *    }</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f81372057699-15\"><span class=\"crayon-c\"> */</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f81372057699-16\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>因为这些行都是在一个块中注释的，你可以用 <code>Leader+Space</code> 组合键一次去掉这里所有的注释。</p>\n<p>NERD Commenter 是任何使用 Vim 写代码的开发者都必装的插件。</p>\n<h3 id=\"toc_3\">3、VIM Surround</h3>\n<p><a href=\"https://www.vim.org/scripts/script.php?script_id=1697\">Vim Surround</a> 插件可以帮你“环绕”现有文本插入成对的符号（如括号或双引号）或标签（如 HTML 或 XML 标签）。它和 Auto Pairs 有点儿类似，但是用于处理已有文本，在编辑文本时更有用。</p>\n<p>比如你有以下一个句子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f85321329167\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n\"Vim plugins are awesome !\"</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f85321329167-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f85321329167-1\"><span class=\"crayon-s\">\"Vim plugins are awesome !\"</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>当你的光标处于引起来的句中任何位置时，你可以用 <code>ds\"</code> 组合键删除句子两端的双引号。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f88874777180\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nVim plugins are awesome !</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f88874777180-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f88874777180-1\"><span class=\"crayon-e\">Vim </span><span class=\"crayon-e\">plugins </span><span class=\"crayon-e\">are </span><span class=\"crayon-v\">awesome</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>你也可以用 <code>cs\"'</code> 把双端的双引号换成单引号：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f8c959813830\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n'Vim plugins are awesome !'</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f8c959813830-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f8c959813830-1\"><span class=\"crayon-s\">'Vim plugins are awesome !'</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>或者再用 <code>cs'[</code> 替换成中括号：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f8f484810346\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[ Vim plugins are awesome ! ]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f8f484810346-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f8f484810346-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Vim </span><span class=\"crayon-e\">plugins </span><span class=\"crayon-e\">are </span><span class=\"crayon-v\">awesome</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>它对编辑 HTML 或 XML 文本中的标签tag尤其在行。假如你有以下一行 HTML 代码：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f92426212591\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&lt;p&gt;Vim plugins are awesome !&lt;/p&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f92426212591-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f92426212591-1\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">p</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-e\">Vim </span><span class=\"crayon-e\">plugins </span><span class=\"crayon-e\">are </span><span class=\"crayon-v\">awesome</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">p</span><span class=\"crayon-o\">&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>当光标在 “awesome” 这个单词的任何位置时，你可以按 ysiw&lt;em&gt; 直接给它加上着重标签（&lt;em&gt;<code></code>）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f96394878917\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&lt;p&gt;Vim plugins are &lt;em&gt;awesome&lt;/em&gt; !&lt;/p&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f96394878917-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f96394878917-1\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">p</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-e\">Vim </span><span class=\"crayon-e\">plugins </span><span class=\"crayon-v\">are</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">em</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-v\">awesome</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">em</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">p</span><span class=\"crayon-o\">&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>注意它聪明地加上了 &lt;/em&gt; <code></code> 闭合标签。</p>\n<p>Vim Surround 也可以用 <code>ySS</code> 缩进文本并加上标签。比如你有以下文本：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f99169595217\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&lt;p&gt;Vim plugins are &lt;em&gt;awesome&lt;/em&gt; !&lt;/p&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f99169595217-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f99169595217-1\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">p</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-e\">Vim </span><span class=\"crayon-e\">plugins </span><span class=\"crayon-v\">are</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">em</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-v\">awesome</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">em</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">p</span><span class=\"crayon-o\">&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>你可以用 <code>ySS &lt;div class=\"normal\"&gt; </code>加上 <code>div</code> 标签，注意生成的段落是自动缩进的。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868f9d409129975\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&lt;div class=\"normal\"&gt;\r\n        &lt;p&gt;Vim plugins are &lt;em&gt;awesome&lt;/em&gt; !&lt;/p&gt;\r\n&lt;/div&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f9d409129975-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868f9d409129975-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868f9d409129975-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868f9d409129975-1\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"normal\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868f9d409129975-2\"><span class=\"crayon-h\">        </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">p</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-e\">Vim </span><span class=\"crayon-e\">plugins </span><span class=\"crayon-v\">are</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">em</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-v\">awesome</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">em</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">p</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868f9d409129975-3\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>Vim Surround 有很多其它选项，你可以参照 <a href=\"https://github.com/tpope/vim-surround\">GitHub</a> 上的说明尝试它们。</p>\n<h3 id=\"toc_4\">4、Vim Gitgutter</h3>\n<p><a href=\"https://github.com/airblade/vim-gitgutter\">Vim Gitgutter</a> 插件对使用 Git 作为版本控制工具的人来说非常有用。它会在 Vim 的行号列旁显示 <code>git diff</code> 的差异标记。假设你有如下已提交过的代码：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868fa1134038382\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n  1 package main\r\n  2\r\n  3 import \"fmt\"\r\n  4\r\n  5 func main() {\r\n  6     x := true\r\n  7     items := []string{\"tv\", \"pc\", \"tablet\"}\r\n  8\r\n  9     if x {\r\n 10         for _, i := range items {\r\n 11             fmt.Println(i)\r\n 12         }\r\n 13     }\r\n 14 }</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa1134038382-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa1134038382-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa1134038382-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa1134038382-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa1134038382-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa1134038382-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa1134038382-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa1134038382-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa1134038382-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa1134038382-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa1134038382-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa1134038382-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa1134038382-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa1134038382-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868fa1134038382-1\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">main</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa1134038382-2\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa1134038382-3\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"fmt\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa1134038382-4\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa1134038382-5\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa1134038382-6\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa1134038382-7\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">\"tv\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"pc\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"tablet\"</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa1134038382-8\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa1134038382-9\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa1134038382-10\"> <span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa1134038382-11\"> <span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa1134038382-12\"> <span class=\"crayon-cn\">12</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa1134038382-13\"> <span class=\"crayon-cn\">13</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa1134038382-14\"> <span class=\"crayon-cn\">14</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0027 seconds] -->\r\n<p>当你做出一些修改后，Vim Gitgutter 会显示如下标记：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868fa4943638479\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n    1 package main\r\n    2\r\n    3 import \"fmt\"\r\n    4\r\n_   5 func main() {\r\n    6     items := []string{\"tv\", \"pc\", \"tablet\"}\r\n    7\r\n~   8     if len(items) &gt; 0 {\r\n    9         for _, i := range items {\r\n   10             fmt.Println(i)\r\n+  11             fmt.Println(\"------\")\r\n   12         }\r\n   13     }\r\n   14 }</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa4943638479-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa4943638479-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa4943638479-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa4943638479-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa4943638479-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa4943638479-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa4943638479-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa4943638479-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa4943638479-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa4943638479-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa4943638479-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa4943638479-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa4943638479-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa4943638479-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868fa4943638479-1\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">main</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa4943638479-2\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa4943638479-3\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"fmt\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa4943638479-4\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa4943638479-5\"><span class=\"crayon-i\">_</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa4943638479-6\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">\"tv\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"pc\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"tablet\"</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa4943638479-7\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa4943638479-8\"><span class=\"crayon-o\">~</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">len</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">items</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa4943638479-9\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa4943638479-10\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa4943638479-11\"><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"------\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa4943638479-12\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">12</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa4943638479-13\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">13</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa4943638479-14\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">14</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0033 seconds] -->\r\n<p><code>_</code> 标记表示在第 5 行和第 6 行之间删除了一行。<code>~</code> 表示第 8 行有修改，<code>+</code> 表示新增了第 11 行。</p>\n<p>另外，Vim Gitgutter 允许你用 <code>[c</code> 和 <code>]c</code> 在多个有修改的块之间跳转，甚至可以用 <code>Leader+hs</code> 来暂存某个变更集。</p>\n<p>这个插件提供了对变更的即时视觉反馈，如果你用 Git 的话，有了它简直是如虎添翼。</p>\n<h3 id=\"toc_5\">5、VIM Fugitive</h3>\n<p><a href=\"https://www.vim.org/scripts/script.php?script_id=2975\">Vim Fugitive</a> 是另一个将 Git 工作流集成到 Vim 中的超棒插件。它对 Git 做了一些封装，可以让你在 Vim 里直接执行 Git 命令并将结果集成在 Vim 界面里。这个插件有超多的特性，更多信息请访问它的 <a href=\"https://github.com/tpope/vim-fugitive\">GitHub</a> 项目页面。</p>\n<p>这里有一个使用 Vim Fugitive 的基础 Git 工作流示例。设想我们已经对下面的 Go 代码做出修改，你可以用 <code>:Gblame</code> 调用 <code>git blame</code> 来查看每行最后的提交信息：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868fa9763975380\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│    1 package main\r\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│    2\r\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│    3 import \"fmt\"\r\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│    4\r\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│_   5 func main() {\r\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│    6     items := []string{\"tv\", \"pc\", \"tablet\"}\r\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│    7\r\n00000000 (Not Committed Yet 2018-12-05 18:55:00 -0500)│~   8     if len(items) &gt; 0 {\r\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│    9         for _, i := range items {\r\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│   10             fmt.Println(i)\r\n00000000 (Not Committed Yet 2018-12-05 18:55:00 -0500)│+  11             fmt.Println(\"------\")\r\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│   12         }\r\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│   13     }\r\ne9949066 (Ricardo Gerardi   2018-12-05 18:17:19 -0500)│   14 }</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa9763975380-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa9763975380-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa9763975380-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa9763975380-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa9763975380-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa9763975380-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa9763975380-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa9763975380-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa9763975380-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa9763975380-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa9763975380-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa9763975380-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fa9763975380-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fa9763975380-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868fa9763975380-1\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">main</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa9763975380-2\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">2</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa9763975380-3\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"fmt\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa9763975380-4\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">4</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa9763975380-5\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-i\">_</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa9763975380-6\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">\"tv\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"pc\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"tablet\"</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa9763975380-7\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">7</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa9763975380-8\"><span class=\"crayon-cn\">00000000</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-st\">Not</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Committed </span><span class=\"crayon-i\">Yet</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">55</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-o\">~</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">len</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">items</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa9763975380-9\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">9</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa9763975380-10\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa9763975380-11\"><span class=\"crayon-cn\">00000000</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-st\">Not</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Committed </span><span class=\"crayon-i\">Yet</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">55</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"------\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa9763975380-12\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">12</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fa9763975380-13\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">13</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fa9763975380-14\"><span class=\"crayon-e\">e9949066</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Ricardo </span><span class=\"crayon-i\">Gerardi</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2018</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0500</span><span class=\"crayon-sy\">)</span>│<span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">14</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0091 seconds] -->\r\n<p>可以看到第 8 行和第 11 行显示还未提交。用 <code>:Gstatus</code> 命令检查仓库当前的状态：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868fad194239874\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n  1 # On branch master\r\n  2 # Your branch is up to date with 'origin/master'.\r\n  3 #\r\n  4 # Changes not staged for commit:\r\n  5 #   (use \"git add &lt;file&gt;...\" to update what will be committed)\r\n  6 #   (use \"git checkout -- &lt;file&gt;...\" to discard changes in working directory)\r\n  7 #\r\n  8 #       modified:   vim-5plugins/examples/test1.go\r\n  9 #\r\n 10 no changes added to commit (use \"git add\" and/or \"git commit -a\")\r\n--------------------------------------------------------------------------------------------------------\r\n    1 package main\r\n    2\r\n    3 import \"fmt\"\r\n    4\r\n_   5 func main() {\r\n    6     items := []string{\"tv\", \"pc\", \"tablet\"}\r\n    7\r\n~   8     if len(items) &gt; 0 {\r\n    9         for _, i := range items {\r\n   10             fmt.Println(i)\r\n+  11             fmt.Println(\"------\")\r\n   12         }\r\n   13     }\r\n   14 }</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fad194239874-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fad194239874-25\">25</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-1\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># On branch master</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-2\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># Your branch is up to date with 'origin/master'.</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-3\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-4\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># Changes not staged for commit:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-5\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#   (use \"git add &lt;file&gt;...\" to update what will be committed)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-6\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#   (use \"git checkout -- &lt;file&gt;...\" to discard changes in working directory)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-7\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-8\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#       modified:   vim-5plugins/examples/test1.go</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-9\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-10\"> <span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">no </span><span class=\"crayon-e\">changes </span><span class=\"crayon-e\">added </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">commit</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-st\">use</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"git add\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">and</span><span class=\"crayon-o\">/</span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"git commit -a\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-11\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-12\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">main</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-13\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-14\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"fmt\"</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-15\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-16\"><span class=\"crayon-i\">_</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-17\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">\"tv\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"pc\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"tablet\"</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-18\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-19\"><span class=\"crayon-o\">~</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">len</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">items</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-20\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-21\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-22\"><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"------\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-23\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">12</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fad194239874-24\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">13</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fad194239874-25\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">14</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0054 seconds] -->\r\n<p>Vim Fugitive 在分割的窗口里显示 <code>git status</code> 的输出结果。你可以在该行按下 <code>-</code> 键用该文件的名字暂存这个文件的提交，再按一次 <code>-</code> 可以取消暂存。这个信息会随着你的操作自动更新：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868fb1725465560\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n  1 # On branch master\r\n  2 # Your branch is up to date with 'origin/master'.\r\n  3 #\r\n  4 # Changes to be committed:\r\n  5 #   (use \"git reset HEAD &lt;file&gt;...\" to unstage)\r\n  6 #\r\n  7 #       modified:   vim-5plugins/examples/test1.go\r\n  8 #\r\n--------------------------------------------------------------------------------------------------------\r\n    1 package main\r\n    2\r\n    3 import \"fmt\"\r\n    4\r\n_   5 func main() {\r\n    6     items := []string{\"tv\", \"pc\", \"tablet\"}\r\n    7\r\n~   8     if len(items) &gt; 0 {\r\n    9         for _, i := range items {\r\n   10             fmt.Println(i)\r\n+  11             fmt.Println(\"------\")\r\n   12         }\r\n   13     }\r\n   14 }</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb1725465560-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb1725465560-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb1725465560-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb1725465560-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb1725465560-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb1725465560-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb1725465560-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb1725465560-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb1725465560-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb1725465560-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb1725465560-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb1725465560-23\">23</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-1\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># On branch master</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb1725465560-2\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># Your branch is up to date with 'origin/master'.</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-3\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb1725465560-4\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># Changes to be committed:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-5\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#   (use \"git reset HEAD &lt;file&gt;...\" to unstage)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb1725465560-6\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-7\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#       modified:   vim-5plugins/examples/test1.go</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb1725465560-8\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-9\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb1725465560-10\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">main</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-11\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb1725465560-12\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"fmt\"</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-13\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb1725465560-14\"><span class=\"crayon-i\">_</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">func </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-15\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">\"tv\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"pc\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"tablet\"</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb1725465560-16\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-17\"><span class=\"crayon-o\">~</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">len</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">items</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb1725465560-18\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">items</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-19\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb1725465560-20\"><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"------\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-21\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">12</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb1725465560-22\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">13</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb1725465560-23\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-cn\">14</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0048 seconds] -->\r\n<p>现在你可以用 <code>:Gcommit</code> 来提交修改了。Vim Fugitive 会打开另一个分割窗口让你输入提交信息：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868fb5142552629\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n  1 vim-5plugins: Updated test1.go example file\r\n  2 # Please enter the commit message for your changes. Lines starting\r\n  3 # with '#' will be ignored, and an empty message aborts the commit.\r\n  4 #\r\n  5 # On branch master\r\n  6 # Your branch is up to date with 'origin/master'.\r\n  7 #\r\n  8 # Changes to be committed:\r\n  9 #       modified:   vim-5plugins/examples/test1.go\r\n 10 #</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb5142552629-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb5142552629-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb5142552629-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb5142552629-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb5142552629-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb5142552629-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb5142552629-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb5142552629-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb5142552629-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb5142552629-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868fb5142552629-1\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">vim</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5plugins</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Updated </span><span class=\"crayon-v\">test1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">go </span><span class=\"crayon-e\">example </span><span class=\"crayon-i\">file</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb5142552629-2\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># Please enter the commit message for your changes. Lines starting</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb5142552629-3\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># with '#' will be ignored, and an empty message aborts the commit.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb5142552629-4\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb5142552629-5\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># On branch master</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb5142552629-6\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># Your branch is up to date with 'origin/master'.</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb5142552629-7\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb5142552629-8\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># Changes to be committed:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb5142552629-9\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#       modified:   vim-5plugins/examples/test1.go</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb5142552629-10\"> <span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>按 <code>:wq</code> 保存文件完成提交：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868fb8342619572\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[master c3bf80f] vim-5plugins: Updated test1.go example file\r\n 1 file changed, 2 insertions(+), 2 deletions(-)\r\nPress ENTER or type command to continue</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb8342619572-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fb8342619572-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fb8342619572-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868fb8342619572-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-e\">master </span><span class=\"crayon-v\">c3bf80f</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">vim</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5plugins</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Updated </span><span class=\"crayon-v\">test1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">go </span><span class=\"crayon-e\">example </span><span class=\"crayon-i\">file</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fb8342619572-2\"> <span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">file </span><span class=\"crayon-v\">changed</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">insertions</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">+</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">deletions</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fb8342619572-3\"><span class=\"crayon-e\">Press </span><span class=\"crayon-e\">ENTER </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">type </span><span class=\"crayon-e\">command </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">continue</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>然后你可以再用 <code>:Gstatus</code> 检查结果并用 <code>:Gpush</code> 把新的提交推送到远程。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e868fbc432584639\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n  1 # On branch master\r\n  2 # Your branch is ahead of 'origin/master' by 1 commit.\r\n  3 #   (use \"git push\" to publish your local commits)\r\n  4 #\r\n  5 nothing to commit, working tree clean</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fbc432584639-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fbc432584639-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fbc432584639-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e868fbc432584639-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e868fbc432584639-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e868fbc432584639-1\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># On branch master</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fbc432584639-2\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># Your branch is ahead of 'origin/master' by 1 commit.</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fbc432584639-3\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#   (use \"git push\" to publish your local commits)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e868fbc432584639-4\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e868fbc432584639-5\"> <span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">commit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">working </span><span class=\"crayon-e\">tree </span><span class=\"crayon-v\">clean</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>Vim Fugitive 的 GitHub 项目主页有很多屏幕录像展示了它的更多功能和工作流，如果你喜欢它并想多学一些，快去看看吧。</p>\n<h3 id=\"toc_6\">接下来？</h3>\n<p>这些 Vim 插件都是程序开发者的神器！还有另外两类开发者常用的插件：自动完成插件和语法检查插件。它些大都是和具体的编程语言相关的，以后我会在一些文章中介绍它们。</p>\n<p>你在写代码时是否用到一些其它 Vim 插件？请在评论区留言分享。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114666\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114666votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114666\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/08ac35a6907afdc44b9bbe0aecae68fad0d312eb.jpg"}{"url_object_id": "20c5179a9c423c14f159b40c937f1eb5", "title": "Python 中星号的本质及其使用方式", "url": "http://blog.jobbole.com/114655/", "create_date": "2019/02/16", "front_image_url": ["https://images.unsplash.com/photo-1526379095098-d400fd0bf935?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1189&q=80"], "praise_nums": "1", "fav_nums": "3", "comment": "2", "tags": "Python", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/wx1763043264\">Abandon_first</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://treyhunner.com/2018/10/asterisks-in-python-what-they-are-and-how-to-use-them/\">Trey Hunner</a>。欢迎加入<a target=\"_blank\" href=\"https://github.com/jobbole/translation-project\">翻译组</a>。</div><p>在 Python 中有很多地方可以看到<code>*</code>和<code>**</code>。在某些情形下，无论是对于新手程序员，还是从其他很多没有完全相同操作符的编程语言迁移过来的人来说，这两个操作符都可能有点神秘。因此，我想讨论一下这些操作符的本质及其使用方式。</p>\n<p>多年以来，<code>*</code>和<code>**</code>操作符的功能不断增强。在本文中，我将讨论目前这些操作符所有的使用方法，并指出哪些使用方法只能在目前的 Python 版本中应用。因此，如果你学习过 Python 2 中<code>*</code>和<code>**</code>的使用方法，那么我建议你至少浏览一下本文，因为 Python 3 中添加了许多<code>*</code>和<code>**</code>的新用途。</p>\n<p>如果你是新接触 Python 不久，还不熟悉关键字参数(亦称为命名参数)，我建议你首先阅读我有关<a href=\"https://treyhunner.com/2018/04/keyword-arguments-in-python/\">Python中的关键字参数</a>的文章。</p>\n<h2>不属于我们讨论范围的内容</h2>\n<p>在本文中， 当我讨论<code>*</code>和<code>**</code>时，我指的是<code>*</code>和<code>**</code> <em>前缀</em> 操作符，而不是 <em>中缀</em> 操作符。</p>\n<p>也就是说，我讲述的不是乘法和指数运算：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b5e375521410\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; 2 * 5\r\n10 \r\n&gt;&gt;&gt; 2 ** 5 \r\n32</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b5e375521410-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b5e375521410-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b5e375521410-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b5e375521410-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b5e375521410-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b5e375521410-2\"><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b5e375521410-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b5e375521410-4\"><span class=\"crayon-cn\">32</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p></p>\n<h2>那么我们在讨论什么内容呢?</h2>\n<p>我们讨论的是<code>*</code>和<code>**</code>前缀运算符，即在变量前使用的<code>*</code>和<code>**</code>运算符。例如:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b67302897818\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; numbers = [2, 1, 3, 4, 7]\r\n&gt;&gt;&gt; more_numbers = [*numbers, 11, 18]\r\n&gt;&gt;&gt; print(*more_numbers, sep=', ')\r\n2, 1, 3, 4, 7, 11, 18</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b67302897818-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b67302897818-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b67302897818-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b67302897818-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b67302897818-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">numbers</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b67302897818-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">more_numbers</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">*</span><span class=\"crayon-k \">numbers</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b67302897818-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">more_numbers</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sep</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">', '</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b67302897818-4\"><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n<p>上述代码中展示了<code>*</code>的两种用法，没有展示<code>**</code>的用法。</p>\n<p>这其中包括：</p>\n<ol>\n<li>使用<code>*</code>和<code>**</code>向函数传递参数</li>\n<li>使用<code>*</code>和<code>**</code>捕获被传递到函数中的参数</li>\n<li>使用<code>*</code>接受只包含关键字的参数</li>\n<li>使用<code>*</code>在元组解包时捕获项</li>\n<li>使用<code>*</code>将迭代项解压到列表/元组中</li>\n<li>使用<code>**</code>将字典解压到其他字典中</li>\n</ol>\n<p>即使你认为自己已经熟悉<code>*</code> 和 <code>**</code>的所有使用方法，我还是建议你查看下面的每个代码块，以确保都是你熟悉的内容。在过去的几年里，Python 核心开发人员不断地为这些操作符添加新的功能，对于使用者来说很容易忽略<code>*</code> 和 <code>**</code>‘的一些新用法。</p>\n<h2>星号用于将可迭代对象拆分并分别作为函数参数</h2>\n<p>当调用函数时，<code>*</code>运算符可用于将一个迭代项解压缩到函数调用中的参数中：</p>\n<p> </p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b6c326635075\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; fruits = ['lemon', 'pear', 'watermelon', 'tomato']\r\n&gt;&gt;&gt; print(fruits[0], fruits[1], fruits[2], fruits[3])\r\nlemon pear watermelon tomato \r\n&gt;&gt;&gt; print(*fruits)\r\nlemon pear watermelon tomato</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b6c326635075-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b6c326635075-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b6c326635075-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b6c326635075-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b6c326635075-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b6c326635075-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'lemon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pear'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b6c326635075-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b6c326635075-3\"><span class=\"crayon-e\">lemon </span><span class=\"crayon-e\">pear </span><span class=\"crayon-e\">watermelon </span><span class=\"crayon-v\">tomato</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b6c326635075-4\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b6c326635075-5\"><span class=\"crayon-e\">lemon </span><span class=\"crayon-e\">pear </span><span class=\"crayon-e\">watermelon </span><span class=\"crayon-v\">tomato</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p><code>print(*fruits)</code>代码行将<code>fruits</code>列表中的所有项作为独立的参数传递给<code>print</code>函数调用，甚至不需要我们知道列表中有多少个参数。</p>\n<p><code>*</code>运算符在这里远不止是语法糖而已。要想用一个特定的迭代器将所有项作为独立的参数传输，若不使用<code>*</code>是不可能做到的，除非列表的长度是固定的。</p>\n<p>下面是另一个例子：</p>\n<p> </p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b70126153424\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef transpose_list(list_of_lists):\r\n    return [\r\n        list(row)\r\n        for row in zip(*list_of_lists)\r\n    ]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b70126153424-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b70126153424-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b70126153424-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b70126153424-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b70126153424-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b70126153424-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">transpose_list</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">list_of_lists</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b70126153424-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b70126153424-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-k \">list</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">row</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b70126153424-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">row </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">zip</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">list_of_lists</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b70126153424-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p> </p>\n<p>这里我们接受一个二维列表并返回一个“转置”的二维列表。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b74878156018\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; transpose_list([[1, 4, 7], [2, 5, 8], [3, 6, 9]])\r\n[[1, 2, 3], [4, 5, 6], [7, 8, 9]]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b74878156018-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b74878156018-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b74878156018-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">transpose_list</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b74878156018-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n<p><code>**</code>操作符完成了类似的操作，只不过使用了关键字参数。<code>**</code>运算符允许我们获取键-值对字典，并在函数调用中将其解压为关键字参数。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b77904050312\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; date_info = {'year': \"2020\", 'month': \"01\", 'day': \"01\"} \r\n&gt;&gt;&gt; filename = \"{year}-{month}-{day}.txt\".format(**date_info) \r\n&gt;&gt;&gt; filename '2020-01-01.txt' `</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b77904050312-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b77904050312-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b77904050312-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b77904050312-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">date_info</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'year'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"2020\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'month'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"01\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'day'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"01\"</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b77904050312-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">filename</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"{year}-{month}-{day}.txt\"</span><span class=\"crayon-sy\">.</span><span class=\"crayon-k \">format</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">date_info</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b77904050312-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">filename</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'2020-01-01.txt'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0063 seconds] -->\r\n<p>根据我的经验，使用<code>**</code>将关键字参数解压缩到函数调用中并不常见。我最常看到它的地方是在实现继承时：对<code>uper()</code>的调用通常包括<code>*</code>和<code>**</code>。</p>\n<p>如 Python 3.5 那样，在函数调用中，<code>*</code>和<code>**</code>都可以被多次使用。</p>\n<p>有时，多次使用<code>*</code>会很方便：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b7b483893034\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; fruits = ['lemon', 'pear', 'watermelon', 'tomato'] \r\n&gt;&gt;&gt; numbers = [2, 1, 3, 4, 7] \r\n&gt;&gt;&gt; print(*numbers, *fruits) \r\n2 1 3 4 7 lemon pear watermelon tomato `</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b7b483893034-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b7b483893034-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b7b483893034-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b7b483893034-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b7b483893034-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'lemon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pear'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b7b483893034-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">numbers</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b7b483893034-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-k \">numbers</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b7b483893034-4\"><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">lemon </span><span class=\"crayon-e\">pear </span><span class=\"crayon-e\">watermelon </span><span class=\"crayon-i\">tomato</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p> </p>\n<p>多次使用<code>**</code>也可以达到相似的效果:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b7f748539010\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; date_info = {'year': \"2020\", 'month': \"01\", 'day': \"01\"} \r\n&gt;&gt;&gt; track_info = {'artist': \"Beethoven\", 'title': 'Symphony No 5'} \r\n&gt;&gt;&gt; filename = \"{year}-{month}-{day}-{artist}-{title}.txt\".format( \r\n...     **date_info,\r\n...     **track_info,\r\n... ) \r\n&gt;&gt;&gt; filename \r\n'2020-01-01-Beethoven-Symphony No 5.txt'</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b7f748539010-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b7f748539010-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b7f748539010-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b7f748539010-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b7f748539010-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b7f748539010-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b7f748539010-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b7f748539010-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b7f748539010-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">date_info</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'year'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"2020\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'month'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"01\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'day'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"01\"</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b7f748539010-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">track_info</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'artist'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Beethoven\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'title'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Symphony No 5'</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b7f748539010-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">filename</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"{year}-{month}-{day}-{artist}-{title}.txt\"</span><span class=\"crayon-sy\">.</span><span class=\"crayon-k \">format</span><span class=\"crayon-sy\">(</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b7f748539010-4\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\">     </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">date_info</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b7f748539010-5\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\">     </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">track_info</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b7f748539010-6\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b7f748539010-7\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">filename</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b7f748539010-8\"><span class=\"crayon-s\">'2020-01-01-Beethoven-Symphony No 5.txt'</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>不过，在多次使用<code>**</code>时需要特别小心。Python 中的函数不能多次指定相同的关键字参数，因此在每个字典中与<code>**</code>一起使用的键必须能够相互区分，否则会引发异常。</p>\n<h2>星号用于压缩被传递到函数中的参数</h2>\n<p>在定义函数时，<code>*</code>运算符可用于捕获传递给函数的位置参数。位置参数的数量不受限制，捕获后被存储在一个元组中。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b82082898025\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfrom random import randint  \r\n\r\ndef roll(*dice):     \r\n    return sum(randint(1, die) for die in dice)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b82082898025-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b82082898025-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b82082898025-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b82082898025-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b82082898025-1\"><span class=\"crayon-st\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">random</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">randint  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b82082898025-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b82082898025-3\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">roll</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">dice</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b82082898025-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">sum</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">randint</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">die</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">die </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">dice</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>这个函数接受的参数数量不受限制：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b86191401706\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; roll(20) \r\n18 \r\n&gt;&gt;&gt; roll(6, 6) \r\n9 \r\n&gt;&gt;&gt; roll(6, 6, 6) \r\n8</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b86191401706-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b86191401706-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b86191401706-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b86191401706-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b86191401706-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b86191401706-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b86191401706-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">roll</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">20</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b86191401706-2\"><span class=\"crayon-cn\">18</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b86191401706-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">roll</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b86191401706-4\"><span class=\"crayon-cn\">9</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b86191401706-5\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">roll</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b86191401706-6\"><span class=\"crayon-cn\">8</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>Python 的<code>print</code>和<code>zip</code>函数接受的位置参数数量不受限制。<code>*</code>的这种参数压缩用法，允许我们创建像<code>print</code>和<code>zip</code>一样的函数，接受任意数量的参数。</p>\n<p><code>**</code>运算符也有另外一个功能：我们在定义函数时，可以使用<code>**</code> 捕获传进函数的任何关键字参数到一个字典当中:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b89894995901\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef tag(tag_name, **attributes):\r\n    attribute_list = [\r\n        f'{name}=\"{value}\"'\r\n        for name, value in attributes.items()\r\n    ]     \r\n    return f\"&lt;{tag_name} {' '.join(attribute_list)}&gt;\"</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b89894995901-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b89894995901-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b89894995901-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b89894995901-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b89894995901-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b89894995901-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b89894995901-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tag</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tag_name</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">attributes</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b89894995901-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">attribute_list</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b89894995901-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-i\">f</span><span class=\"crayon-s\">'{name}=\"{value}\"'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b89894995901-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">value </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">attributes</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">items</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b89894995901-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b89894995901-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">f</span><span class=\"crayon-s\">\"&lt;{tag_name} {' '.join(attribute_list)}&gt;\"</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p><code>**</code> 将捕获我们传入这个函数中的任何关键字参数，并将其放入一个字典中，该字典将引用<code>attributes</code>参数。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b8d209587643\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; tag('a', href=\"http://treyhunner.com\")\r\n'&lt;a href=\"http://treyhunner.com\"&gt;' \r\n&gt;&gt;&gt; tag('img', height=20, width=40, src=\"face.jpg\") \r\n'&lt;img height=\"20\" width=\"40\" src=\"face.jpg\"&gt;'</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b8d209587643-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b8d209587643-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b8d209587643-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b8d209587643-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b8d209587643-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tag</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'a'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">href</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"http://treyhunner.com\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b8d209587643-2\"><span class=\"crayon-s\">'&lt;a href=\"http://treyhunner.com\"&gt;'</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b8d209587643-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tag</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'img'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">height</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">20</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">width</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">40</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">src</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"face.jpg\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b8d209587643-4\"><span class=\"crayon-s\">'&lt;img height=\"20\" width=\"40\" src=\"face.jpg\"&gt;'</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p></p>\n<h2>只有关键字参数的位置参数</h2>\n<p>在 Python 3 中，我们现在拥有了一种特殊的语法来接受只有关键字的函数参数。只有关键字的参数是<em>只能</em> 使用关键字语法来指定的函数参数，也就意味着不能按照位置来指定它们。</p>\n<p>在定义函数时，为了接受只有关键字的参数，我们可以将命名参数放在<code>*</code>后：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b90768372681\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef get_multiple(*keys, dictionary, default=None):\r\n    return [\r\n        dictionary.get(key, default)\r\n        for key in keys\r\n    ]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b90768372681-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b90768372681-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b90768372681-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b90768372681-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b90768372681-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b90768372681-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">get_multiple</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">keys</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">dictionary</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">default</span><span class=\"crayon-o\">=</span><span class=\"crayon-t\">None</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b90768372681-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b90768372681-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">dictionary</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">get</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">key</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">default</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b90768372681-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">key </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">keys</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b90768372681-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>上面的函数可以像这样使用：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b93752635264\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; fruits = {'lemon': 'yellow', 'orange': 'orange', 'tomato': 'red'} \r\n&gt;&gt;&gt; get_multiple('lemon', 'tomato', 'squash', dictionary=fruits, default='unknown'）\r\n['yellow', 'red', 'unknown']</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b93752635264-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b93752635264-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b93752635264-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b93752635264-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'lemon'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'orange'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'orange'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b93752635264-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">get_multiple</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'lemon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'squash'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">dictionary</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">default</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'unknown'</span>）</div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b93752635264-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'unknown'</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>参数<code>dictionary</code>和<code>default</code>在<code>*keys</code>后面，这意味着它们<em>只能</em> 被指定为<a href=\"https://treyhunner.com/2018/04/keyword-arguments-inpython/\">关键字参数</a>。如果我们试图按照位置来指定它们，我们会得到一个报错：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b97526652439\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; fruits = {'lemon': 'yellow', 'orange': 'orange', 'tomato': 'red'} \r\n&gt;&gt;&gt; get_multiple('lemon', 'tomato', 'squash', fruits, 'unknown') \r\nTraceback (most recent call last):\r\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\r\nTypeError: get_multiple() missing 1 required keyword-only argument: 'dictionary'</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b97526652439-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b97526652439-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b97526652439-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b97526652439-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b97526652439-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b97526652439-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'lemon'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'orange'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'orange'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b97526652439-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">get_multiple</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'lemon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'squash'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'unknown'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b97526652439-3\"><span class=\"crayon-k \">Traceback</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">most </span><span class=\"crayon-e\">recent </span><span class=\"crayon-e\">call </span><span class=\"crayon-v\">last</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b97526652439-4\"><span class=\"crayon-k \">File</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"&lt;stdin&gt;\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">line</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">module</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b97526652439-5\"><span class=\"crayon-k \">TypeError</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">get_multiple</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">missing</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">required </span><span class=\"crayon-k \">keyword</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">only </span><span class=\"crayon-v\">argument</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'dictionary'</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0023 seconds] -->\r\n<p> </p>\n<p>这种行为是通过 <a href=\"https://www.python.org/dev/peps/pep-3102/\">PEP 3102</a> 被引入到 Python 中的。</p>\n<h2>没有位置参数关键字的参数</h2>\n<p>只使用关键字参数的特性很酷，但是如果您希望只使用关键字参数而不捕获无限的位置参数呢?</p>\n<p>Python 使用一种有点奇怪的 单独<code>*</code> 语法来实现：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b9a165906853\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef with_previous(iterable, *, fillvalue=None):\r\n    \"\"\"Yield each iterable item along with the item before it.\"\"\"     \r\n    previous = fillvalue     \r\n    for item in iterable:         \r\n        yield previous, item         \r\n        previous = item</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b9a165906853-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b9a165906853-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b9a165906853-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b9a165906853-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b9a165906853-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b9a165906853-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b9a165906853-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">with_previous</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">iterable</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fillvalue</span><span class=\"crayon-o\">=</span><span class=\"crayon-t\">None</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b9a165906853-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"\"\"Yield each iterable item along with the item before it.\"\"\"</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b9a165906853-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">previous</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">fillvalue     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b9a165906853-4\"><span class=\"crayon-e\">    </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">item </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">iterable</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">         </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b9a165906853-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-r\">yield</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">previous</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">item         </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b9a165906853-6\"><span class=\"crayon-e\">        </span><span class=\"crayon-v\">previous</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">item</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>这个函数接受一个<code>迭代器</code>参数，可以按照位置或名字来指定此参数（作为第一个参数），以及关键字参数<code>fillvalue</code>，这个填充值参数只使用关键字。这意味着我们可以像下面这样调用 with_previous：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8b9e272021318\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; list(with_previous([2, 1, 3], fillvalue=0)) \r\n[(0, 2), (2, 1), (1, 3)]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8b9e272021318-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8b9e272021318-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8b9e272021318-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">list</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">with_previous</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fillvalue</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8b9e272021318-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>但像这样就不可以：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8ba1120249257\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; list(with_previous([2, 1, 3], 0))\r\nTraceback (most recent call last):  \r\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt; \r\nTypeError: with_previous() takes 1 positional argument but 2 were given `</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8ba1120249257-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8ba1120249257-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8ba1120249257-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8ba1120249257-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8ba1120249257-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">list</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">with_previous</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8ba1120249257-2\"><span class=\"crayon-k \">Traceback</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">most </span><span class=\"crayon-e\">recent </span><span class=\"crayon-e\">call </span><span class=\"crayon-v\">last</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8ba1120249257-3\"><span class=\"crayon-k \">File</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"&lt;stdin&gt;\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">line</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">module</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8ba1120249257-4\"><span class=\"crayon-k \">TypeError</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">with_previous</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">takes</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">positional </span><span class=\"crayon-e\">argument </span><span class=\"crayon-i\">but</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">were </span><span class=\"crayon-i\">given</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0020 seconds] -->\r\n<p>这个函数接受两个参数，其中<code>fillvalue</code>参数<em>必须被指定为关键字参数</em>。</p>\n<p>我通常在获取任意数量的位置参数时只使用关键字参数，但我有时使用这个<code>*</code>强制按照位置指定一个参数。</p>\n<p>实际上，Python 的内置<code>sorted</code>函数使用了这种方法。如果你查看<code>sorted</code>的帮助信息，将看到以下信息：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8ba5631087787\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; help(sorted) \r\nHelp on built-in function sorted in module builtins: \r\n\r\nsorted(iterable, /, *, key=None, reverse=False)     \r\n    Return a new list containing all items from the iterable in ascending order.  \r\n    A custom key function can be supplied to customize the sort order, and the     \r\n    reverse flag can be set to request the result in descending order.</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8ba5631087787-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8ba5631087787-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8ba5631087787-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8ba5631087787-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8ba5631087787-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8ba5631087787-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8ba5631087787-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8ba5631087787-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">help</span><span class=\"crayon-sy\">(</span><span class=\"crayon-k \">sorted</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8ba5631087787-2\"><span class=\"crayon-k \">Help</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">on </span><span class=\"crayon-v\">built</span><span class=\"crayon-o\">-</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">function </span><span class=\"crayon-k \">sorted</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">module </span><span class=\"crayon-v\">builtins</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8ba5631087787-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8ba5631087787-4\"><span class=\"crayon-k \">sorted</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">iterable</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">key</span><span class=\"crayon-o\">=</span><span class=\"crayon-t\">None</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">reverse</span><span class=\"crayon-o\">=</span><span class=\"crayon-t\">False</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8ba5631087787-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">Return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">list</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">containing </span><span class=\"crayon-k \">all</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">items </span><span class=\"crayon-st\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">iterable </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ascending </span><span class=\"crayon-v\">order</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8ba5631087787-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">custom </span><span class=\"crayon-e\">key </span><span class=\"crayon-e\">function </span><span class=\"crayon-e\">can </span><span class=\"crayon-e\">be </span><span class=\"crayon-e\">supplied </span><span class=\"crayon-e\">to </span><span class=\"crayon-e\">customize </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">sort </span><span class=\"crayon-v\">order</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the     </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8ba5631087787-7\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">reverse </span><span class=\"crayon-e\">flag </span><span class=\"crayon-e\">can </span><span class=\"crayon-e\">be </span><span class=\"crayon-k \">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">to </span><span class=\"crayon-e\">request </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">result </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">descending </span><span class=\"crayon-v\">order</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0029 seconds] -->\r\n<p>在<code>sorted</code>的官方说明中，有一个单独的<code>*</code>参数。</p>\n<h2>星号用于元组拆包</h2>\n<p>Python 3 还新添了一种 <code>*</code> 运算符的使用方式，它只与上面定义函数时和调用函数时<code>*</code>的使用方式相关。</p>\n<p>现在，<code>*</code>操作符也可以用于元组拆包：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8ba8052343380\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; fruits = ['lemon', 'pear', 'watermelon', 'tomato'] \r\n&gt;&gt;&gt; first, second, *remaining = fruits \r\n&gt;&gt;&gt; remaining \r\n['watermelon', 'tomato'] \r\n&gt;&gt;&gt; first, *remaining = fruits \r\n&gt;&gt;&gt; remaining \r\n['pear', 'watermelon', 'tomato'] \r\n&gt;&gt;&gt; first, *middle, last = fruits \r\n&gt;&gt;&gt; middle \r\n['pear', 'watermelon']</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8ba8052343380-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8ba8052343380-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8ba8052343380-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8ba8052343380-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8ba8052343380-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8ba8052343380-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8ba8052343380-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8ba8052343380-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8ba8052343380-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8ba8052343380-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8ba8052343380-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'lemon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pear'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8ba8052343380-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">first</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">second</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">remaining</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8ba8052343380-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">remaining</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8ba8052343380-4\"><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8ba8052343380-5\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">first</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">remaining</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8ba8052343380-6\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">remaining</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8ba8052343380-7\"><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'pear'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8ba8052343380-8\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">first</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">middle</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">last</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8ba8052343380-9\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">middle</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8ba8052343380-10\"><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'pear'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0026 seconds] -->\r\n<p>如果你想知道什么情况下可以在你自己的代码中使用它，请查看我关于 <a href=\"https://treyhunner.com/2018/03/tuple-unpacking-improves-python-code-readability/\">Python 中的 tuple 解包</a> 文章中的示例。在那篇文章中，我将展示如何使用<code>*</code>操作符作为序列切片的替代方法。</p>\n<p>通常当我教<code>*</code>的时候，我告诉大家只能在多重赋值语句中使用一个<code>*</code>表达式。实际来说这是不正确的，因为可以在嵌套解包中使用两个<code>*</code>（我在元组解包文章中讨论了嵌套解包）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8bac765223715\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; fruits = ['lemon', 'pear', 'watermelon', 'tomato'] \r\n&gt;&gt;&gt; first, second, *remaining = fruits \r\n&gt;&gt;&gt; remaining \r\n['watermelon', 'tomato'] \r\n&gt;&gt;&gt; first, *remaining = fruits \r\n&gt;&gt;&gt; remaining \r\n['pear', 'watermelon', 'tomato'] \r\n&gt;&gt;&gt; first, *middle, last = fruits \r\n&gt;&gt;&gt; middle \r\n['pear', 'watermelon']</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bac765223715-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bac765223715-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bac765223715-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bac765223715-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bac765223715-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bac765223715-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bac765223715-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bac765223715-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bac765223715-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bac765223715-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bac765223715-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'lemon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pear'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bac765223715-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">first</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">second</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">remaining</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bac765223715-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">remaining</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bac765223715-4\"><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bac765223715-5\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">first</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">remaining</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bac765223715-6\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">remaining</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bac765223715-7\"><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'pear'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bac765223715-8\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">first</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">middle</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">last</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bac765223715-9\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">middle</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bac765223715-10\"><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'pear'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0025 seconds] -->\r\n<p>但是，我从来没见过它有什么实际用处，即使你因为它看起来有点神秘而去寻找一个例子，我也并不推荐这种使用方式。</p>\n<p>将此添加到 Python 3.0 中的 PEP 是 <a href=\"https://www.python.org/dev/peps/pep-3132/\">PEP 3132</a>，其篇幅不是很长。</p>\n<h2>列表文字中的星号</h2>\n<p>Python 3.5 通过 <a href=\"https://www.python.org/dev/peps/pep-0448/\">PEP 448</a> 引入了大量与<code>*</code>相关的新特性。其中最大的新特性之一是能够使用<code>*</code>将迭代器转储到新列表中。</p>\n<p>假设你有一个函数，它以任一序列作为输入，返回一个列表，其中该序列和序列的倒序连接在了一起：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8bb0971610379\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef palindromify(sequence):   \r\n    return list(sequence) + list(reversed(sequence))</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bb0971610379-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bb0971610379-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bb0971610379-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">palindromify</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sequence</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">   </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bb0971610379-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">list</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sequence</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-k \">list</span><span class=\"crayon-sy\">(</span><span class=\"crayon-k \">reversed</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sequence</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>此函数需要多次将序列转换为列表，以便连接列表并返回结果。在 Python 3.5 中，我们可以这样编写函数：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8bb4562925771\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef palindromify(sequence):  \r\n    return [*sequence, *reversed(sequence)]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bb4562925771-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bb4562925771-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bb4562925771-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">palindromify</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sequence</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bb4562925771-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">sequence</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-k \">reversed</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sequence</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>这段代码避免了一些不必要的列表调用，因此我们的代码更高效，可读性更好。</p>\n<p>下面是另一个例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8bb7007326052\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef rotate_first_item(sequence):     \r\n    return [*sequence[1:], sequence[0]]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bb7007326052-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bb7007326052-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bb7007326052-1\"><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rotate_first_item</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sequence</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bb7007326052-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">sequence</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sequence</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>该函数返回一个新列表，其中给定列表(或其他序列)中的第一项被移动到了新列表的末尾。</p>\n<p><code>*</code> 运算符的这种使用是将不同类型的迭代器连接在一起的好方法。<code>*</code> 运算符适用于连接任何种类的迭代器，然而 <code>+</code> 运算符只适用于类型都相同的特定序列。</p>\n<p>除了创建列表存储迭代器以外，我们还可以将迭代器转储到新的元组或集合中：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8bbb415114883\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; fruits = ['lemon', 'pear', 'watermelon', 'tomato'] \r\n&gt;&gt;&gt; (*fruits[1:], fruits[0]) \r\n('pear', 'watermelon', 'tomato', 'lemon') \r\n&gt;&gt;&gt; uppercase_fruits = (f.upper() for f in fruits) \r\n&gt;&gt;&gt; {*fruits, *uppercase_fruits}\r\n{'lemon', 'watermelon', 'TOMATO', 'LEMON', 'PEAR', 'WATERMELON', 'tomato', 'pear'}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bbb415114883-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bbb415114883-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bbb415114883-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bbb415114883-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bbb415114883-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bbb415114883-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bbb415114883-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'lemon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pear'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bbb415114883-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bbb415114883-3\"><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'pear'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'lemon'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bbb415114883-4\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">uppercase_fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">f</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">upper</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bbb415114883-5\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">uppercase_fruits</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bbb415114883-6\"><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'lemon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'watermelon'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'TOMATO'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'LEMON'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'PEAR'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'WATERMELON'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tomato'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pear'</span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0026 seconds] -->\r\n<p>注意，上面的最后一行使用了一个列表和一个生成器，并将它们转储到一个新的集合中。在此之前，并没有一种简单的方法可以在一行代码中完成这项工作。曾经有一种方法可以做到这一点，可是并不容易被记住或发现：</p>\n<p> </p>\n<h2>两个星号用于字典文本</h2>\n<p>PEP 448 还通过允许将键/值对从一个字典转储到一个新字典扩展了<code>**</code>操作符的功能：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8bbe127784607\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; date_info = {'year': \"2020\", 'month': \"01\", 'day': \"01\"} \r\n&gt;&gt;&gt; track_info = {'artist': \"Beethoven\", 'title': 'Symphony No 5'} \r\n&gt;&gt;&gt; all_info = {**date_info, **track_info} \r\n&gt;&gt;&gt; all_info\r\n{'year': '2020', 'month': '01', 'day': '01', 'artist': 'Beethoven', 'title': 'Symphony No 5'}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bbe127784607-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bbe127784607-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bbe127784607-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bbe127784607-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bbe127784607-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bbe127784607-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">date_info</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'year'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"2020\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'month'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"01\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'day'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"01\"</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bbe127784607-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">track_info</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'artist'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Beethoven\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'title'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Symphony No 5'</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bbe127784607-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">all_info</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">date_info</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">track_info</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bbe127784607-4\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">all_info</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bbe127784607-5\"><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'year'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'2020'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'month'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'01'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'day'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'01'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'artist'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Beethoven'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'title'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Symphony No 5'</span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0025 seconds] -->\r\n<p>我还写了另一篇文章：<a href=\"https://treyhunner.com/2016/02/howtomerdictionaries-python/\">在Python中合并字典的惯用方法</a>。</p>\n<p>不过，<code>**</code>操作符不仅仅可以用于合并两个字典。</p>\n<p>例如，我们可以在复制一个字典的同时添加一个新值：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8bc2302070002\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; date_info = {'year': '2020', 'month': '01', 'day': '7'} \r\n&gt;&gt;&gt; event_info = {**date_info, 'group': \"Python Meetup\"} \r\n&gt;&gt;&gt; event_info \r\n{'year': '2020', 'month': '01', 'day': '7', 'group': 'Python Meetup'}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bc2302070002-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bc2302070002-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bc2302070002-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bc2302070002-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bc2302070002-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">date_info</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'year'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'2020'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'month'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'01'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'day'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'7'</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bc2302070002-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event_info</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">date_info</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'group'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Python Meetup\"</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bc2302070002-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">event_info</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bc2302070002-4\"><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'year'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'2020'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'month'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'01'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'day'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'7'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'group'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Python Meetup'</span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n<p>或者在复制/合并字典的同时重写特定的值：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e5a8bc5602325749\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; event_info = {'year': '2020', 'month': '01', 'day': '7', 'group': 'Python Meetup'} \r\n&gt;&gt;&gt; new_info = {**event_info, 'day': \"14\"}\r\n&gt;&gt;&gt; new_info\r\n{'year': '2020', 'month': '01', 'day': '14', 'group': 'Python Meetup'}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bc5602325749-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bc5602325749-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e5a8bc5602325749-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e5a8bc5602325749-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bc5602325749-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event_info</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'year'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'2020'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'month'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'01'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'day'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'7'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'group'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Python Meetup'</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bc5602325749-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">new_info</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">event_info</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'day'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"14\"</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e5a8bc5602325749-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">new_info</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e5a8bc5602325749-4\"><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'year'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'2020'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'month'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'01'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'day'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'14'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'group'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Python Meetup'</span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p></p>\n<h2>Python 的星号非常强大</h2>\n<p>Python 的 <code>*</code> 和 <code>**</code> 运算符不仅仅是语法糖。 <code>*</code> 和 <code>**</code> 运算符允许的某些操作可以通过其他方式实现，但是往往更麻烦和更耗费资源。而且 <code>*</code> 和 <code>**</code> 运算符提供的某些特性没有替代方法实现：例如，函数在不使用 <code>*</code> 时就无法接受任意数量的位置参数。</p>\n<p>在阅读了<code>*</code> 和 <code>**</code> 运算符的所有特性之后，您可能想知道这些奇怪操作符的名称。不幸的是，它们的名字并不简练。我听说过<code>*</code> 被称为“打包”和“拆包“运算符。我还听说过其被称为“splat”(来自 Ruby 世界)，也听说过被简单地称为“star”。</p>\n<p>我倾向于称这些操作符为“星”和“双星”或“星星”。这种叫法并不能区分它们和它们的中缀关系(乘法和指数运算)，但是通常我们可以从上下文清楚地知道是在讨论前缀运算符还是中缀运算符。</p>\n<p>请勿在不理解<code>*</code> 和 <code>**</code> 运算符的前提下记住它们的所有用法！这些操作符有很多用途，记住每种操作符的具体用法并不重要，重要的是了解你何时能够使用这些操作符。我建议使用这篇文章作为一个<strong>备忘单</strong>或者制作你自己的备忘单来帮助你在 Python 中使用解<code>*</code> 和 <code>**</code> 。</p>\n<h2>喜欢我的教学风格吗？</h2>\n<p>想了解更多关于 Python 的知识吗？我每周通过实时聊天分享我最喜欢的 Python 资源、回答 Python 问题。在下方注册，我将回答你提出的关于如何使 Python 代码更具有描述性、可读性和更 Python 化的<strong>问题</strong>。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114655\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114655votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114655\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx1763043264\">Abandon_first</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx1763043264\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            人。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/wx1763043264\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/wx1763043264/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/wx1763043264/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 2</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/76a371bfd8e7200bc6a092c76c8c5b0ec17e7e98.jpg"}{"url_object_id": "d0f7a07ae5c359a9270e687739c16dd1", "title": "优化 JS 条件语句的 5 个技巧", "url": "http://blog.jobbole.com/114671/", "create_date": "2019/03/22", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2014/01/578f813c1b14702dae808fa9456828f7.png"], "praise_nums": "1", "fav_nums": "2", "comment": "", "tags": "IT技术,Javascript", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/wx3433627156\">Mr.Dcheng</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://scotch.io/tutorials/5-tips-to-write-better-conditionals-in-javascript\">@jecelyn</a>。欢迎加入<a target=\"_blank\" href=\"https://github.com/jobbole/translation-project\">翻译组</a>。</div><p>在使用 JavaScript 时，我们会处理很多条件语句，这里有 5 个技巧可以帮助您编写更好、更简洁的条件语句。</p>\n<h3>1、对多个条件使用 Array.includes</h3>\n<p>让我们看看下面的例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e94050c314096156\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// condition\r\nfunction test(fruit) {\r\n  if (fruit == 'apple' || fruit == 'strawberry') {\r\n    console.log('red');\r\n  }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e94050c314096156-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94050c314096156-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94050c314096156-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94050c314096156-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94050c314096156-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94050c314096156-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e94050c314096156-1\"><span class=\"crayon-c\">// condition</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94050c314096156-2\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94050c314096156-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94050c314096156-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94050c314096156-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94050c314096156-6\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>乍一看，上面的例子看起来不错。然而，如果还有更多红颜色的水果需要判断呢，比如樱桃和小红莓，我们要用更多的 || 来扩展这个表述吗？</p>\n<p>我们可以用 Array.includes 重写上面的条件</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e940515293256681\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction test(fruit) {\r\n  // extract conditions to array\r\n  const redFruits = ['apple', 'strawberry', 'cherry', 'cranberries'];\r\n\r\n  if (redFruits.includes(fruit)) {\r\n    console.log('red');\r\n  }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e940515293256681-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940515293256681-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940515293256681-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940515293256681-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940515293256681-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940515293256681-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940515293256681-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940515293256681-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e940515293256681-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940515293256681-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// extract conditions to array</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940515293256681-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cherry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cranberries'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940515293256681-4\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e940515293256681-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">includes</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940515293256681-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940515293256681-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940515293256681-8\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>我们将红色水果（条件）提取到一个数组中。这样做之后，代码看起来更整洁。</p>\n<h3>2、更少的嵌套，尽早返回</h3>\n<p>让我们扩展前面的示例，以包含另外两个条件：</p>\n<ul>\n<li>如果没有提供水果（名称），抛出错误。</li>\n<li>如果（红色水果）数量超过 10 个，接受并打印。</li>\n</ul>\n<p>看看上面的代码，我们有：</p>\n<ul>\n<li>1 组过滤无效条件的 if/else 语句</li>\n<li>3层的 if 嵌套语句（条件 1、2 和 3）</li>\n</ul>\n<p>我个人遵循的一般规则是，<strong>当发现无效条件时，提前返回。</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e940519436355288\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/_ return early when invalid conditions found _/\r\n\r\nfunction test(fruit, quantity) {\r\n  const redFruits = ['apple', 'strawberry', 'cherry', 'cranberries'];\r\n\r\n  // condition 1: throw error early\r\n  if (!fruit) throw new Error('No fruit!');\r\n\r\n  // condition 2: must be red\r\n  if (redFruits.includes(fruit)) {\r\n    console.log('red');\r\n\r\n    // condition 3: must be big quantity\r\n    if (quantity &amp;gt; 10) {\r\n      console.log('big quantity');\r\n    }\r\n  }\r\n}\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e940519436355288-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940519436355288-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940519436355288-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940519436355288-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940519436355288-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940519436355288-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940519436355288-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940519436355288-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940519436355288-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940519436355288-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940519436355288-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940519436355288-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940519436355288-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940519436355288-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940519436355288-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940519436355288-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940519436355288-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940519436355288-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940519436355288-19\">19</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e940519436355288-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-i\">_</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">early </span><span class=\"crayon-e\">when </span><span class=\"crayon-e\">invalid </span><span class=\"crayon-e\">conditions </span><span class=\"crayon-i\">found</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940519436355288-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e940519436355288-3\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">quantity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940519436355288-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cherry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cranberries'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940519436355288-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940519436355288-6\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition 1: throw error early</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940519436355288-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">throw</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Error</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'No fruit!'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940519436355288-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e940519436355288-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition 2: must be red</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940519436355288-10\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">includes</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940519436355288-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940519436355288-12\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e940519436355288-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// condition 3: must be big quantity</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940519436355288-14\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">quantity</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">gt</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940519436355288-15\"><span class=\"crayon-h\">      </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'big quantity'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940519436355288-16\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940519436355288-17\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940519436355288-18\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940519436355288-19\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0023 seconds] -->\r\n<p>这样，我们就少了一层嵌套。这种编码风格很好，尤其是当你有很长的 if 语句时（想象一下，你需要滚动到最底部才能知道还有一个 else 语句，这并不酷）。</p>\n<p>通过反转条件和提早返回，我们可以进一步减少嵌套。看看下面的条件 2，我们是怎么做的：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e94051d653029817\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/_ return early when invalid conditions found _/\r\n\r\nfunction test(fruit, quantity) {\r\n  const redFruits = ['apple', 'strawberry', 'cherry', 'cranberries'];\r\n\r\n  if (!fruit) throw new Error('No fruit!'); // condition 1: throw error early\r\n  if (!redFruits.includes(fruit)) return; // condition 2: stop when fruit is not red\r\n\r\n  console.log('red');\r\n\r\n  // condition 3: must be big quantity\r\n  if (quantity &amp;gt; 10) {\r\n    console.log('big quantity');\r\n  }\r\n}\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e94051d653029817-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94051d653029817-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94051d653029817-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94051d653029817-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94051d653029817-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94051d653029817-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94051d653029817-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94051d653029817-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94051d653029817-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94051d653029817-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94051d653029817-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94051d653029817-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94051d653029817-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94051d653029817-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94051d653029817-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94051d653029817-16\">16</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e94051d653029817-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-i\">_</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">early </span><span class=\"crayon-e\">when </span><span class=\"crayon-e\">invalid </span><span class=\"crayon-e\">conditions </span><span class=\"crayon-i\">found</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94051d653029817-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e94051d653029817-3\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">quantity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94051d653029817-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cherry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cranberries'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94051d653029817-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94051d653029817-6\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">throw</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Error</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'No fruit!'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// condition 1: throw error early</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94051d653029817-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">includes</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// condition 2: stop when fruit is not red</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94051d653029817-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e94051d653029817-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94051d653029817-10\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e94051d653029817-11\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition 3: must be big quantity</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94051d653029817-12\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">quantity</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">gt</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94051d653029817-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'big quantity'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94051d653029817-14\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94051d653029817-15\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94051d653029817-16\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0024 seconds] -->\r\n<p>通过反转条件 2 的条件，我们的代码现在没有嵌套语句。当我们有很长的逻辑要处理时，这种技术是有用的，当一个条件没有满足时，我们想要停止进一步的处理。</p>\n<p>然而，这并不是<strong>严格的规则</strong>。问问自己，这个版本（没有嵌套）是否比前一个版本（嵌套的条件 2）更好、更易读？</p>\n<p>对于我来说，我将把它保留为以前的版本（条件 2 和嵌套）。这是因为：</p>\n<ul>\n<li>代码简短而直接，如果嵌套，代码就更清晰了</li>\n<li>反转条件可能会导致更多的思考过程（增加认知负担）</li>\n</ul>\n<p>因此，总是以更少的嵌套及尽早返回为目标，但不要过度。如果你感兴趣的话，StackOverflow 有一篇相关的文章讨论了这个话题：</p>\n<ul>\n<li><a href=\"http://blog.timoxley.com/post/47041269194/avoid-else-return-early\">Avoid Else, Return Early</a> by Tim Oxley</li>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/18454/should-i-return-from-a-function-early-or-use-an-if-statement\">StackOverflow discussion</a> 关于 if/else 编码风格的讨论</li>\n</ul>\n<h3>3、使用默认的函数参数和解构</h3>\n<p>我想下面的代码对您来说可能很熟悉，我们在使用 JavaScript 时总是需要检查 null 或 undefined 值并分配默认值:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e940521797057640\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction test(fruit, quantity) {\r\n  if (!fruit) return;\r\n  const q = quantity || 1; // if quantity not provided, default to one\r\n\r\n  console.log(`We have ${q} ${fruit}!`);\r\n}\r\n\r\n//test results\r\ntest('banana'); // We have 1 banana!\r\ntest('apple', 2); // We have 2 apple!</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e940521797057640-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940521797057640-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940521797057640-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940521797057640-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940521797057640-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940521797057640-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940521797057640-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940521797057640-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940521797057640-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940521797057640-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e940521797057640-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">quantity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940521797057640-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940521797057640-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">q</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">quantity</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// if quantity not provided, default to one</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940521797057640-4\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e940521797057640-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">`</span><span class=\"crayon-e\">We</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">have</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">q</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">}</span><span class=\"crayon-o\">!</span><span class=\"crayon-sy\">`</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940521797057640-6\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940521797057640-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940521797057640-8\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940521797057640-9\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// We have 1 banana!</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940521797057640-10\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// We have 2 apple!</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n<p>事实上，我们可以通过指定默认的函数参数来消除变量 <code>q</code>。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e940525589435710\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction test(fruit, quantity = 1) { // if quantity not provided, default to one\r\n  if (!fruit) return;\r\n  console.log(`We have ${quantity} ${fruit}!`);\r\n}\r\n\r\n//test results\r\ntest('banana'); // We have 1 banana!\r\ntest('apple', 2); // We have 2 apple!</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e940525589435710-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940525589435710-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940525589435710-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940525589435710-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940525589435710-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940525589435710-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940525589435710-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940525589435710-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e940525589435710-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">quantity</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// if quantity not provided, default to one</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940525589435710-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940525589435710-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">`</span><span class=\"crayon-e\">We</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">have</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">quantity</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">}</span><span class=\"crayon-o\">!</span><span class=\"crayon-sy\">`</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940525589435710-4\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940525589435710-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940525589435710-6\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940525589435710-7\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// We have 1 banana!</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940525589435710-8\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// We have 2 apple!</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>更简单和直观，不是吗？请注意，每个参数都可以有自己的默认函数参数。例如，我们也可以为 <code>fruit</code> 赋值：<code>function test(fruit = 'unknown'， quantity = 1)</code>。</p>\n<p>如果我们的 <code>fruit</code> 是一个对象呢？我们可以指定默认参数吗？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e940534678918625\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction test(fruit) {\r\n  // printing fruit name if value provided\r\n  if (fruit &amp;&amp; fruit.name)  {\r\n    console.log (fruit.name);\r\n  } else {\r\n    console.log('unknown');\r\n  }\r\n}\r\n\r\n//test results\r\ntest(undefined); // unknown\r\ntest({ }); // unknown\r\ntest({ name: 'apple', color: 'red' }); // apple</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e940534678918625-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940534678918625-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940534678918625-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940534678918625-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940534678918625-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940534678918625-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940534678918625-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940534678918625-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940534678918625-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940534678918625-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940534678918625-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940534678918625-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940534678918625-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e940534678918625-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940534678918625-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// printing fruit name if value provided</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940534678918625-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">name</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940534678918625-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">name</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940534678918625-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940534678918625-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'unknown'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940534678918625-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940534678918625-8\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940534678918625-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940534678918625-10\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940534678918625-11\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">undefined</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940534678918625-12\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940534678918625-13\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// apple</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0020 seconds] -->\r\n<p>请看上面的示例，如果 <code>fruit.name</code> 是可用的，我们将打印该水果名称，否则我们将打印 <code>unknown</code>。我们可以避免使用与默认函数参数和解构对条件 <code>fruit &amp;&amp; fruit.name</code> 进行检查。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e940538752014464\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// destructing - get name property only\r\n// assign default empty object {}\r\nfunction test({name} = {}) {\r\n  console.log (name || 'unknown');\r\n}\r\n\r\n//test results\r\ntest(undefined); // unknown\r\ntest({ }); // unknown\r\ntest({ name: 'apple', color: 'red' }); // apple</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e940538752014464-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940538752014464-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940538752014464-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940538752014464-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940538752014464-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940538752014464-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940538752014464-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940538752014464-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940538752014464-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940538752014464-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e940538752014464-1\"><span class=\"crayon-c\">// destructing - get name property only</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940538752014464-2\"><span class=\"crayon-c\">// assign default empty object {}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940538752014464-3\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-r\">name</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940538752014464-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'unknown'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940538752014464-5\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940538752014464-6\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e940538752014464-7\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940538752014464-8\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">undefined</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940538752014464-9\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940538752014464-10\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// apple</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>因为我们只需要水果中的属性 <code>name</code>，所以我们可以使用 <code>{name}</code> 来解构，然后我们可以在代码中使用 <code>name</code> 作为变量，而不是 <code>fruit.name</code>。</p>\n<p>我们还将空对象 <code>{}</code> 指定为默认值。如果我们不这样做，当执行 <code>test(undefined)</code>，不能解构 <code>undefined</code> 或 <code>null</code> 的属性名时，您将会得到错误。因为在 undefined中没有 <code>name</code> 属性。</p>\n<p>如果您不介意使用第三方库，有一些方法可以减少 null 检查：</p>\n<ul>\n<li>使用 Lodash 的 get 函数</li>\n<li>使用 Facebook 的开源库 idx（以及 Babeljs）</li>\n</ul>\n<p>这是使用 Lodash 的例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e94053c746758547\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// Include lodash library, you will get _\r\nfunction test(fruit) {\r\n  console.log(__.get(fruit, 'name', 'unknown'); // get property name, if not available, assign default value 'unknown'\r\n}\r\n\r\n//test results\r\ntest(undefined); // unknown\r\ntest({ }); // unknown\r\ntest({ name: 'apple', color: 'red' }); // apple</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053c746758547-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053c746758547-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053c746758547-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053c746758547-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053c746758547-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053c746758547-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053c746758547-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053c746758547-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053c746758547-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e94053c746758547-1\"><span class=\"crayon-c\">// Include lodash library, you will get _</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053c746758547-2\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94053c746758547-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">__</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">get</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'name'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'unknown'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// get property name, if not available, assign default value 'unknown'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053c746758547-4\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94053c746758547-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053c746758547-6\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94053c746758547-7\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">undefined</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053c746758547-8\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94053c746758547-9\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// apple</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>您可以在 <a href=\"https://jsbin.com/bopovajiye/edit?js,console\">这里</a> 运行演示代码。此外，如果你喜欢函数式编程（FP），你可以选择使用 Lodash fp, 即 Lodash 的函数式版本（方法改为 <code>get</code> 或 <code>getOr</code>）。</p>\n<h3>4、选择 Map 或对象字面量，而不是 Switch 语句</h3>\n<p>让我们看看下面的例子，我们想要基于颜色打印水果名称：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e94053f844151184\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction test(color) {\r\n  // use switch case to find fruits in color\r\n  switch (color) {\r\n    case 'red':\r\n      return ['apple', 'strawberry'];\r\n    case 'yellow':\r\n      return ['banana', 'pineapple'];\r\n    case 'purple':\r\n      return ['grape', 'plum'];\r\n    default:\r\n      return [];\r\n  }\r\n}\r\n\r\n//test results\r\ntest(null); // []\r\ntest('yellow'); // ['banana', 'pineapple']</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053f844151184-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053f844151184-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053f844151184-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053f844151184-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053f844151184-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053f844151184-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053f844151184-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053f844151184-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053f844151184-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053f844151184-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053f844151184-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053f844151184-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053f844151184-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053f844151184-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053f844151184-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94053f844151184-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94053f844151184-17\">17</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e94053f844151184-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053f844151184-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// use switch case to find fruits in color</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94053f844151184-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">switch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053f844151184-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">case</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94053f844151184-5\"><span class=\"crayon-h\">      </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053f844151184-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">case</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94053f844151184-7\"><span class=\"crayon-h\">      </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pineapple'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053f844151184-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">case</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94053f844151184-9\"><span class=\"crayon-h\">      </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'plum'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053f844151184-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">default</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94053f844151184-11\"><span class=\"crayon-h\">      </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053f844151184-12\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94053f844151184-13\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053f844151184-14\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e94053f844151184-15\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94053f844151184-16\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// []</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94053f844151184-17\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// ['banana', 'pineapple']</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0020 seconds] -->\r\n<p>上面的代码似乎没有什么问题，但我发现它相当冗长。同样的结果可以通过对象字面量和更简洁的语法来实现：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e940543660651927\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// use object literal to find fruits in color\r\n  const fruitColor = {\r\n    red: ['apple', 'strawberry'],\r\n    yellow: ['banana', 'pineapple'],\r\n    purple: ['grape', 'plum']\r\n  };\r\n\r\nfunction test(color) {\r\n  return fruitColor[color] || [];\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e940543660651927-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940543660651927-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940543660651927-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940543660651927-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940543660651927-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940543660651927-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940543660651927-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940543660651927-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940543660651927-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940543660651927-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e940543660651927-1\"><span class=\"crayon-c\">// use object literal to find fruits in color</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940543660651927-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruitColor</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940543660651927-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">red</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940543660651927-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">yellow</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pineapple'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940543660651927-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">purple</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'plum'</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940543660651927-6\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940543660651927-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940543660651927-8\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940543660651927-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruitColor</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940543660651927-10\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>或者，可以使用 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\">Map</a> 来实现相同的结果：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e940547336492665\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// use Map to find fruits in color\r\n  const fruitColor = new Map()\r\n    .set('red', ['apple', 'strawberry'])\r\n    .set('yellow', ['banana', 'pineapple'])\r\n    .set('purple', ['grape', 'plum']);\r\n\r\nfunction test(color) {\r\n  return fruitColor.get(color) || [];\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e940547336492665-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940547336492665-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940547336492665-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940547336492665-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940547336492665-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940547336492665-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940547336492665-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940547336492665-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940547336492665-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e940547336492665-1\"><span class=\"crayon-c\">// use Map to find fruits in color</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940547336492665-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruitColor</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Map</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940547336492665-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">set</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940547336492665-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">set</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pineapple'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940547336492665-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">set</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'plum'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940547336492665-6\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e940547336492665-7\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940547336492665-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruitColor</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">get</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940547336492665-9\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n<p>Map 是 ES2015 以后可用的对象类型，允许您存储键值对。</p>\n<p>我们应该禁止使用 switch 语句吗？不要把自己局限于此。就我个人而言，我尽可能地使用对象字面量，但是我不会设置严格的规则来阻止它，使用对您的场景有意义的任何一个。</p>\n<p>Todd Motto 有一篇文章深入讨论 switch 语句与对象字面量，你可以在 <a href=\"https://toddmotto.com/deprecating-the-switch-statement-for-object-literals/\">这里</a> 阅读。</p>\n<h3>TL;DR; 重构的语法</h3>\n<p>对于上面的示例，我们实际上可以重构代码，以使用 <code>Array.filter</code> 获得相同的结果。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e94054b419580384\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nconst fruits = [\r\n   { name: 'apple', color: 'red' },\r\n   { name: 'strawberry', color: 'red' },\r\n   { name: 'banana', color: 'yellow' },\r\n   { name: 'pineapple', color: 'yellow' },\r\n   { name: 'grape', color: 'purple' },\r\n   { name: 'plum', color: 'purple' }\r\n];\r\n\r\nfunction test(color) {\r\n // use Array filter to find fruits in color\r\n\r\n return fruits.filter(f =&gt; f.color == color);\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054b419580384-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054b419580384-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054b419580384-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054b419580384-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054b419580384-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054b419580384-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054b419580384-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054b419580384-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054b419580384-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054b419580384-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054b419580384-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054b419580384-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054b419580384-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054b419580384-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e94054b419580384-1\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054b419580384-2\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054b419580384-3\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054b419580384-4\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054b419580384-5\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pineapple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054b419580384-6\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054b419580384-7\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'plum'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054b419580384-8\"><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054b419580384-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054b419580384-10\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054b419580384-11\"><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// use Array filter to find fruits in color</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054b419580384-12\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e94054b419580384-13\"><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">filter</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">f</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">color</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054b419580384-14\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0029 seconds] -->\r\n<p>总有不止一种方法可以达到同样的效果。我们展示了 4 个相同效果的例子。编码是有趣的！</p>\n<h3>5、所有或部分使用 Array.every &amp; Array.some 的条件</h3>\n<p>最后一个技巧是关于使用新的（但不是很新）Javascript 数组函数来减少代码行。看看下面的代码，我们想检查所有的水果是否都是红色的:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e94054e483971670\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nconst fruits = [\r\n    { name: 'apple', color: 'red' },\r\n    { name: 'banana', color: 'yellow' },\r\n    { name: 'grape', color: 'purple' }\r\n  ];\r\n\r\nfunction test() {\r\n  let isAllRed = true;\r\n\r\n  // condition: all fruits must be red\r\n  for (let f of fruits) {\r\n    if (!isAllRed) break;\r\n    isAllRed = (f.color == 'red');\r\n  }\r\n\r\n  console.log(isAllRed); // false\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054e483971670-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054e483971670-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054e483971670-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054e483971670-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054e483971670-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054e483971670-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054e483971670-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054e483971670-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054e483971670-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054e483971670-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054e483971670-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054e483971670-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054e483971670-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054e483971670-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054e483971670-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e94054e483971670-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e94054e483971670-17\">17</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e94054e483971670-1\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054e483971670-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054e483971670-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054e483971670-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054e483971670-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054e483971670-6\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e94054e483971670-7\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054e483971670-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">let </span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054e483971670-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054e483971670-10\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition: all fruits must be red</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054e483971670-11\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">of </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054e483971670-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">break</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054e483971670-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">f</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">color</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054e483971670-14\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054e483971670-15\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e94054e483971670-16\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// false</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e94054e483971670-17\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0028 seconds] -->\r\n<p>代码太长了！我们可以用 <code>Array.every</code> 来减少行数：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e940552831163085\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nconst fruits = [\r\n    { name: 'apple', color: 'red' },\r\n    { name: 'banana', color: 'yellow' },\r\n    { name: 'grape', color: 'purple' }\r\n  ];\r\n\r\nfunction test() {\r\n  // condition: short way, all fruits must be red\r\n  const isAllRed = fruits.every(f =&gt; f.color == 'red');\r\n\r\n  console.log(isAllRed); // false\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e940552831163085-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940552831163085-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940552831163085-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940552831163085-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940552831163085-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940552831163085-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940552831163085-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940552831163085-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940552831163085-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940552831163085-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940552831163085-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940552831163085-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e940552831163085-1\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940552831163085-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940552831163085-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940552831163085-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940552831163085-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940552831163085-6\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e940552831163085-7\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940552831163085-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition: short way, all fruits must be red</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940552831163085-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">every</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">f</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">color</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940552831163085-10\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e940552831163085-11\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// false</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940552831163085-12\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0024 seconds] -->\r\n<p>现在干净多了，对吧？类似地，如果我们想用一行代码来判断任何一个水果是否为红色，我们可以使用 <code>Array.some</code>。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ce080e940555751270799\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nconst fruits = [\r\n    { name: 'apple', color: 'red' },\r\n    { name: 'banana', color: 'yellow' },\r\n    { name: 'grape', color: 'purple' }\r\n];\r\n\r\nfunction test() {\r\n  // condition: if any fruit is red\r\n  const isAnyRed = fruits.some(f =&gt; f.color == 'red');\r\n\r\n  console.log(isAnyRed); // true\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ce080e940555751270799-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940555751270799-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940555751270799-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940555751270799-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940555751270799-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940555751270799-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940555751270799-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940555751270799-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940555751270799-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940555751270799-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ce080e940555751270799-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ce080e940555751270799-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ce080e940555751270799-1\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940555751270799-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940555751270799-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940555751270799-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940555751270799-5\"><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940555751270799-6\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e940555751270799-7\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940555751270799-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition: if any fruit is red</span></div><div class=\"crayon-line\" id=\"crayon-5ce080e940555751270799-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">isAnyRed</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">some</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">f</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">color</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940555751270799-10\"> </div><div class=\"crayon-line\" id=\"crayon-5ce080e940555751270799-11\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">isAnyRed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// true</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ce080e940555751270799-12\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0023 seconds] -->\r\n<p></p>\n<h3>总结</h3>\n<p>让我们一起生成更多可读的代码。我希望你能从这篇文章中学到一些新的东西。</p>\n<p>这就是本文的全部内容~ 编码快乐!</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114671\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114671votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114671\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx3433627156\">Mr.Dcheng</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx3433627156\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2018/12/747ada908bac5a5114f6ea7d7bb20018.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Electrical engineer. Financial investor. JavaWeb developer. Mathematical modeling and quantification. Speak Mandarin, Java, JavaScript, Vue.js and mor...        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/wx3433627156\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/wx3433627156/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"我的网站\" target=\"_blank\" href=\"http://www.dcheng.site\"><i class=\"fa fa-link\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/clxering\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_path": "full/5a76634d870517b1f92d5e03b3aa6c2f61d94f9e.jpg"}